!function(e){var t={};function r(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,r),u.l=!0,u.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=14)}([function(e,t,r){"use strict";function n(e){return e}function u(e){return Object.keys(e)}var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){var t=new i;return e.forEach(function(e){return t.add(e)}),t}}(o||(o={}));var i=function(){function e(){this.items=[],this.index={}}return e.create=function(t){var r=new e;return t.forEach(function(e){return r.add(e)}),r},e.prototype.size=function(){return this.items.length},e.prototype.toArray=function(){return this.items.concat([])},e.prototype.copy=function(){return o.create(this.items)},e.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++){if(!e(this.items[t]))return}},e.prototype.equals=function(e){return e.size()==this.size()&&this.items.every(function(t){return e.contains(t)})},e.prototype.all=function(e){for(var t=this.items,r=t.length,n=0;n<r;n++){if(!e(t[n]))return!1}return!0},e.prototype.map=function(t){var r=new e;return this.items.forEach(function(e){return r.add(t(e))}),r},e.prototype.contains=function(e){var t=e.toString();return this.containsHash(t)},e.prototype.add=function(e){var t=e.toString();return!this.containsHash(t)&&(this.index[t]={index:this.items.length,value:e},this.items.push(e),!0)},e.prototype.remove=function(e){var t=e.toString(),r=this.index[t];if(null==r)return!1;delete this.index[t];for(var n=r.index+1;n<this.items.length;n++)this.index[this.items[n].toString()].index--;return this.items.splice(r.index,1),!0},e.prototype.union=function(t){var r=new e;return this.forEach(function(e){return r.add(e)}),t.forEach(function(e){return r.add(e)}),r},e.prototype.intersection=function(t){var r=new e;return this.forEach(function(e){return t.contains(e)&&r.add(e),!0}),r},e.prototype.subtract=function(t){var r=new e;return this.forEach(function(e){return t.contains(e)||r.add(e),!0}),r},e.prototype.isSubsetOf=function(e){for(var t=0;t<this.items.length;t++){var r=this.items[t];if(!e.contains(r))return!1}return!0},e.prototype.isDisjoint=function(e){for(var t=0;t<this.items.length;t++){var r=this.items[t];if(e.contains(r))return!1}return!0},e.prototype.containsHash=function(e){return Object.hasOwnProperty.call(this.index,e)},e}();function a(e){return e.indexOf("'")<0?"'"+e+"'":'"'+e.replace('"','\\"')+'"'}t.quote=a,function(e){function t(e){return"null"===e.type}function r(e){return"string"===e.type}function i(e){return"number"===e.type}function c(e){return"boolean"===e.type}function s(e){return"array"===e.type}function p(e){return"object"===e.type}function f(e){return"union"===e.type}function l(e){return"nullable"===e.type}function y(e){return"map"===e.type}function d(e){return"named"===e.type}function h(e){return"any"===e.type}function v(e){return function e(o,v,b){for(var _=0;_<v.length;_++)if(v[_]===o){var T=b.map[_];return null==T&&(T=b.map[_]=b.current,b.current++),"{$"+T+"}"}if(t(o))return"Null";if(r(o))return null==o.value?"String":"String<"+a(o.value)+">";if(i(o))return"Number";if(h(o))return"Any";if(c(o))return"Boolean";if(d(o))return"Named<"+o.name+">";if(y(o))return"Map<"+e(o.value,v.concat([o]),b)+">";if(l(o))return"Nullable<"+e(o.subtype,v.concat([o]),b)+">";if(s(o))return"Array<"+e(o.contained,v.concat([o]),b)+">";if(p(o)){if(null==o.spec)return"Object";var g=v.concat([o]),O=u(o.spec);O.sort();for(var R=[],x=0,w=O;x<w.length;x++){var S=w[x];if(m.hasOwnProperty.call(o.spec,S)){var j=e(o.spec[S],g,b);R.push(a(S)+": "+j)}}return"{"+R.join(", ")+"}"}if(f(o)){g=v.concat([o]);for(var E=[],A=0,P=o.types;A<P.length;A++){var M=e(P[A],g,b);E.push(M)}return E.join("|")}return n(o)}(e,[],{current:0,map:{}})}function b(e){return{type:"map",value:e}}function _(r){for(;"nullable"===r.type;)r=r.subtype;return t(r)?e.Null:h(r)?e.Any:{type:"nullable",subtype:r}}function T(e){return{type:"array",contained:e}}function m(e){return{type:"object",spec:e||null}}function g(t){for(var r=[],n=0,u=t;n<u.length;n++){var o=u[n];if(h(o))return e.Any;f(o)?o.types.forEach(function(e){return r.push(e)}):r.push(o)}return r.length>0&&function(e){return e.every(function(e){return l(e)})}(r)?_(g(r.map(function(e){return e.subtype}))):{type:"union",types:r}}function O(e,n){return function e(n,a,b){for(var _=0;_<b.length;_++){var T=b[_];if(n===T.a&&a===T.b)return!0}if(t(n)&&t(a))return!0;if(r(n)&&r(a))return n.value===a.value;if(h(n)&&h(a))return!0;if(i(n)&&i(a))return!0;if(c(n)&&c(a))return!0;if(d(n)&&d(a))return n.name===a.name;if(l(n)&&l(a))return e(n.subtype,a.subtype,b.concat([{a:n,b:a}]));if(y(n)&&y(a))return e(n.value,a.value,b.concat([{a:n,b:a}]));if(s(n)&&s(a))return e(n.contained,a.contained,b.concat([{a:n,b:a}]));if(p(n)&&p(a)){var m=n.spec,g=a.spec;if(null==m&&null==g)return!0;if(null!=m&&null!=g){var O=o.create(u(m)),R=o.create(u(g)),x=O.intersection(R);if(x.size()!==O.size())return!1;var w=b.concat([{a:n,b:a}]);return x.all(function(t){return e(m[t],g[t],w)})}}else if(f(n)&&f(a)){var S=n.types,j=a.types;if(S.sort(function(e,t){return v(e).localeCompare(v(t))}),j.sort(function(e,t){return v(e).localeCompare(v(t))}),S.length!==j.length)return!1;var E=b.concat([{a:n,b:a}]);for(_=0;_<S.length;_++)if(!e(S[_],j[_],E))return!1;return!0}return!1}(e,n,[])}e.isNull=t,e.isString=r,e.isNumber=i,e.isBoolean=c,e.isArray=s,e.isObject=p,e.isUnion=f,e.isNullable=l,e.isMap=y,e.isNamed=d,e.isAny=h,e.toString=v,e.Any={type:"any"},e.Null={type:"null"},e.Number={type:"number"},e.String={type:"string",value:null},e.StringValue=function(e){return{type:"string",value:e}},e.Boolean={type:"boolean"},e.Map=b,e.Nullable=_,e.Array=T,e.Object=m,e.Named=function(e){return{type:"named",name:e}},e.Union=g,e.equals=O,e.combine=function n(a,v){if(l(a)){if(l(v)){var T=n(a.subtype,v.subtype);if(null!=T)return _(T)}}else if(t(a)){if(t(v))return e.Null}else if(i(a)){if(i(v))return e.Number}else if(r(a)){if(r(v))return e.String}else if(c(a)){if(c(v))return e.Boolean}else if(f(a)){if(O(a,v))return a}else if(s(a)){if(s(v))return a}else{if(h(a)&&h(v))return a;if(d(a)&&d(v))return a.name===v.name?a:null;if(y(a)&&y(v)){var g=n(a.value,v.value);if(null!=g)return b(g)}else if(p(a)&&p(v)){var R=a.spec,x=v.spec;if(null==R&&null==x)return a;if(null==R||null==x)return null;var w=o.create(u(R)),S=o.create(u(x)),j={};return w.union(S).all(function(e){var t=R[e],r=x[e];if(null!=t&&null!=r){var u=n(t,r);if(null==u)return!1;j[e]=u}else j[e]=null!=t?t:r;return!0})?m(j):null}}return null},e.unify=function e(r,u){return(t(r)||l(r))&&(t(u)||l(u))?l(r)&&l(u)?_(e(r.subtype,u.subtype)):l(r)?r:l(u)?u:t(r)?u:t(u)?r:(n(r),n(u)):t(r)||l(r)?t(r)?_(u):l(r)?_(e(r.subtype,u)):n(r):t(u)||l(u)?t(u)?_(r):l(u)?_(e(r,u.subtype)):n(u):g([r,u])},e.infer=function t(r){if("number"==typeof r)return e.Number;if("string"==typeof r)return e.String;if("boolean"==typeof r)return e.Boolean;if(null==r)return e.Null;if(r&&"number"==typeof r.length){for(var n=[],u=0;u<r.length;u++){for(var o=t(r[u]),i=!1,a=0;a<n.length;a++)if(O(n[a],o)){i=!0;break}i||n.push(o)}return 1===n.length?T(n[0]):T(g(n))}return"object"==typeof r?m():e.Any}}(t.Types||(t.Types={}))},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=r(2),a=r(0),c=function(){function e(){}return e.prototype.withDefault=function(e){return new s(this,e)},e.prototype.asOptional=function(){return new f(this)},e.prototype.or=function(e){return new p(this,e)},e}();t.AbstractReader=c;var s=function(e){function t(t,r){var n=e.call(this)||this;return n.reader=t,n.default=r,n.expectedType=t.expectedType,n}return u(t,e),t.prototype.read=function(e){var t=this;return i.Result.success(this.reader.read(e).map(function(e){return e},function(){return t.default}))},t}(c);t.DefaultReader=s;var p=function(e){function t(t,r){var n=e.call(this)||this;return n.readerA=t,n.readerB=r,n.expectedType=a.Types.Union([t.expectedType,r.expectedType]),n}return u(t,e),t.prototype.read=function(e){var t=this;return this.readerA.read(e).map(function(e){return i.Result.success(e)},function(r){return t.readerB.read(e).mapFailure(function(n){return o.InvalidTypeError.create(e,a.Types.toString(t.expectedType),function(e){var t=a.Types.infer(e);return null!=t?a.Types.toString(t):"Unknown"}(e),o.ErrorGroup.create(e,[r,n]))})})},t}(c);t.OrReader=p;var f=function(e){function t(t){var r=e.call(this,t,null)||this;return r.expectedType=a.Types.Nullable(t.expectedType),r}return u(t,e),t}(s);t.OptionalReader=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13),u=r(12),o=r(11);!function(e){e.success=function(e){return new n.ResultSuccessImpl(e)},e.failure=function(e){return new u.ResultFailureImpl(e)},e.all=function(t){for(var r=[],n=[],u=0;u<t.length;u++){var i=t[u];if(i.isSuccess())r.push(i);else{if(!i.isFailure())return o.unreachable("A result must either be a success or a failure.");n.push(i)}}return n.length>0?e.failure(n.map(function(e){return e.error})):e.success(r.map(function(e){return e.value}))}}(t.Result||(t.Result={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e,t){return{type:"array-error",index:e,error:t}}}(t.ArrayChildError||(t.ArrayChildError={})),function(e){e.create=function(e,t){return{type:"error-group",value:e,errors:t}}}(t.ErrorGroup||(t.ErrorGroup={})),function(e){e.create=function(e,t){return{type:"inconsistent-types",value:e,found:t}}}(t.InconsistentTypesError||(t.InconsistentTypesError={})),function(e){e.create=function(e,t,r,n){return{type:"invalid-type",expected:t,actual:r,value:e,error:n||null}}}(t.InvalidTypeError||(t.InvalidTypeError={}))},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(3)),a=r(1),c=r(0),s=function(e){function t(t,r){var n=e.call(this)||this;n.property=t,n.reader=r;var u={};return u[t]=r.expectedType,console.log("Extract",t,"of type",r.expectedType),n.expectedType=c.Types.Object(u),console.log("Computed expected type is",n.expectedType),n}return u(t,e),t.prototype.read=function(e){var t=this;return e&&Object.hasOwnProperty.call(e,this.property)?this.reader.read(e[this.property]):this.reader.read(null).mapFailure(function(){var r=c.Types.infer(e),n=r&&c.Types.toString(r)||"Unknown";return i.InvalidTypeError.create(e,c.Types.toString(t.expectedType),n)})},t}(a.AbstractReader);t.ExtractReader=s},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(0),a=r(2),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expectedType=i.Types.Any,t}return u(t,e),t.prototype.read=function(e){return a.Result.success(e)},t}(o.AbstractReader);t.AnyReader=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),u=r(2),o=r(0),i=function(){function e(e){this.valueReader=e,this.expectedType=o.Types.Map(e.expectedType)}return e.prototype.read=function(e){if("object"==typeof e){var t={};for(var r in e)if(Object.hasOwnProperty.call(e,r)){var i=e[r],a=this.valueReader.read(i);if(!a.isSuccess()){var c="{"+o.quote(r)+": Unknown}",s={},p=o.Types.infer(i);return null!=p&&(s[r]=p,c=o.Types.toString(o.Types.Object(s))),u.Result.failure(n.InvalidTypeError.create(e,o.Types.toString(this.expectedType),c,a.isFailure()?a.error:void 0))}t[r]=a.value}return u.Result.success(t)}var f=o.Types.infer(e);return u.Result.failure(n.InvalidTypeError.create(e,o.Types.toString(this.expectedType),f&&o.Types.toString(f)||"Unknown"))},e}();t.MapReader=i},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(3)),a=r(2),c=r(1),s=r(4),p=r(0),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expectedType=p.Types.Object({}),t}return u(t,e),t.prototype.isEmpty=function(){return!0},t.prototype.put=function(e,t){return new l(e,t,this)},t.prototype.prop=function(e,t){return new l(e,new s.ExtractReader(e,t),this)},t.prototype.read=function(){return a.Result.success({})},t}(c.AbstractReader);t.EmptyObjectConstructor=f;var l=function(){function e(e,t,r){var n=p.Types.combine(r.expectedType,t.expectedType);if(null==n)throw Error("Unable to combine types: "+r.expectedType.toString()+" and "+t.expectedType.toString());this.expectedType=n,this.property=e,this.reader=t,this.base=r}return e.prototype.isEmpty=function(){return!1},e.prototype.put=function(t,r){return new e(t,r,this)},e.prototype.prop=function(t,r){return new e(t,new s.ExtractReader(t,r),this)},e.prototype.read=function(e){var t=this;return this.base.read(e).flatMap(function(r){return t.reader.read(e).mapSuccess(function(e){var n=r;return n[t.property]=e,n})},function(r){if("invalid-type"==r.type){var n=p.Types.infer(e),u=n&&p.Types.toString(n)||"Unknown";return a.Result.failure(i.InvalidTypeError.create(e,p.Types.toString(t.expectedType),u,r))}return a.Result.failure(r)})},e}();t.ObjectConstructor=l},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i,a=o(r(3)),c=r(2),s=r(1),p=r(0);!function(e){e.create=function(e){return{type:"enum-no-match",validValues:e}}}(i||(i={}));var f=function(){function e(){this.expectedType=p.Types.Union([]),this.expectedValues=[]}return e.prototype.isEmpty=function(){return!0},e.prototype.case=function(e){return new l(e,this)},e.prototype.read=function(e){if("string"!=typeof e){var t=p.Types.infer(e),r=t&&p.Types.toString(t)||"Unknown";return c.Result.failure(a.InvalidTypeError.create(e,p.Types.toString(p.Types.String),r))}return c.Result.failure(i.create([]))},e}(),l=function(){function e(e,t){this.value=e,this.baseReader=t,this.expectedValues=t.expectedValues.concat([e])}return e.prototype.isEmpty=function(){return!1},e.prototype.case=function(t){return new e(t,this)},e.prototype.read=function(e){var t=this;if("string"!=typeof e){var r=p.Types.infer(e),n=r&&p.Types.toString(r)||"Unknown";return c.Result.failure(a.InvalidTypeError.create(e,p.Types.toString(p.Types.String),n))}return e===this.value?c.Result.success(this.value):this.baseReader.read(e).mapFailure(function(e){return"enum-no-match"===e.type?i.create(e.validValues.concat([t.value])):e})},e}(),y=function(e){function t(t){var r=e.call(this)||this;return r.base=t,r.expectedType=p.Types.Union(t.expectedValues.map(function(e){return p.Types.StringValue(e)})),r}return u(t,e),t.create=function(){return new t(new f)},t.prototype.case=function(e){return new t(this.base.case(e))},t.prototype.read=function(e){var t=this;return this.base.read(e).mapFailure(function(r){if("enum-no-match"===r.type){var n=p.Types.infer(e),u=n&&p.Types.toString(n)||"Unknown";return a.InvalidTypeError.create(e,p.Types.toString(t.expectedType),u)}return r})},t}(s.AbstractReader);t.EnumReader=y},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=r(2),a=r(1),c=r(0),s=function(e){function t(t){var r=e.call(this)||this;return r.reader=t,r.expectedType=c.Types.Array(t.expectedType),r}return u(t,e),t.prototype.read=function(e){var t=this;if(e&&"number"==typeof e.length){var r=e.map(function(e,r){return t.reader.read(e).mapFailure(function(e){return{index:r,error:e}})});return i.Result.all(r),i.Result.all(r).mapFailure(function(t){return o.ErrorGroup.create(e,t.map(function(e){return o.ArrayChildError.create(e.index,e.error)}))})}var n=c.Types.infer(e),u=n&&c.Types.toString(n)||"Unknown";return i.Result.failure(o.InvalidTypeError.create(e,this.expectedType.toString(),u))},t}(a.AbstractReader);t.ArrayReader=s},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=r(2),a=r(1),c=r(0);!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expectedType=c.Types.Boolean,t}return u(t,e),t.prototype.read=function(e){if("boolean"==typeof e)return i.Result.success(e);var t=c.Types.infer(e),r=t&&c.Types.toString(t)||"Unknown";return i.Result.failure(o.InvalidTypeError.create(e,c.Types.toString(this.expectedType),r))},t}(a.AbstractReader);e.BooleanReader=t;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expectedType=c.Types.String,t}return u(t,e),t.prototype.read=function(e){if("string"==typeof e)return i.Result.success(e);var t=c.Types.infer(e),r=t&&c.Types.toString(t)||"Unknown";return i.Result.failure(o.InvalidTypeError.create(e,c.Types.toString(this.expectedType),r))},t}(a.AbstractReader);e.StringReader=r;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expectedType=c.Types.Number,t}return u(t,e),t.prototype.read=function(e){if("number"==typeof e)return i.Result.success(e);var t=c.Types.infer(e),r=t&&c.Types.toString(t)||"Unknown";return i.Result.failure(o.InvalidTypeError.create(e,c.Types.toString(this.expectedType),r))},t}(a.AbstractReader);e.NumberReader=n}(t.PrimitiveReaders||(t.PrimitiveReaders={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unreachable=function(e){throw Error("FATAL ERROR (UNREACHABLE)"+(e&&": "+e||""))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.type="failure",this.error=e}return e.prototype.isSuccess=function(){return!1},e.prototype.isFailure=function(){return!0},e.prototype.assertSuccess=function(){throw Error("Result is not a Success result.")},e.prototype.assertFailure=function(){return this.error},e.prototype.map=function(e,t){return t(this.error)},e.prototype.flatMap=function(e,t){return t(this.error)},e.prototype.mapSuccess=function(t){return new e(this.error)},e.prototype.mapFailure=function(t){return new e(t(this.error))},e}();t.ResultFailureImpl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.type="success",this.value=e}return e.prototype.isSuccess=function(){return!0},e.prototype.isFailure=function(){return!1},e.prototype.assertSuccess=function(){return this.value},e.prototype.assertFailure=function(){throw Error("Result is not a Failure result.")},e.prototype.map=function(e,t){return e(this.value)},e.prototype.flatMap=function(e,t){return e(this.value)},e.prototype.mapSuccess=function(t){return new e(t(this.value))},e.prototype.mapFailure=function(t){return new e(this.value)},e}();t.ResultSuccessImpl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),u=r(10),o=r(9),i=r(4),a=r(8),c=r(7),s=r(6),p=r(5),f=r(1);t.AbstractReader=f.AbstractReader;var l=r(0);t.Types=l.Types,function(e){e.number=new u.PrimitiveReaders.NumberReader,e.string=new u.PrimitiveReaders.StringReader,e.boolean=new u.PrimitiveReaders.BooleanReader,e.anything=new p.AnyReader,e.optional=function(e){return new n.OptionalReader(e)},e.array=function(e){return new o.ArrayReader(e)},e.extract=function(e,t){return new i.ExtractReader(e,t)},e.enumeration=function(){return a.EnumReader.create()},e.map=function(e){return new s.MapReader(e)},e.obj=function(){return new c.EmptyObjectConstructor}}(t.TsJson||(t.TsJson={}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9zcmMvanN0eXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9yZWFkZXJzL2Fic3RyYWN0LXJlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9yZXN1bHQvcmVzdWx0LmpzIiwid2VicGFjazovLy8uL2Rpc3Qvc3JjL2Vycm9ycy9kZWNvZGluZy9kZWNvZGluZy1lcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9yZWFkZXJzL2V4dHJhY3QtcmVhZGVyLmpzIiwid2VicGFjazovLy8uL2Rpc3Qvc3JjL3JlYWRlcnMvYW55LXJlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9yZWFkZXJzL21hcC1yZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9zcmMvcmVhZGVycy9vYmplY3QtcmVhZGVyLmpzIiwid2VicGFjazovLy8uL2Rpc3Qvc3JjL3JlYWRlcnMvZW51bS1yZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9zcmMvcmVhZGVycy9hcnJheS1yZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9zcmMvcmVhZGVycy9wcmltaXRpdmUtcmVhZGVycy5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy91bnJlYWNoYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9yZXN1bHQvZmFpbHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9yZXN1bHQvc3VjY2Vzcy5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidW5yZWFjaGFibGUiLCJhIiwiT2JqZWN0S2V5cyIsIm9iaiIsImtleXMiLCJTZXRzIiwiY3JlYXRlIiwiYXJyYXkiLCJzZXQiLCJTZXRJbXBsIiwiZm9yRWFjaCIsInYiLCJhZGQiLCJ0aGlzIiwiaXRlbXMiLCJpbmRleCIsInNpemUiLCJsZW5ndGgiLCJ0b0FycmF5IiwiY29uY2F0IiwiY29weSIsImYiLCJlcXVhbHMiLCJvdGhlciIsImV2ZXJ5IiwiaXRlbSIsImNvbnRhaW5zIiwiYWxsIiwibWFwIiwib3V0cHV0IiwiaGFzaCIsInRvU3RyaW5nIiwiY29udGFpbnNIYXNoIiwicHVzaCIsInJlbW92ZSIsInZhbHVlSGFzaCIsImV4aXN0aW5nSXRlbSIsInNwbGljZSIsInVuaW9uIiwiaW50ZXJzZWN0aW9uIiwic3VidHJhY3QiLCJpc1N1YnNldE9mIiwiaXNEaXNqb2ludCIsInF1b3RlIiwiaW5kZXhPZiIsInJlcGxhY2UiLCJUeXBlcyIsImlzTnVsbCIsInR5cGUiLCJpc1N0cmluZyIsImlzTnVtYmVyIiwiaXNCb29sZWFuIiwiaXNBcnJheSIsImlzT2JqZWN0IiwiaXNVbmlvbiIsImlzTnVsbGFibGUiLCJpc01hcCIsImlzTmFtZWQiLCJpc0FueSIsInRvU3RyaW5nSW50ZXJuYWwiLCJ2aXNpdGVkIiwiaW5kaWNlcyIsInJlc29sdmVkUmVjdXJzaW9uSW5kZXgiLCJjdXJyZW50Iiwic3VidHlwZSIsImNvbnRhaW5lZCIsInNwZWMiLCJuZXdWaXNpdGVkIiwic29ydCIsImtleVBhaXJzIiwiX2kiLCJrZXlzXzEiLCJrZXkiLCJ2YWx1ZVN0ciIsImpvaW4iLCJ0eXBlU3RyaW5ncyIsIl9hIiwiX2IiLCJ0eXBlcyIsInR5cGVTdHIiLCJNYXAiLCJOdWxsYWJsZSIsIk51bGwiLCJBbnkiLCJBcnJheSIsIlVuaW9uIiwidW5wYWNrZWRUeXBlcyIsInR5cGVzXzEiLCJ0IiwiYWxsTnVsbGFibGUiLCJiIiwiZXF1YWxzSW50ZXJuYWwiLCJ2ZXJpZmllZCIsInZlcmlmaWVkVHlwZSIsImFTcGVjXzEiLCJiU3BlY18xIiwiYUtleXMiLCJiS2V5cyIsIm5ld1ZlcmlmaWVkXzEiLCJzb3J0ZWRBVHlwZXMiLCJzb3J0ZWRCVHlwZXMiLCJsb2NhbGVDb21wYXJlIiwibmV3VmVyaWZpZWQiLCJOdW1iZXIiLCJTdHJpbmciLCJTdHJpbmdWYWx1ZSIsIkJvb2xlYW4iLCJOYW1lZCIsImNvbWJpbmUiLCJjb21iaW5lZFN1YnR5cGUiLCJjb21iaW5lZFZhbHVlIiwiYVNwZWNfMiIsImJTcGVjXzIiLCJhUHJvcGVydHlJU2V0IiwiYlByb3BlcnR5SVNldCIsImNvbWJpbmVkU3BlY18xIiwicHJvcCIsImFQcm9wIiwiYlByb3AiLCJjb21iaW5lZCIsInVuaWZ5IiwiaW5mZXIiLCJrbm93blR5cGVzIiwiaW5mZXJyZWQiLCJmb3VuZCIsImoiLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfXyIsImNvbnN0cnVjdG9yIiwiZGVjb2RpbmdfZXJyb3JfMSIsInJlc3VsdF8xIiwianN0eXBlc18xIiwiQWJzdHJhY3RSZWFkZXIiLCJ3aXRoRGVmYXVsdCIsIkRlZmF1bHRSZWFkZXIiLCJhc09wdGlvbmFsIiwiT3B0aW9uYWxSZWFkZXIiLCJvciIsIk9yUmVhZGVyIiwiX3N1cGVyIiwicmVhZGVyIiwiZGVmYXVsdFZhbHVlIiwiX3RoaXMiLCJkZWZhdWx0IiwiZXhwZWN0ZWRUeXBlIiwicmVhZCIsIlJlc3VsdCIsInN1Y2Nlc3MiLCJyZWFkZXJBIiwicmVhZGVyQiIsImZhaWx1cmUiLCJtYXBGYWlsdXJlIiwiZXJyb3IiLCJJbnZhbGlkVHlwZUVycm9yIiwiaW5mZXJPclVua25vd24iLCJFcnJvckdyb3VwIiwic3VjY2Vzc18xIiwiZmFpbHVyZV8xIiwidW5yZWFjaGFibGVfMSIsIlJlc3VsdFN1Y2Nlc3NJbXBsIiwiUmVzdWx0RmFpbHVyZUltcGwiLCJyZXN1bHRzIiwic3VjY2Vzc2VzIiwiZmFpbHVyZXMiLCJyZXN1bHQiLCJpc1N1Y2Nlc3MiLCJpc0ZhaWx1cmUiLCJBcnJheUNoaWxkRXJyb3IiLCJlcnJvcnMiLCJJbmNvbnNpc3RlbnRUeXBlc0Vycm9yIiwiZXhwZWN0ZWQiLCJhY3R1YWwiLCJmb3J3YXJkZWQiLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJrIiwiYWJzdHJhY3RfcmVhZGVyXzEiLCJFeHRyYWN0UmVhZGVyIiwiY29uc29sZSIsImxvZyIsInR5cGVTdHJpbmciLCJBbnlSZWFkZXIiLCJhcHBseSIsImFyZ3VtZW50cyIsIk1hcFJlYWRlciIsInZhbHVlUmVhZGVyIiwiZGVjb2RlZCIsImRlY29kZWRWYWx1ZSIsIm9ialNwZWMiLCJpbmZlcnJlZFR5cGVfMSIsInVuZGVmaW5lZCIsImluZmVycmVkVHlwZSIsImV4dHJhY3RfcmVhZGVyXzEiLCJFbXB0eU9iamVjdENvbnN0cnVjdG9yIiwiaXNFbXB0eSIsInB1dCIsIk9iamVjdENvbnN0cnVjdG9yIiwiYmFzZSIsImNvbWJpbmVkVHlwZSIsIkVycm9yIiwiZmxhdE1hcCIsImJhc2VTdWNjZXNzIiwibWFwU3VjY2VzcyIsInN1Y2Nlc3NPYmoiLCJFbnVtTm9NYXRjaEVycm9yIiwidmFsdWVzIiwidmFsaWRWYWx1ZXMiLCJFbXB0eUVudW1SZWFkZXIiLCJleHBlY3RlZFZhbHVlcyIsImNhc2UiLCJFbnVtVmFsdWVSZWFkZXIiLCJiYXNlUmVhZGVyIiwiRW51bVJlYWRlciIsIkFycmF5UmVhZGVyIiwiZSIsIlByaW1pdGl2ZVJlYWRlcnMiLCJCb29sZWFuUmVhZGVyIiwiU3RyaW5nUmVhZGVyIiwiTnVtYmVyUmVhZGVyIiwibWVzc2FnZSIsImFzc2VydFN1Y2Nlc3MiLCJhc3NlcnRGYWlsdXJlIiwicHJpbWl0aXZlX3JlYWRlcnNfMSIsImFycmF5X3JlYWRlcl8xIiwiZW51bV9yZWFkZXJfMSIsIm9iamVjdF9yZWFkZXJfMSIsIm1hcF9yZWFkZXJfMSIsImFueV9yZWFkZXJfMSIsImFic3RyYWN0X3JlYWRlcl8yIiwiVHNKc29uIiwibnVtYmVyIiwic3RyaW5nIiwiYm9vbGVhbiIsImFueXRoaW5nIiwib3B0aW9uYWwiLCJleHRyYWN0IiwiZW51bWVyYXRpb24iXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWpCLEdBQ0FZLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURrQixPQUFBLEtBSWpEcEIsRUFBQXFCLEVBQUEsU0FBQWxCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQW1CLFdBQ0EsV0FBMkIsT0FBQW5CLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFVLEVBQUFDLEdBQXNELE9BQUFWLE9BQUFXLFVBQUFDLGVBQUFuQixLQUFBZ0IsRUFBQUMsSUFHdER4QixFQUFBMkIsRUFBQSxHQUlBM0IsSUFBQTRCLEVBQUEsbUNDakVBLFNBQUFDLEVBQUFDLEdBQ0EsT0FBQUEsRUFFQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUFsQixPQUFBbUIsS0FBQUQsR0FFQSxJ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QUNBaVEsRUFBQWpRLEVBQUEsR0FDQWtRLEVBQUFsUSxFQUFBLEdBQ0FtUSxFQUFBblEsRUFBQSxHQUNBb1EsRUFBQXBRLEVBQUEsR0FDQUUsRUFBQWtLLGVBQUFnRyxFQUFBaEcsZUFDQSxJQUFBRCxFQUFBbkssRUFBQSxHQUNBRSxFQUFBeUUsTUFBQXdGLEVBQUF4RixNQUVBLFNBQUEwTCxHQUNBQSxFQUFBQyxPQUFBLElBQUFSLEVBQUFQLGlCQUFBRyxhQUNBVyxFQUFBRSxPQUFBLElBQUFULEVBQUFQLGlCQUFBRSxhQUNBWSxFQUFBRyxRQUFBLElBQUFWLEVBQUFQLGlCQUFBQyxjQUNBYSxFQUFBSSxTQUFBLElBQUFOLEVBQUE5QyxVQUlBZ0QsRUFBQUssU0FIQSxTQUFBOUYsR0FDQSxXQUFBb0MsRUFBQXhDLGVBQUFJLElBTUF5RixFQUFBak8sTUFIQSxTQUFBd0ksR0FDQSxXQUFBbUYsRUFBQVYsWUFBQXpFLElBTUF5RixFQUFBTSxRQUhBLFNBQUFuUCxFQUFBb0osR0FDQSxXQUFBb0QsRUFBQWYsY0FBQXpMLEVBQUFvSixJQU1BeUYsRUFBQU8sWUFIQSxXQUNBLE9BQUFaLEVBQUFaLFdBQUFqTixVQU1Ba08sRUFBQTVNLElBSEEsU0FBQWdLLEdBQ0EsV0FBQXlDLEVBQUExQyxVQUFBQyxJQU1BNEMsRUFBQXJPLElBSEEsV0FDQSxXQUFBaU8sRUFBQWhDLHdCQTFCQSxDQTZCQy9OLEVBQUFtUSxTQUFBblEsRUFBQW1RIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTQpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiB1bnJlYWNoYWJsZShhKSB7XG4gICAgcmV0dXJuIGE7XG59XG5mdW5jdGlvbiBPYmplY3RLZXlzKG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopO1xufVxudmFyIFNldHM7XG4oZnVuY3Rpb24gKFNldHMpIHtcbiAgICBmdW5jdGlvbiBjcmVhdGUoYXJyYXkpIHtcbiAgICAgICAgdmFyIHNldCA9IG5ldyBTZXRJbXBsKCk7XG4gICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHNldC5hZGQodik7IH0pO1xuICAgICAgICByZXR1cm4gc2V0O1xuICAgIH1cbiAgICBTZXRzLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKFNldHMgfHwgKFNldHMgPSB7fSkpO1xudmFyIFNldEltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2V0SW1wbCgpIHtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLmluZGV4ID0ge307XG4gICAgfVxuICAgIFNldEltcGwuY3JlYXRlID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIHZhciBzZXQgPSBuZXcgU2V0SW1wbCgpO1xuICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7IHJldHVybiBzZXQuYWRkKHYpOyB9KTtcbiAgICAgICAgcmV0dXJuIHNldDtcbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aDtcbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmNvbmNhdChbXSk7XG4gICAgfTtcbiAgICBTZXRJbXBsLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gU2V0cy5jcmVhdGUodGhpcy5pdGVtcyk7XG4gICAgfTtcbiAgICBTZXRJbXBsLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNbaV07XG4gICAgICAgICAgICBpZiAoIWYoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIuc2l6ZSgpID09IHRoaXMuc2l6ZSgpICYmIHRoaXMuaXRlbXMuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIG90aGVyLmNvbnRhaW5zKGl0ZW0pOyB9KTtcbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLmFsbCA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXM7XG4gICAgICAgIHZhciBsZW5ndGggPSBpdGVtcy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgICBpZiAoIWYoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBTZXRJbXBsLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoZikge1xuICAgICAgICB2YXIgb3V0cHV0ID0gbmV3IFNldEltcGwoKTtcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBvdXRwdXQuYWRkKGYoaXRlbSkpOyB9KTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBoYXNoID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbnNIYXNoKGhhc2gpO1xuICAgIH07XG4gICAgU2V0SW1wbC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBoYXNoID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5zSGFzaChoYXNoKSkge1xuICAgICAgICAgICAgdGhpcy5pbmRleFtoYXNoXSA9IHsgaW5kZXg6IHRoaXMuaXRlbXMubGVuZ3RoLCB2YWx1ZTogdmFsdWUgfTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTZXRJbXBsLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHZhbHVlSGFzaCA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciBleGlzdGluZ0l0ZW0gPSB0aGlzLmluZGV4W3ZhbHVlSGFzaF07XG4gICAgICAgIGlmIChleGlzdGluZ0l0ZW0gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluZGV4W3ZhbHVlSGFzaF07XG4gICAgICAgIGZvciAodmFyIGkgPSBleGlzdGluZ0l0ZW0uaW5kZXggKyAxOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5pbmRleFt0aGlzLml0ZW1zW2ldLnRvU3RyaW5nKCldLmluZGV4LS07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoZXhpc3RpbmdJdGVtLmluZGV4LCAxKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBTZXRJbXBsLnByb3RvdHlwZS51bmlvbiA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICB2YXIgb3V0cHV0ID0gbmV3IFNldEltcGwoKTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBvdXRwdXQuYWRkKGl0ZW0pOyB9KTtcbiAgICAgICAgb3RoZXIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gb3V0cHV0LmFkZChpdGVtKTsgfSk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbiAgICBTZXRJbXBsLnByb3RvdHlwZS5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IG5ldyBTZXRJbXBsKCk7XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKG90aGVyLmNvbnRhaW5zKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LmFkZChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLnN1YnRyYWN0ID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSBuZXcgU2V0SW1wbCgpO1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmICghb3RoZXIuY29udGFpbnMoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQuYWRkKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG4gICAgU2V0SW1wbC5wcm90b3R5cGUuaXNTdWJzZXRPZiA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1tpXTtcbiAgICAgICAgICAgIGlmICghb3RoZXIuY29udGFpbnMoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBTZXRJbXBsLnByb3RvdHlwZS5pc0Rpc2pvaW50ID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKG90aGVyLmNvbnRhaW5zKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgU2V0SW1wbC5wcm90b3R5cGUuY29udGFpbnNIYXNoID0gZnVuY3Rpb24gKGhhc2gpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuaW5kZXgsIGhhc2gpO1xuICAgIH07XG4gICAgcmV0dXJuIFNldEltcGw7XG59KCkpO1xuZnVuY3Rpb24gcXVvdGUocykge1xuICAgIGlmIChzLmluZGV4T2YoJ1xcJycpIDwgMCkge1xuICAgICAgICByZXR1cm4gXCInXCIgKyBzICsgXCInXCI7XG4gICAgfVxuICAgIHJldHVybiAnXCInICsgcy5yZXBsYWNlKCdcIicsICdcXFxcXCInKSArICdcIic7XG59XG5leHBvcnRzLnF1b3RlID0gcXVvdGU7XG52YXIgVHlwZXM7XG4oZnVuY3Rpb24gKFR5cGVzKSB7XG4gICAgZnVuY3Rpb24gaXNOdWxsKGEpIHtcbiAgICAgICAgcmV0dXJuIGEudHlwZSA9PT0gJ251bGwnO1xuICAgIH1cbiAgICBUeXBlcy5pc051bGwgPSBpc051bGw7XG4gICAgZnVuY3Rpb24gaXNTdHJpbmcoYSkge1xuICAgICAgICByZXR1cm4gYS50eXBlID09PSAnc3RyaW5nJztcbiAgICB9XG4gICAgVHlwZXMuaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgICBmdW5jdGlvbiBpc051bWJlcihhKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgPT09ICdudW1iZXInO1xuICAgIH1cbiAgICBUeXBlcy5pc051bWJlciA9IGlzTnVtYmVyO1xuICAgIGZ1bmN0aW9uIGlzQm9vbGVhbihhKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgPT09ICdib29sZWFuJztcbiAgICB9XG4gICAgVHlwZXMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGZ1bmN0aW9uIGlzQXJyYXkoYSkge1xuICAgICAgICByZXR1cm4gYS50eXBlID09PSAnYXJyYXknO1xuICAgIH1cbiAgICBUeXBlcy5pc0FycmF5ID0gaXNBcnJheTtcbiAgICBmdW5jdGlvbiBpc09iamVjdChhKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgPT09ICdvYmplY3QnO1xuICAgIH1cbiAgICBUeXBlcy5pc09iamVjdCA9IGlzT2JqZWN0O1xuICAgIGZ1bmN0aW9uIGlzVW5pb24oYSkge1xuICAgICAgICByZXR1cm4gYS50eXBlID09PSAndW5pb24nO1xuICAgIH1cbiAgICBUeXBlcy5pc1VuaW9uID0gaXNVbmlvbjtcbiAgICBmdW5jdGlvbiBpc051bGxhYmxlKGEpIHtcbiAgICAgICAgcmV0dXJuIGEudHlwZSA9PT0gJ251bGxhYmxlJztcbiAgICB9XG4gICAgVHlwZXMuaXNOdWxsYWJsZSA9IGlzTnVsbGFibGU7XG4gICAgZnVuY3Rpb24gaXNNYXAoYSkge1xuICAgICAgICByZXR1cm4gYS50eXBlID09PSAnbWFwJztcbiAgICB9XG4gICAgVHlwZXMuaXNNYXAgPSBpc01hcDtcbiAgICBmdW5jdGlvbiBpc05hbWVkKGEpIHtcbiAgICAgICAgcmV0dXJuIGEudHlwZSA9PT0gJ25hbWVkJztcbiAgICB9XG4gICAgVHlwZXMuaXNOYW1lZCA9IGlzTmFtZWQ7XG4gICAgZnVuY3Rpb24gaXNBbnkoYSkge1xuICAgICAgICByZXR1cm4gYS50eXBlID09PSAnYW55JztcbiAgICB9XG4gICAgVHlwZXMuaXNBbnkgPSBpc0FueTtcbiAgICBmdW5jdGlvbiB0b1N0cmluZ0ludGVybmFsKGEsIHZpc2l0ZWQsIGluZGljZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aXNpdGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodmlzaXRlZFtpXSA9PT0gYSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNvbHZlZFJlY3Vyc2lvbkluZGV4ID0gaW5kaWNlcy5tYXBbaV07XG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkUmVjdXJzaW9uSW5kZXggPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZFJlY3Vyc2lvbkluZGV4ID0gaW5kaWNlcy5tYXBbaV0gPSBpbmRpY2VzLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGluZGljZXMuY3VycmVudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gJ3skJyArIHJlc29sdmVkUmVjdXJzaW9uSW5kZXggKyAnfSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTnVsbChhKSkge1xuICAgICAgICAgICAgcmV0dXJuICdOdWxsJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1N0cmluZyhhKSkge1xuICAgICAgICAgICAgaWYgKGEudmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnU3RyaW5nJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnU3RyaW5nPCcgKyBxdW90ZShhLnZhbHVlKSArICc+JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc051bWJlcihhKSkge1xuICAgICAgICAgICAgcmV0dXJuICdOdW1iZXInO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQW55KGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ0FueSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNCb29sZWFuKGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ0Jvb2xlYW4nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTmFtZWQoYSkpIHtcbiAgICAgICAgICAgIHJldHVybiAnTmFtZWQ8JyArIGEubmFtZSArICc+JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc01hcChhKSkge1xuICAgICAgICAgICAgcmV0dXJuICdNYXA8JyArIHRvU3RyaW5nSW50ZXJuYWwoYS52YWx1ZSwgdmlzaXRlZC5jb25jYXQoW2FdKSwgaW5kaWNlcykgKyAnPic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOdWxsYWJsZShhKSkge1xuICAgICAgICAgICAgdmFyIHN1YnR5cGVTdHIgPSB0b1N0cmluZ0ludGVybmFsKGEuc3VidHlwZSwgdmlzaXRlZC5jb25jYXQoW2FdKSwgaW5kaWNlcyk7XG4gICAgICAgICAgICByZXR1cm4gJ051bGxhYmxlPCcgKyBzdWJ0eXBlU3RyICsgJz4nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoYSkpIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZWRTdHIgPSB0b1N0cmluZ0ludGVybmFsKGEuY29udGFpbmVkLCB2aXNpdGVkLmNvbmNhdChbYV0pLCBpbmRpY2VzKTtcbiAgICAgICAgICAgIHJldHVybiAnQXJyYXk8JyArIGNvbnRhaW5lZFN0ciArICc+JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdChhKSkge1xuICAgICAgICAgICAgaWYgKGEuc3BlYyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdPYmplY3QnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5ld1Zpc2l0ZWQgPSB2aXNpdGVkLmNvbmNhdChbYV0pO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3RLZXlzKGEuc3BlYyk7XG4gICAgICAgICAgICBrZXlzLnNvcnQoKTtcbiAgICAgICAgICAgIHZhciBrZXlQYWlycyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBrZXlzXzEgPSBrZXlzOyBfaSA8IGtleXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c18xW19pXTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYS5zcGVjLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZVN0ciA9IHRvU3RyaW5nSW50ZXJuYWwoYS5zcGVjW2tleV0sIG5ld1Zpc2l0ZWQsIGluZGljZXMpO1xuICAgICAgICAgICAgICAgICAgICBrZXlQYWlycy5wdXNoKHF1b3RlKGtleSkgKyAnOiAnICsgdmFsdWVTdHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAneycgKyBrZXlQYWlycy5qb2luKCcsICcpICsgJ30nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVW5pb24oYSkpIHtcbiAgICAgICAgICAgIHZhciBuZXdWaXNpdGVkID0gdmlzaXRlZC5jb25jYXQoW2FdKTtcbiAgICAgICAgICAgIHZhciB0eXBlU3RyaW5ncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBfYiA9IGEudHlwZXM7IF9hIDwgX2IubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBfYltfYV07XG4gICAgICAgICAgICAgICAgdmFyIHR5cGVTdHIgPSB0b1N0cmluZ0ludGVybmFsKHR5cGUsIG5ld1Zpc2l0ZWQsIGluZGljZXMpO1xuICAgICAgICAgICAgICAgIHR5cGVTdHJpbmdzLnB1c2godHlwZVN0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHlwZVN0cmluZ3Muam9pbignfCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bnJlYWNoYWJsZShhKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9TdHJpbmcoYSkge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmdJbnRlcm5hbChhLCBbXSwgeyBjdXJyZW50OiAwLCBtYXA6IHt9IH0pO1xuICAgIH1cbiAgICBUeXBlcy50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIFR5cGVzLkFueSA9IHsgdHlwZTogJ2FueScgfTtcbiAgICBUeXBlcy5OdWxsID0geyB0eXBlOiAnbnVsbCcgfTtcbiAgICBUeXBlcy5OdW1iZXIgPSB7IHR5cGU6ICdudW1iZXInIH07XG4gICAgVHlwZXMuU3RyaW5nID0geyB0eXBlOiAnc3RyaW5nJywgdmFsdWU6IG51bGwgfTtcbiAgICBmdW5jdGlvbiBTdHJpbmdWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAnc3RyaW5nJywgdmFsdWU6IHZhbHVlIH07XG4gICAgfVxuICAgIFR5cGVzLlN0cmluZ1ZhbHVlID0gU3RyaW5nVmFsdWU7XG4gICAgVHlwZXMuQm9vbGVhbiA9IHsgdHlwZTogJ2Jvb2xlYW4nIH07XG4gICAgZnVuY3Rpb24gTWFwKGNvbnRhaW5lZCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAnbWFwJywgdmFsdWU6IGNvbnRhaW5lZCB9O1xuICAgIH1cbiAgICBUeXBlcy5NYXAgPSBNYXA7XG4gICAgZnVuY3Rpb24gTnVsbGFibGUoc3VidHlwZSkge1xuICAgICAgICB3aGlsZSAoc3VidHlwZS50eXBlID09PSAnbnVsbGFibGUnKSB7XG4gICAgICAgICAgICBzdWJ0eXBlID0gc3VidHlwZS5zdWJ0eXBlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc051bGwoc3VidHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBUeXBlcy5OdWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FueShzdWJ0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFR5cGVzLkFueTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB0eXBlOiAnbnVsbGFibGUnLCBzdWJ0eXBlOiBzdWJ0eXBlIH07XG4gICAgfVxuICAgIFR5cGVzLk51bGxhYmxlID0gTnVsbGFibGU7XG4gICAgZnVuY3Rpb24gQXJyYXkoY29udGFpbmVkKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6ICdhcnJheScsIGNvbnRhaW5lZDogY29udGFpbmVkIH07XG4gICAgfVxuICAgIFR5cGVzLkFycmF5ID0gQXJyYXk7XG4gICAgZnVuY3Rpb24gT2JqZWN0KHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJ29iamVjdCcsIHNwZWM6IHNwZWMgfHwgbnVsbCB9O1xuICAgIH1cbiAgICBUeXBlcy5PYmplY3QgPSBPYmplY3Q7XG4gICAgZnVuY3Rpb24gTmFtZWQobmFtZSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAnbmFtZWQnLCBuYW1lOiBuYW1lIH07XG4gICAgfVxuICAgIFR5cGVzLk5hbWVkID0gTmFtZWQ7XG4gICAgZnVuY3Rpb24gYWxsTnVsbGFibGUodHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVzLmV2ZXJ5KGZ1bmN0aW9uICh0KSB7IHJldHVybiBpc051bGxhYmxlKHQpOyB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gVW5pb24odHlwZXMpIHtcbiAgICAgICAgdmFyIHVucGFja2VkVHlwZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCB0eXBlc18xID0gdHlwZXM7IF9pIDwgdHlwZXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHR5cGVzXzFbX2ldO1xuICAgICAgICAgICAgaWYgKGlzQW55KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBUeXBlcy5Bbnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1VuaW9uKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlLnR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHN1YnR5cGUpIHsgcmV0dXJuIHVucGFja2VkVHlwZXMucHVzaChzdWJ0eXBlKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1bnBhY2tlZFR5cGVzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1bnBhY2tlZFR5cGVzLmxlbmd0aCA+IDAgJiYgYWxsTnVsbGFibGUodW5wYWNrZWRUeXBlcykpIHtcbiAgICAgICAgICAgIHZhciBhbGxTdWJ0eXBlcyA9IHVucGFja2VkVHlwZXMubWFwKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0LnN1YnR5cGU7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIE51bGxhYmxlKFVuaW9uKGFsbFN1YnR5cGVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJ3VuaW9uJywgdHlwZXM6IHVucGFja2VkVHlwZXMgfTtcbiAgICB9XG4gICAgVHlwZXMuVW5pb24gPSBVbmlvbjtcbiAgICBmdW5jdGlvbiBlcXVhbHNJbnRlcm5hbChhLCBiLCB2ZXJpZmllZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcmlmaWVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdmVyaWZpZWRUeXBlID0gdmVyaWZpZWRbaV07XG4gICAgICAgICAgICBpZiAoYSA9PT0gdmVyaWZpZWRUeXBlLmEgJiYgYiA9PT0gdmVyaWZpZWRUeXBlLmIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOdWxsKGEpICYmIGlzTnVsbChiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcoYSkgJiYgaXNTdHJpbmcoYikpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnZhbHVlID09PSBiLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQW55KGEpICYmIGlzQW55KGIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc051bWJlcihhKSAmJiBpc051bWJlcihiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNCb29sZWFuKGEpICYmIGlzQm9vbGVhbihiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOYW1lZChhKSAmJiBpc05hbWVkKGIpKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5uYW1lID09PSBiLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOdWxsYWJsZShhKSAmJiBpc051bGxhYmxlKGIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXF1YWxzSW50ZXJuYWwoYS5zdWJ0eXBlLCBiLnN1YnR5cGUsIHZlcmlmaWVkLmNvbmNhdChbeyBhOiBhLCBiOiBiIH1dKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNNYXAoYSkgJiYgaXNNYXAoYikpIHtcbiAgICAgICAgICAgIHJldHVybiBlcXVhbHNJbnRlcm5hbChhLnZhbHVlLCBiLnZhbHVlLCB2ZXJpZmllZC5jb25jYXQoW3sgYTogYSwgYjogYiB9XSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoYSkgJiYgaXNBcnJheShiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVxdWFsc0ludGVybmFsKGEuY29udGFpbmVkLCBiLmNvbnRhaW5lZCwgdmVyaWZpZWQuY29uY2F0KFt7IGE6IGEsIGI6IGIgfV0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdChhKSAmJiBpc09iamVjdChiKSkge1xuICAgICAgICAgICAgdmFyIGFTcGVjXzEgPSBhLnNwZWM7XG4gICAgICAgICAgICB2YXIgYlNwZWNfMSA9IGIuc3BlYztcbiAgICAgICAgICAgIGlmIChhU3BlY18xID09IG51bGwgJiYgYlNwZWNfMSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhU3BlY18xICE9IG51bGwgJiYgYlNwZWNfMSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFLZXlzID0gU2V0cy5jcmVhdGUoT2JqZWN0S2V5cyhhU3BlY18xKSk7XG4gICAgICAgICAgICAgICAgdmFyIGJLZXlzID0gU2V0cy5jcmVhdGUoT2JqZWN0S2V5cyhiU3BlY18xKSk7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyc2VjdGlvbiA9IGFLZXlzLmludGVyc2VjdGlvbihiS2V5cyk7XG4gICAgICAgICAgICAgICAgaWYgKGludGVyc2VjdGlvbi5zaXplKCkgIT09IGFLZXlzLnNpemUoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBuZXdWZXJpZmllZF8xID0gdmVyaWZpZWQuY29uY2F0KFt7IGE6IGEsIGI6IGIgfV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb24uYWxsKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGVxdWFsc0ludGVybmFsKGFTcGVjXzFba2V5XSwgYlNwZWNfMVtrZXldLCBuZXdWZXJpZmllZF8xKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNVbmlvbihhKSAmJiBpc1VuaW9uKGIpKSB7XG4gICAgICAgICAgICB2YXIgc29ydGVkQVR5cGVzID0gYS50eXBlcztcbiAgICAgICAgICAgIHZhciBzb3J0ZWRCVHlwZXMgPSBiLnR5cGVzO1xuICAgICAgICAgICAgc29ydGVkQVR5cGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIHRvU3RyaW5nKGEpLmxvY2FsZUNvbXBhcmUodG9TdHJpbmcoYikpOyB9KTtcbiAgICAgICAgICAgIHNvcnRlZEJUeXBlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiB0b1N0cmluZyhhKS5sb2NhbGVDb21wYXJlKHRvU3RyaW5nKGIpKTsgfSk7XG4gICAgICAgICAgICBpZiAoc29ydGVkQVR5cGVzLmxlbmd0aCAhPT0gc29ydGVkQlR5cGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB2YXIgbmV3VmVyaWZpZWQgPSB2ZXJpZmllZC5jb25jYXQoW3sgYTogYSwgYjogYiB9XSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvcnRlZEFUeXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghZXF1YWxzSW50ZXJuYWwoc29ydGVkQVR5cGVzW2ldLCBzb3J0ZWRCVHlwZXNbaV0sIG5ld1ZlcmlmaWVkKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICAgICAgICByZXR1cm4gZXF1YWxzSW50ZXJuYWwoYSwgYiwgW10pO1xuICAgIH1cbiAgICBUeXBlcy5lcXVhbHMgPSBlcXVhbHM7XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB1c2VkIGZvciBidWlsZGluZyB1cCBhIHR5cGUuIEl0J3MgdGhlIGVxdWl2YWxlbnQgb2YgYCZgIGluIFR5cGVTY3JpcHQuXG4gICAgICogVGhpcyBzaG91bGQgcmV0dXJuIG51bGwgZm9yIGV2ZXJ5dGhpbmcgZXhjZXB0IG9iamVjdHMgKHNpbmNlIGl0J3Mgbm90XG4gICAgICogcG9zc2libGUgdG8gaGF2ZSBhIHVuaW9uIG9mIGFueXRoaW5nIGJ1dCBvYmplY3RzKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21iaW5lKGEsIGIpIHtcbiAgICAgICAgaWYgKGlzTnVsbGFibGUoYSkpIHtcbiAgICAgICAgICAgIGlmIChpc051bGxhYmxlKGIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbWJpbmVkU3VidHlwZSA9IGNvbWJpbmUoYS5zdWJ0eXBlLCBiLnN1YnR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChjb21iaW5lZFN1YnR5cGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVsbGFibGUoY29tYmluZWRTdWJ0eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOdWxsKGEpKSB7XG4gICAgICAgICAgICBpZiAoaXNOdWxsKGIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFR5cGVzLk51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOdW1iZXIoYSkpIHtcbiAgICAgICAgICAgIGlmIChpc051bWJlcihiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBUeXBlcy5OdW1iZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcoYSkpIHtcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyhiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBUeXBlcy5TdHJpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNCb29sZWFuKGEpKSB7XG4gICAgICAgICAgICBpZiAoaXNCb29sZWFuKGIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFR5cGVzLkJvb2xlYW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNVbmlvbihhKSkge1xuICAgICAgICAgICAgaWYgKGVxdWFscyhhLCBiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoYSkpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBbnkoYSkgJiYgaXNBbnkoYikpIHtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTmFtZWQoYSkgJiYgaXNOYW1lZChiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGEubmFtZSA9PT0gYi5uYW1lID8gYSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNNYXAoYSkgJiYgaXNNYXAoYikpIHtcbiAgICAgICAgICAgIHZhciBjb21iaW5lZFZhbHVlID0gY29tYmluZShhLnZhbHVlLCBiLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChjb21iaW5lZFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWFwKGNvbWJpbmVkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KGEpICYmIGlzT2JqZWN0KGIpKSB7XG4gICAgICAgICAgICB2YXIgYVNwZWNfMiA9IGEuc3BlYztcbiAgICAgICAgICAgIHZhciBiU3BlY18yID0gYi5zcGVjO1xuICAgICAgICAgICAgaWYgKGFTcGVjXzIgPT0gbnVsbCAmJiBiU3BlY18yID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFTcGVjXzIgPT0gbnVsbCB8fCBiU3BlY18yID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBhUHJvcGVydHlJU2V0ID0gU2V0cy5jcmVhdGUoT2JqZWN0S2V5cyhhU3BlY18yKSk7XG4gICAgICAgICAgICB2YXIgYlByb3BlcnR5SVNldCA9IFNldHMuY3JlYXRlKE9iamVjdEtleXMoYlNwZWNfMikpO1xuICAgICAgICAgICAgdmFyIHByb3BlcnRpZXNVbmlvbiA9IGFQcm9wZXJ0eUlTZXQudW5pb24oYlByb3BlcnR5SVNldCk7XG4gICAgICAgICAgICB2YXIgY29tYmluZWRTcGVjXzEgPSB7fTtcbiAgICAgICAgICAgIGlmICghcHJvcGVydGllc1VuaW9uLmFsbChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgICAgIHZhciBhUHJvcCA9IGFTcGVjXzJbcHJvcF07XG4gICAgICAgICAgICAgICAgdmFyIGJQcm9wID0gYlNwZWNfMltwcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAoYVByb3AgIT0gbnVsbCAmJiBiUHJvcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21iaW5lZCA9IGNvbWJpbmUoYVByb3AsIGJQcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbWJpbmVkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb21iaW5lZFNwZWNfMVtwcm9wXSA9IGNvbWJpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhUHJvcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbWJpbmVkU3BlY18xW3Byb3BdID0gYVByb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb21iaW5lZFNwZWNfMVtwcm9wXSA9IGJQcm9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0KGNvbWJpbmVkU3BlY18xKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgVHlwZXMuY29tYmluZSA9IGNvbWJpbmU7XG4gICAgLyoqXG4gICAgICogVGhpcyByZXR1cm5zIGEgdHlwZSB0aGF0IHdpbGwgYWNjZXB0IGVpdGhlciB0aGlzIHR5cGUgb3IgdGhlIG90aGVyIHR5cGVcbiAgICAgKiB3aGVuIGl0IGlzIGFzc2lnbmVkIHRvIHRoZSByZXN1bHRpbmcgdHlwZS4gVGhpcyBvbmUgc2hvdWxkIG5ldmVyIGZhaWwsXG4gICAgICogc2luY2Ugd2UgY2FuIGFsd2F5cyBkZWZhdWx0IHRvIGEgdW5pb24gdHlwZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlmeShhLCBiKSB7XG4gICAgICAgIGlmICgoaXNOdWxsKGEpIHx8IGlzTnVsbGFibGUoYSkpICYmIChpc051bGwoYikgfHwgaXNOdWxsYWJsZShiKSkpIHtcbiAgICAgICAgICAgIC8vIEVpdGhlciBib3RoIGFyZSBudWxsYWJsZSwgb3Igb25lIGlzIG51bGxhYmxlIGFuZCB0aGUgb3RoZXIgaXMgbnVsbFxuICAgICAgICAgICAgaWYgKGlzTnVsbGFibGUoYSkgJiYgaXNOdWxsYWJsZShiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdWxsYWJsZSh1bmlmeShhLnN1YnR5cGUsIGIuc3VidHlwZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNOdWxsYWJsZShhKSkge1xuICAgICAgICAgICAgICAgIC8vIGIgbXVzdCBiZSBudWxsXG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc051bGxhYmxlKGIpKSB7XG4gICAgICAgICAgICAgICAgLy8gYSBtdXN0IGJlIG51bGxcbiAgICAgICAgICAgICAgICByZXR1cm4gYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzTnVsbChhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNOdWxsKGIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5yZWFjaGFibGUoYSksIHVucmVhY2hhYmxlKGIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTnVsbChhKSB8fCBpc051bGxhYmxlKGEpKSB7XG4gICAgICAgICAgICAvLyBPbmUgb2YgdGhlbSBpcyBudWxsIG9yIG51bGxhYmxlXG4gICAgICAgICAgICBpZiAoaXNOdWxsKGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bGxhYmxlKGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNOdWxsYWJsZShhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdWxsYWJsZSh1bmlmeShhLnN1YnR5cGUsIGIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bnJlYWNoYWJsZShhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc051bGwoYikgfHwgaXNOdWxsYWJsZShiKSkge1xuICAgICAgICAgICAgaWYgKGlzTnVsbChiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdWxsYWJsZShhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzTnVsbGFibGUoYikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVsbGFibGUodW5pZnkoYSwgYi5zdWJ0eXBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5yZWFjaGFibGUoYik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFVuaW9uKFthLCBiXSk7XG4gICAgfVxuICAgIFR5cGVzLnVuaWZ5ID0gdW5pZnk7XG4gICAgZnVuY3Rpb24gaW5mZXIob2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIFR5cGVzLk51bWJlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIFR5cGVzLlN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHJldHVybiBUeXBlcy5Cb29sZWFuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gVHlwZXMuTnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYmogJiYgdHlwZW9mIG9iai5sZW5ndGggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB2YXIga25vd25UeXBlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5mZXJyZWQgPSBpbmZlcihvYmpbaV0pO1xuICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwga25vd25UeXBlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXF1YWxzKGtub3duVHlwZXNbal0sIGluZmVycmVkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBrbm93blR5cGVzLnB1c2goaW5mZXJyZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrbm93blR5cGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheShrbm93blR5cGVzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBBcnJheShVbmlvbihrbm93blR5cGVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVHlwZXMuQW55O1xuICAgIH1cbiAgICBUeXBlcy5pbmZlciA9IGluZmVyO1xufSkoVHlwZXMgPSBleHBvcnRzLlR5cGVzIHx8IChleHBvcnRzLlR5cGVzID0ge30pKTtcbi8qXG5cblxubmFtZXNwYWNlIFR5cGVzIHtcbiAgZXhwb3J0IGludGVyZmFjZSBKc1R5cGU8VD4ge1xuICAgIGlzVW5rbm93bigpOiB0aGlzIGlzIEpzVW5rbm93blxuICAgIGlzTnVsbCgpOiB0aGlzIGlzIEpzTnVsbFxuICAgIGlzTnVtYmVyKCk6IHRoaXMgaXMgSnNOdW1iZXJcbiAgICBpc1N0cmluZygpOiB0aGlzIGlzIEpzU3RyaW5nXG4gICAgaXNCb29sZWFuKCk6IHRoaXMgaXMgSnNCb29sZWFuXG4gICAgaXNBcnJheSgpOiB0aGlzIGlzIEpzQXJyYXk8YW55LCBKc1R5cGU8YW55Pj5cbiAgICBpc0FycmF5T2Y8VD4odDogSnNUeXBlPFQ+KTogdGhpcyBpcyBKc0FycmF5PFQsIEpzVHlwZTxUPj5cbiAgICBpc09iamVjdCgpOiB0aGlzIGlzIEpzT2JqZWN0XG4gICAgaXNNYXAoKTogdGhpcyBpcyBKc01hcDxhbnksIEpzVHlwZTxhbnk+PlxuICAgIGlzTWFwT2Y8VD4odDogSnNUeXBlPFQ+KTogdGhpcyBpcyBKc01hcDxULCBKc1R5cGU8VD4+XG4gICAgaXNFcXVhbFRvKG90aGVyOiBKc1R5cGU8YW55Pik6IGJvb2xlYW5cbiAgICBpc051bGxhYmxlKCk6IHRoaXMgaXMgSnNOdWxsYWJsZTxhbnk+XG4gICAgaXNOdWxsYWJsZU9mPFQ+KHQ6IEpzVHlwZTxUPik6IHRoaXMgaXMgSnNOdWxsYWJsZTxUPlxuICB9XG4gIGV4cG9ydCBpbnRlcmZhY2UgSnNVbmtub3duIGV4dGVuZHMgSnNUeXBlPGFueT4ge1xuICAgIHR5cGU6ICd1bmtub3duJztcbiAgfVxuICBleHBvcnQgaW50ZXJmYWNlIEpzTnVsbCBleHRlbmRzIEpzVHlwZTxudWxsPiB7XG4gICAgdHlwZTogJ251bGwnO1xuICB9XG4gIGV4cG9ydCBpbnRlcmZhY2UgSnNOdW1iZXIgZXh0ZW5kcyBKc1R5cGU8bnVtYmVyPiB7XG4gICAgdHlwZTogJ251bWJlcic7XG4gIH1cbiAgZXhwb3J0IGludGVyZmFjZSBKc1N0cmluZyBleHRlbmRzIEpzVHlwZTxzdHJpbmc+IHtcbiAgICB0eXBlOiAnc3RyaW5nJztcbiAgfVxuICBleHBvcnQgaW50ZXJmYWNlIEpzQm9vbGVhbiBleHRlbmRzIEpzVHlwZTxib29sZWFuPiB7XG4gICAgdHlwZTogJ2Jvb2xlYW4nO1xuICB9XG4gIGV4cG9ydCB0eXBlIEpzUHJpbWl0aXZlID0gSnNOdW1iZXIgfCBKc1N0cmluZyB8IEpzQm9vbGVhbiB8IEpzTnVsbDtcblxuICBleHBvcnQgaW50ZXJmYWNlIEpzTnVsbGFibGU8VD4gZXh0ZW5kcyBKc1R5cGU8VHxudWxsPiB7XG4gICAgdHlwZTogJ251bGxhYmxlJztcbiAgICBzdWJ0eXBlOiBKc1R5cGU8VD47XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEpzT2JqZWN0IGV4dGVuZHMgSnNUeXBlPE9iamVjdD4ge1xuICAgIHR5cGU6ICdvYmplY3QnO1xuICB9XG4gIGV4cG9ydCBpbnRlcmZhY2UgSnNNYXA8Q29udGFpbmVkLCBKc0NvbnRhaW5lZCBleHRlbmRzIEpzVHlwZTxDb250YWluZWQ+PiBleHRlbmRzIEpzVHlwZTxPYmplY3Q+IHtcbiAgICB0eXBlOiAnbWFwJztcbiAgICBjb250YWluZWQ6IEpzQ29udGFpbmVkO1xuICB9XG4gIGV4cG9ydCBpbnRlcmZhY2UgSnNBcnJheTxDb250YWluZWQsIEpzQ29udGFpbmVkIGV4dGVuZHMgSnNUeXBlPENvbnRhaW5lZD4+IGV4dGVuZHMgSnNUeXBlPEFycmF5PENvbnRhaW5lZD4+IHtcbiAgICB0eXBlOiAnYXJyYXknO1xuICAgIGNvbnRhaW5lZDogSnNDb250YWluZWQ7XG4gIH1cblxuICBhYnN0cmFjdCBjbGFzcyBCYXNlSnNUeXBlPFQ+IGltcGxlbWVudHMgSnNUeXBlPFQ+IHtcbiAgICBpc1Vua25vd24oKTogdGhpcyBpcyBKc1Vua25vd24geyByZXR1cm4gZmFsc2UgfVxuICAgIGlzTnVsbCgpOiB0aGlzIGlzIEpzTnVsbCB7IHJldHVybiBmYWxzZSB9XG4gICAgaXNOdW1iZXIoKTogdGhpcyBpcyBKc051bWJlciB7IHJldHVybiBmYWxzZSB9XG4gICAgaXNTdHJpbmcoKTogdGhpcyBpcyBKc1N0cmluZyB7IHJldHVybiBmYWxzZSB9XG4gICAgaXNCb29sZWFuKCk6IHRoaXMgaXMgSnNCb29sZWFuIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpc0FycmF5KCk6IHRoaXMgaXMgSnNBcnJheTxhbnksIEpzVHlwZTxhbnk+PiB7IHJldHVybiBmYWxzZSB9XG4gICAgaXNBcnJheU9mPFQ+KHQ6IEpzVHlwZTxUPik6IHRoaXMgaXMgSnNBcnJheTxULCBKc1R5cGU8VD4+IHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpc09iamVjdCgpOiB0aGlzIGlzIEpzT2JqZWN0IHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpc01hcCgpOiB0aGlzIGlzIEpzTWFwPGFueSwgSnNUeXBlPGFueT4+IHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpc01hcE9mPFQ+KHQ6IEpzVHlwZTxUPik6IHRoaXMgaXMgSnNNYXA8VCwgSnNUeXBlPFQ+PiB7IHJldHVybiBmYWxzZSB9XG4gICAgaXNFcXVhbFRvKG90aGVyOiBKc1R5cGU8YW55Pik6IGJvb2xlYW4geyByZXR1cm4gZmFsc2UgfVxuICAgIGlzTnVsbGFibGUoKTogdGhpcyBpcyBKc051bGxhYmxlPGFueT4geyByZXR1cm4gZmFsc2UgfVxuICAgIGlzTnVsbGFibGVPZjxUPih0OiBKc1R5cGU8VD4pOiB0aGlzIGlzIEpzTnVsbGFibGU8VD4geyByZXR1cm4gZmFsc2UgfVxuICB9XG5cbiAgY2xhc3MgSnNVbmtub3duSW1wbCBleHRlbmRzIEJhc2VKc1R5cGU8YW55PiBpbXBsZW1lbnRzIEpzVW5rbm93biB7XG4gICAgdHlwZTogJ3Vua25vd24nID0gJ3Vua25vd24nO1xuICAgIGlzVW5rbm93bigpOiB0aGlzIGlzIEpzVW5rbm93biB7IHJldHVybiB0cnVlIH1cbiAgICBpc0VxdWFsVG8ob3RoZXI6IEpzVHlwZTxhbnk+KTogYm9vbGVhbiB7IHJldHVybiBmYWxzZSB9XG4gIH1cbiAgZXhwb3J0IGNvbnN0IHVua25vd24gPSBuZXcgSnNVbmtub3duSW1wbCgpO1xuXG4gIGNsYXNzIEpzTnVsbGFibGVJbXBsPFQ+IGV4dGVuZHMgQmFzZUpzVHlwZTxudWxsfFQ+IGltcGxlbWVudHMgSnNOdWxsYWJsZTxUPiB7XG4gICAgdHlwZTogJ251bGxhYmxlJyA9ICdudWxsYWJsZSc7XG4gICAgc3VidHlwZTogSnNUeXBlPFQ+O1xuICAgIGNvbnN0cnVjdG9yKHN1YnR5cGU6IEpzVHlwZTxUPikge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuc3VidHlwZSA9IHN1YnR5cGU7XG4gICAgfVxuICAgIGlzTnVsbGFibGUoKTogdGhpcyBpcyBKc051bGxhYmxlPGFueT4geyByZXR1cm4gdHJ1ZSB9XG4gICAgaXNOdWxsYWJsZU9mPFQ+KHQ6IEpzVHlwZTxUPik6IHRoaXMgaXMgSnNOdWxsYWJsZTxUPiB7XG4gICAgICByZXR1cm4gdGhpcy5zdWJ0eXBlLmlzRXF1YWxUbyh0KTtcbiAgICB9XG4gIH1cblxuICBjbGFzcyBKc051bWJlckltcGwgZXh0ZW5kcyBCYXNlSnNUeXBlPG51bWJlcj4gaW1wbGVtZW50cyBKc051bWJlciB7XG4gICAgdHlwZTogJ251bWJlcicgPSAnbnVtYmVyJztcbiAgICBpc051bWJlcigpOiB0aGlzIGlzIEpzTnVtYmVyIHsgcmV0dXJuIHRydWUgfVxuICAgIGlzRXF1YWxUbyhvdGhlcjogSnNUeXBlPGFueT4pOiBib29sZWFuIHsgcmV0dXJuIG90aGVyLmlzTnVtYmVyKCkgfVxuICB9XG4gIGV4cG9ydCBjb25zdCBudW1iZXIgPSBuZXcgSnNOdW1iZXJJbXBsKCk7XG5cbiAgY2xhc3MgSnNTdHJpbmdJbXBsIGV4dGVuZHMgQmFzZUpzVHlwZTxzdHJpbmc+IGltcGxlbWVudHMgSnNTdHJpbmcge1xuICAgIHR5cGU6ICdzdHJpbmcnID0gJ3N0cmluZyc7XG4gICAgaXNTdHJpbmcoKTogdGhpcyBpcyBKc1N0cmluZyB7IHJldHVybiB0cnVlIH1cbiAgICBpc0VxdWFsVG8ob3RoZXI6IEpzVHlwZTxhbnk+KTogYm9vbGVhbiB7IHJldHVybiBvdGhlci5pc1N0cmluZygpIH1cbiAgfVxuICBleHBvcnQgY29uc3Qgc3RyaW5nID0gbmV3IEpzU3RyaW5nSW1wbCgpO1xuXG4gIGNsYXNzIEpzQm9vbGVhbkltcGwgZXh0ZW5kcyBCYXNlSnNUeXBlPGJvb2xlYW4+IGltcGxlbWVudHMgSnNCb29sZWFuIHtcbiAgICB0eXBlOiAnYm9vbGVhbicgPSAnYm9vbGVhbic7XG4gICAgaXNCb29sZWFuKCk6IHRoaXMgaXMgSnNCb29sZWFuIHsgcmV0dXJuIHRydWUgfVxuICAgIGlzRXF1YWxUbyhvdGhlcjogSnNUeXBlPGFueT4pOiBib29sZWFuIHsgcmV0dXJuIG90aGVyLmlzQm9vbGVhbigpIH1cbiAgfVxuICBleHBvcnQgY29uc3QgYm9vbGVhbiA9IG5ldyBKc0Jvb2xlYW5JbXBsKCk7XG5cbiAgY2xhc3MgSnNBcnJheUltcGw8VD4gZXh0ZW5kcyBCYXNlSnNUeXBlPEFycmF5PFQ+PiBpbXBsZW1lbnRzIEpzQXJyYXk8VCwgSnNUeXBlPFQ+PiB7XG4gICAgdHlwZTogJ2FycmF5JyA9ICdhcnJheSc7XG4gICAgY29udGFpbmVkOiBKc1R5cGU8VD47XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVkOiBKc1R5cGU8VD4pIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzLmNvbnRhaW5lZCA9IGNvbnRhaW5lZDtcbiAgICB9XG4gICAgaXNCb29sZWFuKCk6IHRoaXMgaXMgSnNCb29sZWFuIHsgcmV0dXJuIHRydWUgfVxuICAgIGlzRXF1YWxUbyhvdGhlcjogSnNUeXBlPGFueT4pOiBib29sZWFuIHsgcmV0dXJuIG90aGVyLmlzQXJyYXlPZih0aGlzLmNvbnRhaW5lZCkgfVxuICB9XG4gIGV4cG9ydCBmdW5jdGlvbiBhcnJheTxUPihjb250YWluZWQ6IEpzVHlwZTxUPik6IEpzQXJyYXk8VCwgSnNUeXBlPFQ+PiB7XG4gICAgcmV0dXJuIG5ldyBKc0FycmF5SW1wbChjb250YWluZWQpO1xuICB9XG4gIFxuXG4gIGNsYXNzIFR5cGVkPFQ+IHtcbiAgICB2YWx1ZTogVDtcbiAgICB0eXBlOiBUeXBlcy5Kc1R5cGU8VD47XG5cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZTogVCwgdHlwZTogVHlwZXMuSnNUeXBlPFQ+KSB7XG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH14XG5cbiAgICBpc051bWJlcigpOiB0aGlzIGlzIFR5cGVkPG51bWJlcj4ge1xuICAgICAgcmV0dXJuIHRoaXMudHlwZS5pc051bWJlcigpO1xuICAgIH1cbiAgICBpc1N0cmluZygpOiB0aGlzIGlzIFR5cGVkPHN0cmluZz4ge1xuICAgICAgcmV0dXJuIHRoaXMudHlwZS5pc1N0cmluZygpO1xuICAgIH1cbiAgICBpc0Jvb2xlYW4oKTogdGhpcyBpcyBUeXBlZDxib29sZWFuPiB7XG4gICAgICByZXR1cm4gdGhpcy50eXBlLmlzQm9vbGVhbigpO1xuICAgIH1cbiAgICBpc0FycmF5KCk6IHRoaXMgaXMgVHlwZWRBcnJheTxhbnk+IHtcbiAgICAgIHJldHVybiB0aGlzLnR5cGUuaXNBcnJheSgpO1xuICAgIH1cbiAgICBpc0FycmF5T2Y8VD4odHlwZTogVHlwZXMuSnNUeXBlPFQ+KTogdGhpcyBpcyBUeXBlZEFycmF5PFQ+IHtcbiAgICAgIHJldHVybiB0aGlzLnR5cGUuaXNBcnJheU9mKHR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIGNsYXNzIFR5cGVkQXJyYXk8VD4gZXh0ZW5kcyBUeXBlZDxBcnJheTxUPj4ge1xuICAgIGNvbnRhaW5lZFR5cGU6IFR5cGVzLkpzVHlwZTxUPjtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZTogQXJyYXk8VD4sIHR5cGU6IFR5cGVzLkpzQXJyYXk8VCwgVHlwZXMuSnNUeXBlPFQ+Pikge1xuICAgICAgc3VwZXIodmFsdWUsIHR5cGUpO1xuICAgICAgdGhpcy5jb250YWluZWRUeXBlID0gdHlwZS5jb250YWluZWQ7XG4gICAgfVxuICB9XG5cbiAgY2xhc3MgVHlwZWRBcnJheUFueSBleHRlbmRzIFR5cGVkQXJyYXk8YW55PiB7XG4gICAgdHlwZWRWYWx1ZXM6IFR5cGVkPGFueT5bXTtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZTogYW55W10pIHtcbiAgICAgIHN1cGVyKHZhbHVlLCBUeXBlcy5hcnJheShUeXBlcy51bmtub3duKSk7XG4gICAgICB0aGlzLnR5cGVkVmFsdWVzID0gdmFsdWUubWFwKCh2KSA9PiBhc1R5cGVkKHYpKVxuICAgIH1cbiAgICBpc0FycmF5T2Y8VD4odHlwZTogVHlwZXMuSnNUeXBlPFQ+KTogdGhpcyBpcyBUeXBlZEFycmF5PFQ+IHtcbiAgICAgIHJldHVybiB0aGlzLnR5cGVkVmFsdWVzLmV2ZXJ5KCh0KSA9PiB0LnR5cGUuaXNFcXVhbFRvKHR5cGUpKTtcbiAgICB9XG4gICAgYXNBcnJheU9mPFQ+KHR5cGU6IFR5cGVzLkpzVHlwZTxUPik6IFJlc3VsdDxUeXBlZEFycmF5PFQ+LCBFcnJvcj4ge1xuXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXNUeXBlZCh2YWx1ZTogYW55KTogVHlwZWQ8YW55PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiBuZXcgVHlwZWQodmFsdWUsIFR5cGVzLm51bWJlcik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbmV3IFR5cGVkKHZhbHVlLCBUeXBlcy5zdHJpbmcpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiBuZXcgVHlwZWQodmFsdWUsIFR5cGVzLmJvb2xlYW4pO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlLmxlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnN0IGFycmF5VmFsdWUgPSB2YWx1ZSBhcyBBcnJheTxhbnk+O1xuICAgICAgcmV0dXJuIG5ldyBUeXBlZEFycmF5QW55KGFycmF5VmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFR5cGVkKHZhbHVlLCBUeXBlcy51bmtub3duKTtcbiAgfVxufVxuLy8gKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzdHlwZXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkZWNvZGluZ19lcnJvcl8xID0gcmVxdWlyZShcIi4uL2Vycm9ycy9kZWNvZGluZy9kZWNvZGluZy1lcnJvclwiKTtcbnZhciByZXN1bHRfMSA9IHJlcXVpcmUoXCIuLi9yZXN1bHQvcmVzdWx0XCIpO1xudmFyIGpzdHlwZXNfMSA9IHJlcXVpcmUoXCIuLi9qc3R5cGVzXCIpO1xudmFyIEFic3RyYWN0UmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0UmVhZGVyKCkge1xuICAgIH1cbiAgICBBYnN0cmFjdFJlYWRlci5wcm90b3R5cGUud2l0aERlZmF1bHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0UmVhZGVyKHRoaXMsIHZhbHVlKTtcbiAgICB9O1xuICAgIEFic3RyYWN0UmVhZGVyLnByb3RvdHlwZS5hc09wdGlvbmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IE9wdGlvbmFsUmVhZGVyKHRoaXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RSZWFkZXIucHJvdG90eXBlLm9yID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT3JSZWFkZXIodGhpcywgb3RoZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0UmVhZGVyO1xufSgpKTtcbmV4cG9ydHMuQWJzdHJhY3RSZWFkZXIgPSBBYnN0cmFjdFJlYWRlcjtcbnZhciBEZWZhdWx0UmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEZWZhdWx0UmVhZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlZmF1bHRSZWFkZXIocmVhZGVyLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucmVhZGVyID0gcmVhZGVyO1xuICAgICAgICBfdGhpcy5kZWZhdWx0ID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICBfdGhpcy5leHBlY3RlZFR5cGUgPSByZWFkZXIuZXhwZWN0ZWRUeXBlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERlZmF1bHRSZWFkZXIucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuc3VjY2Vzcyh0aGlzLnJlYWRlci5yZWFkKG9iailcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHN1Y2Nlc3MpIHsgcmV0dXJuIHN1Y2Nlc3M7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmRlZmF1bHQ7IH0pKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWZhdWx0UmVhZGVyO1xufShBYnN0cmFjdFJlYWRlcikpO1xuZXhwb3J0cy5EZWZhdWx0UmVhZGVyID0gRGVmYXVsdFJlYWRlcjtcbmZ1bmN0aW9uIGluZmVyT3JVbmtub3duKG9iaikge1xuICAgIHZhciBpbmZlcnJlZCA9IGpzdHlwZXNfMS5UeXBlcy5pbmZlcihvYmopO1xuICAgIGlmIChpbmZlcnJlZCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBqc3R5cGVzXzEuVHlwZXMudG9TdHJpbmcoaW5mZXJyZWQpO1xuICAgIH1cbiAgICByZXR1cm4gJ1Vua25vd24nO1xufVxudmFyIE9yUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPclJlYWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPclJlYWRlcihyZWFkZXJBLCByZWFkZXJCKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnJlYWRlckEgPSByZWFkZXJBO1xuICAgICAgICBfdGhpcy5yZWFkZXJCID0gcmVhZGVyQjtcbiAgICAgICAgX3RoaXMuZXhwZWN0ZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLlVuaW9uKFtyZWFkZXJBLmV4cGVjdGVkVHlwZSwgcmVhZGVyQi5leHBlY3RlZFR5cGVdKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPclJlYWRlci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZGVyQS5yZWFkKG9iaikubWFwKGZ1bmN0aW9uIChzdWNjZXNzKSB7IHJldHVybiByZXN1bHRfMS5SZXN1bHQuc3VjY2VzcyhzdWNjZXNzKTsgfSwgZnVuY3Rpb24gKGZhaWx1cmUpIHsgcmV0dXJuIF90aGlzLnJlYWRlckIucmVhZChvYmopXG4gICAgICAgICAgICAubWFwRmFpbHVyZShmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIGRlY29kaW5nX2Vycm9yXzEuSW52YWxpZFR5cGVFcnJvci5jcmVhdGUob2JqLCBqc3R5cGVzXzEuVHlwZXMudG9TdHJpbmcoX3RoaXMuZXhwZWN0ZWRUeXBlKSwgaW5mZXJPclVua25vd24ob2JqKSwgZGVjb2RpbmdfZXJyb3JfMS5FcnJvckdyb3VwLmNyZWF0ZShvYmosIFtmYWlsdXJlLCBlcnJvcl0pKTsgfSk7IH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE9yUmVhZGVyO1xufShBYnN0cmFjdFJlYWRlcikpO1xuZXhwb3J0cy5PclJlYWRlciA9IE9yUmVhZGVyO1xudmFyIE9wdGlvbmFsUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPcHRpb25hbFJlYWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPcHRpb25hbFJlYWRlcihyZWFkZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVhZGVyLCBudWxsKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5leHBlY3RlZFR5cGUgPSBqc3R5cGVzXzEuVHlwZXMuTnVsbGFibGUocmVhZGVyLmV4cGVjdGVkVHlwZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE9wdGlvbmFsUmVhZGVyO1xufShEZWZhdWx0UmVhZGVyKSk7XG5leHBvcnRzLk9wdGlvbmFsUmVhZGVyID0gT3B0aW9uYWxSZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hYnN0cmFjdC1yZWFkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgc3VjY2Vzc18xID0gcmVxdWlyZShcIi4vc3VjY2Vzc1wiKTtcbnZhciBmYWlsdXJlXzEgPSByZXF1aXJlKFwiLi9mYWlsdXJlXCIpO1xudmFyIHVucmVhY2hhYmxlXzEgPSByZXF1aXJlKFwiLi4vdW5yZWFjaGFibGVcIik7XG52YXIgUmVzdWx0O1xuKGZ1bmN0aW9uIChSZXN1bHQpIHtcbiAgICBmdW5jdGlvbiBzdWNjZXNzKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgc3VjY2Vzc18xLlJlc3VsdFN1Y2Nlc3NJbXBsKHZhbHVlKTtcbiAgICB9XG4gICAgUmVzdWx0LnN1Y2Nlc3MgPSBzdWNjZXNzO1xuICAgIGZ1bmN0aW9uIGZhaWx1cmUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBmYWlsdXJlXzEuUmVzdWx0RmFpbHVyZUltcGwodmFsdWUpO1xuICAgIH1cbiAgICBSZXN1bHQuZmFpbHVyZSA9IGZhaWx1cmU7XG4gICAgZnVuY3Rpb24gYWxsKHJlc3VsdHMpIHtcbiAgICAgICAgdmFyIHN1Y2Nlc3NlcyA9IFtdO1xuICAgICAgICB2YXIgZmFpbHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0c1tpXTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuaXNTdWNjZXNzKCkpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzZXMucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LmlzRmFpbHVyZSgpKSB7XG4gICAgICAgICAgICAgICAgZmFpbHVyZXMucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gdW5yZWFjaGFibGVfMS51bnJlYWNoYWJsZShcIkEgcmVzdWx0IG11c3QgZWl0aGVyIGJlIGEgc3VjY2VzcyBvciBhIGZhaWx1cmUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmYWlsdXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmZhaWx1cmUoZmFpbHVyZXMubWFwKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmLmVycm9yOyB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlc3VsdC5zdWNjZXNzKHN1Y2Nlc3Nlcy5tYXAoZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYudmFsdWU7IH0pKTtcbiAgICB9XG4gICAgUmVzdWx0LmFsbCA9IGFsbDtcbn0pKFJlc3VsdCA9IGV4cG9ydHMuUmVzdWx0IHx8IChleHBvcnRzLlJlc3VsdCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXN1bHQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJyYXlDaGlsZEVycm9yO1xuKGZ1bmN0aW9uIChBcnJheUNoaWxkRXJyb3IpIHtcbiAgICBmdW5jdGlvbiBjcmVhdGUoaW5kZXgsIGVycm9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnYXJyYXktZXJyb3InLFxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgIH07XG4gICAgfVxuICAgIEFycmF5Q2hpbGRFcnJvci5jcmVhdGUgPSBjcmVhdGU7XG59KShBcnJheUNoaWxkRXJyb3IgPSBleHBvcnRzLkFycmF5Q2hpbGRFcnJvciB8fCAoZXhwb3J0cy5BcnJheUNoaWxkRXJyb3IgPSB7fSkpO1xudmFyIEVycm9yR3JvdXA7XG4oZnVuY3Rpb24gKEVycm9yR3JvdXApIHtcbiAgICBmdW5jdGlvbiBjcmVhdGUodmFsdWUsIGVycm9ycykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2Vycm9yLWdyb3VwJyxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGVycm9yczogZXJyb3JzXG4gICAgICAgIH07XG4gICAgfVxuICAgIEVycm9yR3JvdXAuY3JlYXRlID0gY3JlYXRlO1xufSkoRXJyb3JHcm91cCA9IGV4cG9ydHMuRXJyb3JHcm91cCB8fCAoZXhwb3J0cy5FcnJvckdyb3VwID0ge30pKTtcbnZhciBJbmNvbnNpc3RlbnRUeXBlc0Vycm9yO1xuKGZ1bmN0aW9uIChJbmNvbnNpc3RlbnRUeXBlc0Vycm9yKSB7XG4gICAgZnVuY3Rpb24gY3JlYXRlKHZhbHVlLCBmb3VuZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2luY29uc2lzdGVudC10eXBlcycsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBmb3VuZDogZm91bmRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgSW5jb25zaXN0ZW50VHlwZXNFcnJvci5jcmVhdGUgPSBjcmVhdGU7XG59KShJbmNvbnNpc3RlbnRUeXBlc0Vycm9yID0gZXhwb3J0cy5JbmNvbnNpc3RlbnRUeXBlc0Vycm9yIHx8IChleHBvcnRzLkluY29uc2lzdGVudFR5cGVzRXJyb3IgPSB7fSkpO1xudmFyIEludmFsaWRUeXBlRXJyb3I7XG4oZnVuY3Rpb24gKEludmFsaWRUeXBlRXJyb3IpIHtcbiAgICBmdW5jdGlvbiBjcmVhdGUodmFsdWUsIGV4cGVjdGVkLCBhY3R1YWwsIGZvcndhcmRlZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2ludmFsaWQtdHlwZScsXG4gICAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgICAgICAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGVycm9yOiBmb3J3YXJkZWQgfHwgbnVsbFxuICAgICAgICB9O1xuICAgIH1cbiAgICBJbnZhbGlkVHlwZUVycm9yLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKEludmFsaWRUeXBlRXJyb3IgPSBleHBvcnRzLkludmFsaWRUeXBlRXJyb3IgfHwgKGV4cG9ydHMuSW52YWxpZFR5cGVFcnJvciA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWNvZGluZy1lcnJvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcbiAgICByZXN1bHRbXCJkZWZhdWx0XCJdID0gbW9kO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGVycm9ycyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi4vZXJyb3JzL2RlY29kaW5nL2RlY29kaW5nLWVycm9yXCIpKTtcbnZhciBhYnN0cmFjdF9yZWFkZXJfMSA9IHJlcXVpcmUoXCIuL2Fic3RyYWN0LXJlYWRlclwiKTtcbnZhciBqc3R5cGVzXzEgPSByZXF1aXJlKFwiLi4vanN0eXBlc1wiKTtcbnZhciBFeHRyYWN0UmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFeHRyYWN0UmVhZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEV4dHJhY3RSZWFkZXIocHJvcGVydHksIHJlYWRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgICAgICBfdGhpcy5yZWFkZXIgPSByZWFkZXI7XG4gICAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgICAgb2JqW3Byb3BlcnR5XSA9IHJlYWRlci5leHBlY3RlZFR5cGU7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFeHRyYWN0JywgcHJvcGVydHksICdvZiB0eXBlJywgcmVhZGVyLmV4cGVjdGVkVHlwZSk7XG4gICAgICAgIF90aGlzLmV4cGVjdGVkVHlwZSA9IGpzdHlwZXNfMS5UeXBlcy5PYmplY3Qob2JqKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0NvbXB1dGVkIGV4cGVjdGVkIHR5cGUgaXMnLCBfdGhpcy5leHBlY3RlZFR5cGUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEV4dHJhY3RSZWFkZXIucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvYmogJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCB0aGlzLnByb3BlcnR5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZGVyLnJlYWQob2JqW3RoaXMucHJvcGVydHldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRlci5yZWFkKG51bGwpLm1hcEZhaWx1cmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpbmZlcnJlZCA9IGpzdHlwZXNfMS5UeXBlcy5pbmZlcihvYmopO1xuICAgICAgICAgICAgICAgIHZhciB0eXBlU3RyaW5nID0gaW5mZXJyZWQgJiYganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKGluZmVycmVkKSB8fCAnVW5rbm93bic7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9ycy5JbnZhbGlkVHlwZUVycm9yLmNyZWF0ZShvYmosIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhfdGhpcy5leHBlY3RlZFR5cGUpLCB0eXBlU3RyaW5nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRXh0cmFjdFJlYWRlcjtcbn0oYWJzdHJhY3RfcmVhZGVyXzEuQWJzdHJhY3RSZWFkZXIpKTtcbmV4cG9ydHMuRXh0cmFjdFJlYWRlciA9IEV4dHJhY3RSZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRyYWN0LXJlYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGFic3RyYWN0X3JlYWRlcl8xID0gcmVxdWlyZShcIi4vYWJzdHJhY3QtcmVhZGVyXCIpO1xudmFyIGpzdHlwZXNfMSA9IHJlcXVpcmUoXCIuLi9qc3R5cGVzXCIpO1xudmFyIHJlc3VsdF8xID0gcmVxdWlyZShcIi4uL3Jlc3VsdC9yZXN1bHRcIik7XG52YXIgQW55UmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbnlSZWFkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQW55UmVhZGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZXhwZWN0ZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLkFueTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBbnlSZWFkZXIucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuc3VjY2VzcyhvYmopO1xuICAgIH07XG4gICAgcmV0dXJuIEFueVJlYWRlcjtcbn0oYWJzdHJhY3RfcmVhZGVyXzEuQWJzdHJhY3RSZWFkZXIpKTtcbmV4cG9ydHMuQW55UmVhZGVyID0gQW55UmVhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW55LXJlYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkZWNvZGluZ19lcnJvcl8xID0gcmVxdWlyZShcIi4uL2Vycm9ycy9kZWNvZGluZy9kZWNvZGluZy1lcnJvclwiKTtcbnZhciByZXN1bHRfMSA9IHJlcXVpcmUoXCIuLi9yZXN1bHQvcmVzdWx0XCIpO1xudmFyIGpzdHlwZXNfMSA9IHJlcXVpcmUoXCIuLi9qc3R5cGVzXCIpO1xudmFyIE1hcFJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYXBSZWFkZXIodmFsdWVSZWFkZXIpIHtcbiAgICAgICAgdGhpcy52YWx1ZVJlYWRlciA9IHZhbHVlUmVhZGVyO1xuICAgICAgICB0aGlzLmV4cGVjdGVkVHlwZSA9IGpzdHlwZXNfMS5UeXBlcy5NYXAodmFsdWVSZWFkZXIuZXhwZWN0ZWRUeXBlKTtcbiAgICB9XG4gICAgTWFwUmVhZGVyLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHZhciBkZWNvZGVkID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlY29kZWRWYWx1ZSA9IHRoaXMudmFsdWVSZWFkZXIucmVhZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWNvZGVkVmFsdWUuaXNTdWNjZXNzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWRba2V5XSA9IGRlY29kZWRWYWx1ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eXBlU3RyaW5nID0gJ3snICsganN0eXBlc18xLnF1b3RlKGtleSkgKyAnOiBVbmtub3dufSc7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqU3BlYyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZmVycmVkVHlwZV8xID0ganN0eXBlc18xLlR5cGVzLmluZmVyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcnJlZFR5cGVfMSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqU3BlY1trZXldID0gaW5mZXJyZWRUeXBlXzE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZVN0cmluZyA9IGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhqc3R5cGVzXzEuVHlwZXMuT2JqZWN0KG9ialNwZWMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuZmFpbHVyZShkZWNvZGluZ19lcnJvcl8xLkludmFsaWRUeXBlRXJyb3IuY3JlYXRlKG9iaiwganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKHRoaXMuZXhwZWN0ZWRUeXBlKSwgdHlwZVN0cmluZywgZGVjb2RlZFZhbHVlLmlzRmFpbHVyZSgpID8gZGVjb2RlZFZhbHVlLmVycm9yIDogdW5kZWZpbmVkKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XzEuUmVzdWx0LnN1Y2Nlc3MoZGVjb2RlZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZmVycmVkVHlwZSA9IGpzdHlwZXNfMS5UeXBlcy5pbmZlcihvYmopO1xuICAgICAgICByZXR1cm4gcmVzdWx0XzEuUmVzdWx0LmZhaWx1cmUoZGVjb2RpbmdfZXJyb3JfMS5JbnZhbGlkVHlwZUVycm9yLmNyZWF0ZShvYmosIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyh0aGlzLmV4cGVjdGVkVHlwZSksIGluZmVycmVkVHlwZSAmJiBqc3R5cGVzXzEuVHlwZXMudG9TdHJpbmcoaW5mZXJyZWRUeXBlKSB8fCAnVW5rbm93bicpKTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBSZWFkZXI7XG59KCkpO1xuZXhwb3J0cy5NYXBSZWFkZXIgPSBNYXBSZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAtcmVhZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xuICAgIHJlc3VsdFtcImRlZmF1bHRcIl0gPSBtb2Q7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXJyb3JzID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuLi9lcnJvcnMvZGVjb2RpbmcvZGVjb2RpbmctZXJyb3JcIikpO1xudmFyIHJlc3VsdF8xID0gcmVxdWlyZShcIi4uL3Jlc3VsdC9yZXN1bHRcIik7XG52YXIgYWJzdHJhY3RfcmVhZGVyXzEgPSByZXF1aXJlKFwiLi9hYnN0cmFjdC1yZWFkZXJcIik7XG52YXIgZXh0cmFjdF9yZWFkZXJfMSA9IHJlcXVpcmUoXCIuL2V4dHJhY3QtcmVhZGVyXCIpO1xudmFyIGpzdHlwZXNfMSA9IHJlcXVpcmUoXCIuLi9qc3R5cGVzXCIpO1xudmFyIEVtcHR5T2JqZWN0Q29uc3RydWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEVtcHR5T2JqZWN0Q29uc3RydWN0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRW1wdHlPYmplY3RDb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmV4cGVjdGVkVHlwZSA9IGpzdHlwZXNfMS5UeXBlcy5PYmplY3Qoe30pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8vIGV4cGVjdGVkVHlwZXMgPSB7fTtcbiAgICBFbXB0eU9iamVjdENvbnN0cnVjdG9yLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgICBFbXB0eU9iamVjdENvbnN0cnVjdG9yLnByb3RvdHlwZS5wdXQgPSBmdW5jdGlvbiAocywgcmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JqZWN0Q29uc3RydWN0b3IocywgcmVhZGVyLCB0aGlzKTtcbiAgICB9O1xuICAgIEVtcHR5T2JqZWN0Q29uc3RydWN0b3IucHJvdG90eXBlLnByb3AgPSBmdW5jdGlvbiAocywgcmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JqZWN0Q29uc3RydWN0b3IocywgbmV3IGV4dHJhY3RfcmVhZGVyXzEuRXh0cmFjdFJlYWRlcihzLCByZWFkZXIpLCB0aGlzKTtcbiAgICB9O1xuICAgIEVtcHR5T2JqZWN0Q29uc3RydWN0b3IucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuc3VjY2Vzcyh7fSk7XG4gICAgfTtcbiAgICByZXR1cm4gRW1wdHlPYmplY3RDb25zdHJ1Y3Rvcjtcbn0oYWJzdHJhY3RfcmVhZGVyXzEuQWJzdHJhY3RSZWFkZXIpKTtcbmV4cG9ydHMuRW1wdHlPYmplY3RDb25zdHJ1Y3RvciA9IEVtcHR5T2JqZWN0Q29uc3RydWN0b3I7XG52YXIgT2JqZWN0Q29uc3RydWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JqZWN0Q29uc3RydWN0b3IocHJvcGVydHksIHJlYWRlciwgYmFzZSkge1xuICAgICAgICAvLyBjb25zdCBiYXNlRXhwZWN0ZWRUeXBlcyA9IGJhc2UuZXhwZWN0ZWRUeXBlcztcbiAgICAgICAgLy8gY29uc3QgZXhwZWN0ZWRUeXBlczoge1trOiBzdHJpbmddOiBzdHJpbmd9ID0ge307XG4gICAgICAgIC8vIGNvbnN0IGV4cGVjdGVkVHlwZVBhaXJzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAvLyBmb3IgKHZhciBrIGluIGJhc2VFeHBlY3RlZFR5cGVzKSB7XG4gICAgICAgIC8vICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGJhc2VFeHBlY3RlZFR5cGVzLCBrKSkge1xuICAgICAgICAvLyAgICAgY29uc3QgYmFzZUV4cGVjdGVkVHlwZSA9IGJhc2VFeHBlY3RlZFR5cGVzW2tdO1xuICAgICAgICAvLyAgICAgZXhwZWN0ZWRUeXBlc1trXSA9IGJhc2VFeHBlY3RlZFR5cGU7XG4gICAgICAgIC8vICAgICBleHBlY3RlZFR5cGVQYWlycy5wdXNoKFR5cGVzLnF1b3RlQW5kRXNjYXBlKCdcIicsIGspICsgJzogJyArIGJhc2VFeHBlY3RlZFR5cGUpO1xuICAgICAgICAvLyAgIH1cbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBleHBlY3RlZFR5cGVzW3Byb3BlcnR5XSA9IHJlYWRlci5leHBlY3RlZFR5cGU7XG4gICAgICAgIC8vIGV4cGVjdGVkVHlwZVBhaXJzLnB1c2goVHlwZXMucXVvdGVBbmRFc2NhcGUoJ1wiJywgcHJvcGVydHkpICsgJzogJyArIHJlYWRlci5leHBlY3RlZFR5cGUpO1xuICAgICAgICAvLyB0aGlzLmV4cGVjdGVkVHlwZXMgPSBleHBlY3RlZFR5cGVzO1xuICAgICAgICB2YXIgY29tYmluZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLmNvbWJpbmUoYmFzZS5leHBlY3RlZFR5cGUsIHJlYWRlci5leHBlY3RlZFR5cGUpO1xuICAgICAgICBpZiAoY29tYmluZWRUeXBlID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdVbmFibGUgdG8gY29tYmluZSB0eXBlczogJyArIGJhc2UuZXhwZWN0ZWRUeXBlLnRvU3RyaW5nKCkgKyAnIGFuZCAnICsgcmVhZGVyLmV4cGVjdGVkVHlwZS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV4cGVjdGVkVHlwZSA9IGNvbWJpbmVkVHlwZTsgLy8gWyd7JywgZXhwZWN0ZWRUeXBlUGFpcnMuam9pbignLCAnKSwgJ30nXS5qb2luKCcnKTtcbiAgICAgICAgdGhpcy5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgICAgICB0aGlzLnJlYWRlciA9IHJlYWRlcjtcbiAgICAgICAgdGhpcy5iYXNlID0gYmFzZTtcbiAgICB9XG4gICAgT2JqZWN0Q29uc3RydWN0b3IucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfTtcbiAgICBPYmplY3RDb25zdHJ1Y3Rvci5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24gKHMsIHJlYWRlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9iamVjdENvbnN0cnVjdG9yKHMsIHJlYWRlciwgdGhpcyk7XG4gICAgfTtcbiAgICBPYmplY3RDb25zdHJ1Y3Rvci5wcm90b3R5cGUucHJvcCA9IGZ1bmN0aW9uIChzLCByZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RDb25zdHJ1Y3RvcihzLCBuZXcgZXh0cmFjdF9yZWFkZXJfMS5FeHRyYWN0UmVhZGVyKHMsIHJlYWRlciksIHRoaXMpO1xuICAgIH07XG4gICAgT2JqZWN0Q29uc3RydWN0b3IucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2UucmVhZChvYmopLmZsYXRNYXAoZnVuY3Rpb24gKGJhc2VTdWNjZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucmVhZGVyLnJlYWQob2JqKS5tYXBTdWNjZXNzKGZ1bmN0aW9uIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1Y2Nlc3NPYmogPSBiYXNlU3VjY2VzcztcbiAgICAgICAgICAgICAgICBzdWNjZXNzT2JqW190aGlzLnByb3BlcnR5XSA9IHN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3NPYmo7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGZhaWx1cmUpIHtcbiAgICAgICAgICAgIGlmIChmYWlsdXJlLnR5cGUgPT0gJ2ludmFsaWQtdHlwZScpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5mZXJyZWQgPSBqc3R5cGVzXzEuVHlwZXMuaW5mZXIob2JqKTtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZVN0cmluZyA9IGluZmVycmVkICYmIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhpbmZlcnJlZCkgfHwgJ1Vua25vd24nO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuZmFpbHVyZShlcnJvcnMuSW52YWxpZFR5cGVFcnJvci5jcmVhdGUob2JqLCBqc3R5cGVzXzEuVHlwZXMudG9TdHJpbmcoX3RoaXMuZXhwZWN0ZWRUeXBlKSwgdHlwZVN0cmluZywgZmFpbHVyZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5mYWlsdXJlKGZhaWx1cmUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3RDb25zdHJ1Y3Rvcjtcbn0oKSk7XG5leHBvcnRzLk9iamVjdENvbnN0cnVjdG9yID0gT2JqZWN0Q29uc3RydWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYmplY3QtcmVhZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xuICAgIHJlc3VsdFtcImRlZmF1bHRcIl0gPSBtb2Q7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXJyb3JzID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuLi9lcnJvcnMvZGVjb2RpbmcvZGVjb2RpbmctZXJyb3JcIikpO1xudmFyIHJlc3VsdF8xID0gcmVxdWlyZShcIi4uL3Jlc3VsdC9yZXN1bHRcIik7XG52YXIgYWJzdHJhY3RfcmVhZGVyXzEgPSByZXF1aXJlKFwiLi9hYnN0cmFjdC1yZWFkZXJcIik7XG52YXIganN0eXBlc18xID0gcmVxdWlyZShcIi4uL2pzdHlwZXNcIik7XG52YXIgRW51bU5vTWF0Y2hFcnJvcjtcbihmdW5jdGlvbiAoRW51bU5vTWF0Y2hFcnJvcikge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdlbnVtLW5vLW1hdGNoJyxcbiAgICAgICAgICAgIHZhbGlkVmFsdWVzOiB2YWx1ZXNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgRW51bU5vTWF0Y2hFcnJvci5jcmVhdGUgPSBjcmVhdGU7XG59KShFbnVtTm9NYXRjaEVycm9yIHx8IChFbnVtTm9NYXRjaEVycm9yID0ge30pKTtcbnZhciBFbXB0eUVudW1SZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRW1wdHlFbnVtUmVhZGVyKCkge1xuICAgICAgICB0aGlzLmV4cGVjdGVkVHlwZSA9IGpzdHlwZXNfMS5UeXBlcy5VbmlvbihbXSk7XG4gICAgICAgIHRoaXMuZXhwZWN0ZWRWYWx1ZXMgPSBbXTtcbiAgICB9XG4gICAgRW1wdHlFbnVtUmVhZGVyLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgICBFbXB0eUVudW1SZWFkZXIucHJvdG90eXBlLmNhc2UgPSBmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gbmV3IEVudW1WYWx1ZVJlYWRlcihzLCB0aGlzKTtcbiAgICB9O1xuICAgIEVtcHR5RW51bVJlYWRlci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgaW5mZXJyZWQgPSBqc3R5cGVzXzEuVHlwZXMuaW5mZXIob2JqKTtcbiAgICAgICAgICAgIHZhciB0eXBlU3RyaW5nID0gaW5mZXJyZWQgJiYganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKGluZmVycmVkKSB8fCAnVW5rbm93bic7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XzEuUmVzdWx0LmZhaWx1cmUoZXJyb3JzLkludmFsaWRUeXBlRXJyb3IuY3JlYXRlKG9iaiwganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKGpzdHlwZXNfMS5UeXBlcy5TdHJpbmcpLCB0eXBlU3RyaW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5mYWlsdXJlKEVudW1Ob01hdGNoRXJyb3IuY3JlYXRlKFtdKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRW1wdHlFbnVtUmVhZGVyO1xufSgpKTtcbnZhciBFbnVtVmFsdWVSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRW51bVZhbHVlUmVhZGVyKHZhbHVlLCBiYXNlUmVhZGVyKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5iYXNlUmVhZGVyID0gYmFzZVJlYWRlcjtcbiAgICAgICAgdGhpcy5leHBlY3RlZFZhbHVlcyA9IGJhc2VSZWFkZXIuZXhwZWN0ZWRWYWx1ZXMuY29uY2F0KFt2YWx1ZV0pO1xuICAgIH1cbiAgICBFbnVtVmFsdWVSZWFkZXIucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfTtcbiAgICBFbnVtVmFsdWVSZWFkZXIucHJvdG90eXBlLmNhc2UgPSBmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gbmV3IEVudW1WYWx1ZVJlYWRlcihzLCB0aGlzKTtcbiAgICB9O1xuICAgIEVudW1WYWx1ZVJlYWRlci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgaW5mZXJyZWQgPSBqc3R5cGVzXzEuVHlwZXMuaW5mZXIob2JqKTtcbiAgICAgICAgICAgIHZhciB0eXBlU3RyaW5nID0gaW5mZXJyZWQgJiYganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKGluZmVycmVkKSB8fCAnVW5rbm93bic7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XzEuUmVzdWx0LmZhaWx1cmUoZXJyb3JzLkludmFsaWRUeXBlRXJyb3IuY3JlYXRlKG9iaiwganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKGpzdHlwZXNfMS5UeXBlcy5TdHJpbmcpLCB0eXBlU3RyaW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iaiA9PT0gdGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5zdWNjZXNzKHRoaXMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VSZWFkZXIucmVhZChvYmopLm1hcEZhaWx1cmUoZnVuY3Rpb24gKGZhaWx1cmUpIHtcbiAgICAgICAgICAgIGlmIChmYWlsdXJlLnR5cGUgPT09ICdlbnVtLW5vLW1hdGNoJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBFbnVtTm9NYXRjaEVycm9yLmNyZWF0ZShmYWlsdXJlLnZhbGlkVmFsdWVzLmNvbmNhdChbX3RoaXMudmFsdWVdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFpbHVyZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRW51bVZhbHVlUmVhZGVyO1xufSgpKTtcbnZhciBFbnVtUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFbnVtUmVhZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEVudW1SZWFkZXIoYmFzZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5iYXNlID0gYmFzZTtcbiAgICAgICAgX3RoaXMuZXhwZWN0ZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLlVuaW9uKGJhc2UuZXhwZWN0ZWRWYWx1ZXMubWFwKGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiBqc3R5cGVzXzEuVHlwZXMuU3RyaW5nVmFsdWUodHlwZSk7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBFbnVtUmVhZGVyLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbnVtUmVhZGVyKG5ldyBFbXB0eUVudW1SZWFkZXIoKSk7XG4gICAgfTtcbiAgICBFbnVtUmVhZGVyLnByb3RvdHlwZS5jYXNlID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbnVtUmVhZGVyKHRoaXMuYmFzZS5jYXNlKHMpKTtcbiAgICB9O1xuICAgIEVudW1SZWFkZXIucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2UucmVhZChvYmopLm1hcEZhaWx1cmUoZnVuY3Rpb24gKGZhaWx1cmUpIHtcbiAgICAgICAgICAgIGlmIChmYWlsdXJlLnR5cGUgPT09ICdlbnVtLW5vLW1hdGNoJykge1xuICAgICAgICAgICAgICAgIHZhciBpbmZlcnJlZCA9IGpzdHlwZXNfMS5UeXBlcy5pbmZlcihvYmopO1xuICAgICAgICAgICAgICAgIHZhciB0eXBlU3RyaW5nID0gaW5mZXJyZWQgJiYganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKGluZmVycmVkKSB8fCAnVW5rbm93bic7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9ycy5JbnZhbGlkVHlwZUVycm9yLmNyZWF0ZShvYmosIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhfdGhpcy5leHBlY3RlZFR5cGUpLCB0eXBlU3RyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWlsdXJlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBFbnVtUmVhZGVyO1xufShhYnN0cmFjdF9yZWFkZXJfMS5BYnN0cmFjdFJlYWRlcikpO1xuZXhwb3J0cy5FbnVtUmVhZGVyID0gRW51bVJlYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVudW0tcmVhZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZGVjb2RpbmdfZXJyb3JfMSA9IHJlcXVpcmUoXCIuLi9lcnJvcnMvZGVjb2RpbmcvZGVjb2RpbmctZXJyb3JcIik7XG52YXIgcmVzdWx0XzEgPSByZXF1aXJlKFwiLi4vcmVzdWx0L3Jlc3VsdFwiKTtcbnZhciBhYnN0cmFjdF9yZWFkZXJfMSA9IHJlcXVpcmUoXCIuL2Fic3RyYWN0LXJlYWRlclwiKTtcbnZhciBqc3R5cGVzXzEgPSByZXF1aXJlKFwiLi4vanN0eXBlc1wiKTtcbnZhciBBcnJheVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXJyYXlSZWFkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXJyYXlSZWFkZXIocmVhZGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnJlYWRlciA9IHJlYWRlcjtcbiAgICAgICAgX3RoaXMuZXhwZWN0ZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLkFycmF5KHJlYWRlci5leHBlY3RlZFR5cGUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFycmF5UmVhZGVyLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob2JqICYmIHR5cGVvZiBvYmoubGVuZ3RoID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdmFyIGFycmF5ID0gb2JqO1xuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBhcnJheS5tYXAoZnVuY3Rpb24gKHYsIGluZGV4KSB7IHJldHVybiBfdGhpcy5yZWFkZXIucmVhZCh2KS5tYXBGYWlsdXJlKGZ1bmN0aW9uIChlKSB7IHJldHVybiAoeyBpbmRleDogaW5kZXgsIGVycm9yOiBlIH0pOyB9KTsgfSk7XG4gICAgICAgICAgICByZXN1bHRfMS5SZXN1bHQuYWxsKHJlc3VsdHMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5hbGwocmVzdWx0cylcbiAgICAgICAgICAgICAgICAubWFwRmFpbHVyZShmdW5jdGlvbiAoZXJyb3JzKSB7IHJldHVybiBkZWNvZGluZ19lcnJvcl8xLkVycm9yR3JvdXAuY3JlYXRlKG9iaiwgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIGRlY29kaW5nX2Vycm9yXzEuQXJyYXlDaGlsZEVycm9yLmNyZWF0ZShlcnJvci5pbmRleCwgZXJyb3IuZXJyb3IpOyB9KSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmZlcnJlZFR5cGUgPSBqc3R5cGVzXzEuVHlwZXMuaW5mZXIob2JqKTtcbiAgICAgICAgdmFyIHR5cGVTdHJpbmcgPSBpbmZlcnJlZFR5cGUgJiYganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKGluZmVycmVkVHlwZSkgfHwgJ1Vua25vd24nO1xuICAgICAgICByZXR1cm4gcmVzdWx0XzEuUmVzdWx0LmZhaWx1cmUoZGVjb2RpbmdfZXJyb3JfMS5JbnZhbGlkVHlwZUVycm9yLmNyZWF0ZShvYmosIHRoaXMuZXhwZWN0ZWRUeXBlLnRvU3RyaW5nKCksIHR5cGVTdHJpbmcpKTtcbiAgICB9O1xuICAgIHJldHVybiBBcnJheVJlYWRlcjtcbn0oYWJzdHJhY3RfcmVhZGVyXzEuQWJzdHJhY3RSZWFkZXIpKTtcbmV4cG9ydHMuQXJyYXlSZWFkZXIgPSBBcnJheVJlYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFycmF5LXJlYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGRlY29kaW5nX2Vycm9yXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JzL2RlY29kaW5nL2RlY29kaW5nLWVycm9yXCIpO1xudmFyIHJlc3VsdF8xID0gcmVxdWlyZShcIi4uL3Jlc3VsdC9yZXN1bHRcIik7XG52YXIgYWJzdHJhY3RfcmVhZGVyXzEgPSByZXF1aXJlKFwiLi9hYnN0cmFjdC1yZWFkZXJcIik7XG52YXIganN0eXBlc18xID0gcmVxdWlyZShcIi4uL2pzdHlwZXNcIik7XG52YXIgUHJpbWl0aXZlUmVhZGVycztcbihmdW5jdGlvbiAoUHJpbWl0aXZlUmVhZGVycykge1xuICAgIHZhciBCb29sZWFuUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoQm9vbGVhblJlYWRlciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gQm9vbGVhblJlYWRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMuZXhwZWN0ZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLkJvb2xlYW47XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgQm9vbGVhblJlYWRlci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XzEuUmVzdWx0LnN1Y2Nlc3Mob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbmZlcnJlZCA9IGpzdHlwZXNfMS5UeXBlcy5pbmZlcihvYmopO1xuICAgICAgICAgICAgdmFyIHR5cGVTdHJpbmcgPSBpbmZlcnJlZCAmJiBqc3R5cGVzXzEuVHlwZXMudG9TdHJpbmcoaW5mZXJyZWQpIHx8ICdVbmtub3duJztcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuZmFpbHVyZShkZWNvZGluZ19lcnJvcl8xLkludmFsaWRUeXBlRXJyb3IuY3JlYXRlKG9iaiwganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKHRoaXMuZXhwZWN0ZWRUeXBlKSwgdHlwZVN0cmluZykpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQm9vbGVhblJlYWRlcjtcbiAgICB9KGFic3RyYWN0X3JlYWRlcl8xLkFic3RyYWN0UmVhZGVyKSk7XG4gICAgUHJpbWl0aXZlUmVhZGVycy5Cb29sZWFuUmVhZGVyID0gQm9vbGVhblJlYWRlcjtcbiAgICB2YXIgU3RyaW5nUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoU3RyaW5nUmVhZGVyLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBTdHJpbmdSZWFkZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLmV4cGVjdGVkVHlwZSA9IGpzdHlwZXNfMS5UeXBlcy5TdHJpbmc7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgU3RyaW5nUmVhZGVyLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5zdWNjZXNzKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5mZXJyZWQgPSBqc3R5cGVzXzEuVHlwZXMuaW5mZXIob2JqKTtcbiAgICAgICAgICAgIHZhciB0eXBlU3RyaW5nID0gaW5mZXJyZWQgJiYganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKGluZmVycmVkKSB8fCAnVW5rbm93bic7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XzEuUmVzdWx0LmZhaWx1cmUoZGVjb2RpbmdfZXJyb3JfMS5JbnZhbGlkVHlwZUVycm9yLmNyZWF0ZShvYmosIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyh0aGlzLmV4cGVjdGVkVHlwZSksIHR5cGVTdHJpbmcpKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFN0cmluZ1JlYWRlcjtcbiAgICB9KGFic3RyYWN0X3JlYWRlcl8xLkFic3RyYWN0UmVhZGVyKSk7XG4gICAgUHJpbWl0aXZlUmVhZGVycy5TdHJpbmdSZWFkZXIgPSBTdHJpbmdSZWFkZXI7XG4gICAgdmFyIE51bWJlclJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKE51bWJlclJlYWRlciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gTnVtYmVyUmVhZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy5leHBlY3RlZFR5cGUgPSBqc3R5cGVzXzEuVHlwZXMuTnVtYmVyO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIE51bWJlclJlYWRlci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuc3VjY2VzcyhvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluZmVycmVkID0ganN0eXBlc18xLlR5cGVzLmluZmVyKG9iaik7XG4gICAgICAgICAgICB2YXIgdHlwZVN0cmluZyA9IGluZmVycmVkICYmIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhpbmZlcnJlZCkgfHwgJ1Vua25vd24nO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5mYWlsdXJlKGRlY29kaW5nX2Vycm9yXzEuSW52YWxpZFR5cGVFcnJvci5jcmVhdGUob2JqLCBqc3R5cGVzXzEuVHlwZXMudG9TdHJpbmcodGhpcy5leHBlY3RlZFR5cGUpLCB0eXBlU3RyaW5nKSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBOdW1iZXJSZWFkZXI7XG4gICAgfShhYnN0cmFjdF9yZWFkZXJfMS5BYnN0cmFjdFJlYWRlcikpO1xuICAgIFByaW1pdGl2ZVJlYWRlcnMuTnVtYmVyUmVhZGVyID0gTnVtYmVyUmVhZGVyO1xufSkoUHJpbWl0aXZlUmVhZGVycyA9IGV4cG9ydHMuUHJpbWl0aXZlUmVhZGVycyB8fCAoZXhwb3J0cy5QcmltaXRpdmVSZWFkZXJzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByaW1pdGl2ZS1yZWFkZXJzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gdW5yZWFjaGFibGUobWVzc2FnZSkge1xuICAgIHZhciBtc2cgPSAnRkFUQUwgRVJST1IgKFVOUkVBQ0hBQkxFKScgKyAobWVzc2FnZSAmJiAoJzogJyArIG1lc3NhZ2UpIHx8ICcnKTtcbiAgICB0aHJvdyBFcnJvcihtc2cpO1xufVxuZXhwb3J0cy51bnJlYWNoYWJsZSA9IHVucmVhY2hhYmxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5yZWFjaGFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVzdWx0RmFpbHVyZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzdWx0RmFpbHVyZUltcGwoZXJyb3IpIHtcbiAgICAgICAgdGhpcy50eXBlID0gJ2ZhaWx1cmUnO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgfVxuICAgIFJlc3VsdEZhaWx1cmVJbXBsLnByb3RvdHlwZS5pc1N1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfTtcbiAgICBSZXN1bHRGYWlsdXJlSW1wbC5wcm90b3R5cGUuaXNGYWlsdXJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgICBSZXN1bHRGYWlsdXJlSW1wbC5wcm90b3R5cGUuYXNzZXJ0U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgRXJyb3IoJ1Jlc3VsdCBpcyBub3QgYSBTdWNjZXNzIHJlc3VsdC4nKTsgfTtcbiAgICBSZXN1bHRGYWlsdXJlSW1wbC5wcm90b3R5cGUuYXNzZXJ0RmFpbHVyZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZXJyb3I7IH07XG4gICAgUmVzdWx0RmFpbHVyZUltcGwucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChzdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgICAgIHJldHVybiBmYWlsdXJlKHRoaXMuZXJyb3IpO1xuICAgIH07XG4gICAgUmVzdWx0RmFpbHVyZUltcGwucHJvdG90eXBlLmZsYXRNYXAgPSBmdW5jdGlvbiAoc3VjY2VzcywgZmFpbHVyZSkge1xuICAgICAgICByZXR1cm4gZmFpbHVyZSh0aGlzLmVycm9yKTtcbiAgICB9O1xuICAgIFJlc3VsdEZhaWx1cmVJbXBsLnByb3RvdHlwZS5tYXBTdWNjZXNzID0gZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXN1bHRGYWlsdXJlSW1wbCh0aGlzLmVycm9yKTtcbiAgICB9O1xuICAgIFJlc3VsdEZhaWx1cmVJbXBsLnByb3RvdHlwZS5tYXBGYWlsdXJlID0gZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXN1bHRGYWlsdXJlSW1wbChmKHRoaXMuZXJyb3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXN1bHRGYWlsdXJlSW1wbDtcbn0oKSk7XG5leHBvcnRzLlJlc3VsdEZhaWx1cmVJbXBsID0gUmVzdWx0RmFpbHVyZUltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mYWlsdXJlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlc3VsdFN1Y2Nlc3NJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc3VsdFN1Y2Nlc3NJbXBsKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9ICdzdWNjZXNzJztcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBSZXN1bHRTdWNjZXNzSW1wbC5wcm90b3R5cGUuaXNTdWNjZXNzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgICBSZXN1bHRTdWNjZXNzSW1wbC5wcm90b3R5cGUuaXNGYWlsdXJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07XG4gICAgUmVzdWx0U3VjY2Vzc0ltcGwucHJvdG90eXBlLmFzc2VydFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnZhbHVlOyB9O1xuICAgIFJlc3VsdFN1Y2Nlc3NJbXBsLnByb3RvdHlwZS5hc3NlcnRGYWlsdXJlID0gZnVuY3Rpb24gKCkgeyB0aHJvdyBFcnJvcignUmVzdWx0IGlzIG5vdCBhIEZhaWx1cmUgcmVzdWx0LicpOyB9O1xuICAgIFJlc3VsdFN1Y2Nlc3NJbXBsLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoc3VjY2VzcywgZmFpbHVyZSkge1xuICAgICAgICByZXR1cm4gc3VjY2Vzcyh0aGlzLnZhbHVlKTtcbiAgICB9O1xuICAgIFJlc3VsdFN1Y2Nlc3NJbXBsLnByb3RvdHlwZS5mbGF0TWFwID0gZnVuY3Rpb24gKHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3ModGhpcy52YWx1ZSk7XG4gICAgfTtcbiAgICBSZXN1bHRTdWNjZXNzSW1wbC5wcm90b3R5cGUubWFwU3VjY2VzcyA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzdWx0U3VjY2Vzc0ltcGwoZih0aGlzLnZhbHVlKSk7XG4gICAgfTtcbiAgICBSZXN1bHRTdWNjZXNzSW1wbC5wcm90b3R5cGUubWFwRmFpbHVyZSA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzdWx0U3VjY2Vzc0ltcGwodGhpcy52YWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzdWx0U3VjY2Vzc0ltcGw7XG59KCkpO1xuZXhwb3J0cy5SZXN1bHRTdWNjZXNzSW1wbCA9IFJlc3VsdFN1Y2Nlc3NJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3VjY2Vzcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBhYnN0cmFjdF9yZWFkZXJfMSA9IHJlcXVpcmUoXCIuL3JlYWRlcnMvYWJzdHJhY3QtcmVhZGVyXCIpO1xudmFyIHByaW1pdGl2ZV9yZWFkZXJzXzEgPSByZXF1aXJlKFwiLi9yZWFkZXJzL3ByaW1pdGl2ZS1yZWFkZXJzXCIpO1xudmFyIGFycmF5X3JlYWRlcl8xID0gcmVxdWlyZShcIi4vcmVhZGVycy9hcnJheS1yZWFkZXJcIik7XG52YXIgZXh0cmFjdF9yZWFkZXJfMSA9IHJlcXVpcmUoXCIuL3JlYWRlcnMvZXh0cmFjdC1yZWFkZXJcIik7XG52YXIgZW51bV9yZWFkZXJfMSA9IHJlcXVpcmUoXCIuL3JlYWRlcnMvZW51bS1yZWFkZXJcIik7XG52YXIgb2JqZWN0X3JlYWRlcl8xID0gcmVxdWlyZShcIi4vcmVhZGVycy9vYmplY3QtcmVhZGVyXCIpO1xudmFyIG1hcF9yZWFkZXJfMSA9IHJlcXVpcmUoXCIuL3JlYWRlcnMvbWFwLXJlYWRlclwiKTtcbnZhciBhbnlfcmVhZGVyXzEgPSByZXF1aXJlKFwiLi9yZWFkZXJzL2FueS1yZWFkZXJcIik7XG52YXIgYWJzdHJhY3RfcmVhZGVyXzIgPSByZXF1aXJlKFwiLi9yZWFkZXJzL2Fic3RyYWN0LXJlYWRlclwiKTtcbmV4cG9ydHMuQWJzdHJhY3RSZWFkZXIgPSBhYnN0cmFjdF9yZWFkZXJfMi5BYnN0cmFjdFJlYWRlcjtcbnZhciBqc3R5cGVzXzEgPSByZXF1aXJlKFwiLi9qc3R5cGVzXCIpO1xuZXhwb3J0cy5UeXBlcyA9IGpzdHlwZXNfMS5UeXBlcztcbnZhciBUc0pzb247XG4oZnVuY3Rpb24gKFRzSnNvbikge1xuICAgIFRzSnNvbi5udW1iZXIgPSBuZXcgcHJpbWl0aXZlX3JlYWRlcnNfMS5QcmltaXRpdmVSZWFkZXJzLk51bWJlclJlYWRlcigpO1xuICAgIFRzSnNvbi5zdHJpbmcgPSBuZXcgcHJpbWl0aXZlX3JlYWRlcnNfMS5QcmltaXRpdmVSZWFkZXJzLlN0cmluZ1JlYWRlcigpO1xuICAgIFRzSnNvbi5ib29sZWFuID0gbmV3IHByaW1pdGl2ZV9yZWFkZXJzXzEuUHJpbWl0aXZlUmVhZGVycy5Cb29sZWFuUmVhZGVyKCk7XG4gICAgVHNKc29uLmFueXRoaW5nID0gbmV3IGFueV9yZWFkZXJfMS5BbnlSZWFkZXIoKTtcbiAgICBmdW5jdGlvbiBvcHRpb25hbChyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBhYnN0cmFjdF9yZWFkZXJfMS5PcHRpb25hbFJlYWRlcihyZWFkZXIpO1xuICAgIH1cbiAgICBUc0pzb24ub3B0aW9uYWwgPSBvcHRpb25hbDtcbiAgICBmdW5jdGlvbiBhcnJheShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBhcnJheV9yZWFkZXJfMS5BcnJheVJlYWRlcihyZWFkZXIpO1xuICAgIH1cbiAgICBUc0pzb24uYXJyYXkgPSBhcnJheTtcbiAgICBmdW5jdGlvbiBleHRyYWN0KHByb3BlcnR5LCByZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBleHRyYWN0X3JlYWRlcl8xLkV4dHJhY3RSZWFkZXIocHJvcGVydHksIHJlYWRlcik7XG4gICAgfVxuICAgIFRzSnNvbi5leHRyYWN0ID0gZXh0cmFjdDtcbiAgICBmdW5jdGlvbiBlbnVtZXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGVudW1fcmVhZGVyXzEuRW51bVJlYWRlci5jcmVhdGUoKTtcbiAgICB9XG4gICAgVHNKc29uLmVudW1lcmF0aW9uID0gZW51bWVyYXRpb247XG4gICAgZnVuY3Rpb24gbWFwKHZhbHVlUmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgbWFwX3JlYWRlcl8xLk1hcFJlYWRlcih2YWx1ZVJlYWRlcik7XG4gICAgfVxuICAgIFRzSnNvbi5tYXAgPSBtYXA7XG4gICAgZnVuY3Rpb24gb2JqKCkge1xuICAgICAgICByZXR1cm4gbmV3IG9iamVjdF9yZWFkZXJfMS5FbXB0eU9iamVjdENvbnN0cnVjdG9yKCk7XG4gICAgfVxuICAgIFRzSnNvbi5vYmogPSBvYmo7XG59KShUc0pzb24gPSBleHBvcnRzLlRzSnNvbiB8fCAoZXhwb3J0cy5Uc0pzb24gPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==