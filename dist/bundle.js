!function(e){var t={};function r(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,r),u.l=!0,u.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=14)}([function(e,t,r){"use strict";function n(e){return e}function u(e){return Object.keys(e)}var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){var t=new i;return e.forEach(function(e){return t.add(e)}),t}}(o||(o={}));var i=function(){function e(){this.items=[],this.index={}}return e.create=function(t){var r=new e;return t.forEach(function(e){return r.add(e)}),r},e.prototype.size=function(){return this.items.length},e.prototype.toArray=function(){return this.items.concat([])},e.prototype.copy=function(){return o.create(this.items)},e.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++){if(!e(this.items[t]))return}},e.prototype.equals=function(e){return e.size()==this.size()&&this.items.every(function(t){return e.contains(t)})},e.prototype.all=function(e){for(var t=this.items,r=t.length,n=0;n<r;n++){if(!e(t[n]))return!1}return!0},e.prototype.map=function(t){var r=new e;return this.items.forEach(function(e){return r.add(t(e))}),r},e.prototype.contains=function(e){var t=e.toString();return this.containsHash(t)},e.prototype.add=function(e){var t=e.toString();return!this.containsHash(t)&&(this.index[t]={index:this.items.length,value:e},this.items.push(e),!0)},e.prototype.remove=function(e){var t=e.toString(),r=this.index[t];if(null==r)return!1;delete this.index[t];for(var n=r.index+1;n<this.items.length;n++)this.index[this.items[n].toString()].index--;return this.items.splice(r.index,1),!0},e.prototype.union=function(t){var r=new e;return this.forEach(function(e){return r.add(e)}),t.forEach(function(e){return r.add(e)}),r},e.prototype.intersection=function(t){var r=new e;return this.forEach(function(e){return t.contains(e)&&r.add(e),!0}),r},e.prototype.subtract=function(t){var r=new e;return this.forEach(function(e){return t.contains(e)||r.add(e),!0}),r},e.prototype.isSubsetOf=function(e){for(var t=0;t<this.items.length;t++){var r=this.items[t];if(!e.contains(r))return!1}return!0},e.prototype.isDisjoint=function(e){for(var t=0;t<this.items.length;t++){var r=this.items[t];if(e.contains(r))return!1}return!0},e.prototype.containsHash=function(e){return Object.hasOwnProperty.call(this.index,e)},e}();function a(e){return e.indexOf("'")<0?"'"+e+"'":'"'+e.replace('"','\\"')+'"'}t.quote=a,function(e){function t(e){return"null"===e.type}function r(e){return"string"===e.type}function i(e){return"number"===e.type}function c(e){return"boolean"===e.type}function s(e){return"array"===e.type}function p(e){return"object"===e.type}function f(e){return"union"===e.type}function l(e){return"nullable"===e.type}function y(e){return"map"===e.type}function d(e){return"named"===e.type}function h(e){return"any"===e.type}function v(e){return function e(o,v,b){for(var _=0;_<v.length;_++)if(v[_]===o){var T=b.map[_];return null==T&&(T=b.map[_]=b.current,b.current++),"{$"+T+"}"}if(t(o))return"Null";if(r(o))return null==o.value?"String":"String<"+a(o.value)+">";if(i(o))return"Number";if(h(o))return"Any";if(c(o))return"Boolean";if(d(o))return"Named<"+o.name+">";if(y(o))return"Map<"+e(o.value,v.concat([o]),b)+">";if(l(o))return"Nullable<"+e(o.subtype,v.concat([o]),b)+">";if(s(o))return"Array<"+e(o.contained,v.concat([o]),b)+">";if(p(o)){if(null==o.spec)return"Object";var g=v.concat([o]),x=u(o.spec);x.sort();for(var O=[],R=0,w=x;R<w.length;R++){var S=w[R];if(m.hasOwnProperty.call(o.spec,S)){var j=e(o.spec[S],g,b);O.push(a(S)+": "+j)}}return"{"+O.join(", ")+"}"}if(f(o)){g=v.concat([o]);for(var E=[],A=0,P=o.types;A<P.length;A++){var M=e(P[A],g,b);E.push(M)}return E.join("|")}return n(o)}(e,[],{current:0,map:{}})}function b(e){return{type:"map",value:e}}function _(r){for(;"nullable"===r.type;)r=r.subtype;return t(r)?e.Null:h(r)?e.Any:{type:"nullable",subtype:r}}function T(e){return{type:"array",contained:e}}function m(e){return{type:"object",spec:e||null}}function g(t){for(var r=[],n=0,u=t;n<u.length;n++){var o=u[n];if(h(o))return e.Any;f(o)?o.types.forEach(function(e){return r.push(e)}):r.push(o)}return r.length>0&&function(e){return e.every(function(e){return l(e)})}(r)?_(g(r.map(function(e){return e.subtype}))):{type:"union",types:r}}function x(e,n){return function e(n,a,b){for(var _=0;_<b.length;_++){var T=b[_];if(n===T.a&&a===T.b)return!0}if(t(n)&&t(a))return!0;if(r(n)&&r(a))return n.value===a.value;if(h(n)&&h(a))return!0;if(i(n)&&i(a))return!0;if(c(n)&&c(a))return!0;if(d(n)&&d(a))return n.name===a.name;if(l(n)&&l(a))return e(n.subtype,a.subtype,b.concat([{a:n,b:a}]));if(y(n)&&y(a))return e(n.value,a.value,b.concat([{a:n,b:a}]));if(s(n)&&s(a))return e(n.contained,a.contained,b.concat([{a:n,b:a}]));if(p(n)&&p(a)){var m=n.spec,g=a.spec;if(null==m&&null==g)return!0;if(null!=m&&null!=g){var x=o.create(u(m)),O=o.create(u(g)),R=x.intersection(O);if(R.size()!==x.size())return!1;var w=b.concat([{a:n,b:a}]);return R.all(function(t){return e(m[t],g[t],w)})}}else if(f(n)&&f(a)){var S=n.types,j=a.types;if(S.sort(function(e,t){return v(e).localeCompare(v(t))}),j.sort(function(e,t){return v(e).localeCompare(v(t))}),S.length!==j.length)return!1;var E=b.concat([{a:n,b:a}]);for(_=0;_<S.length;_++)if(!e(S[_],j[_],E))return!1;return!0}return!1}(e,n,[])}e.isNull=t,e.isString=r,e.isNumber=i,e.isBoolean=c,e.isArray=s,e.isObject=p,e.isUnion=f,e.isNullable=l,e.isMap=y,e.isNamed=d,e.isAny=h,e.toString=v,e.Any={type:"any"},e.Null={type:"null"},e.Number={type:"number"},e.String={type:"string",value:null},e.StringValue=function(e){return{type:"string",value:e}},e.Boolean={type:"boolean"},e.Map=b,e.Nullable=_,e.Array=T,e.Object=m,e.Named=function(e){return{type:"named",name:e}},e.Union=g,e.equals=x,e.combine=function n(a,v){if(l(a)){if(l(v)){var T=n(a.subtype,v.subtype);if(null!=T)return _(T)}}else if(t(a)){if(t(v))return e.Null}else if(i(a)){if(i(v))return e.Number}else if(r(a)){if(r(v))return e.String}else if(c(a)){if(c(v))return e.Boolean}else if(f(a)){if(x(a,v))return a}else if(s(a)){if(s(v))return a}else{if(h(a)&&h(v))return a;if(d(a)&&d(v))return a.name===v.name?a:null;if(y(a)&&y(v)){var g=n(a.value,v.value);if(null!=g)return b(g)}else if(p(a)&&p(v)){var O=a.spec,R=v.spec;if(null==O&&null==R)return a;if(null==O||null==R)return null;var w=o.create(u(O)),S=o.create(u(R)),j={};return w.union(S).all(function(e){var t=O[e],r=R[e];if(null!=t&&null!=r){var u=n(t,r);if(null==u)return!1;j[e]=u}else j[e]=null!=t?t:r;return!0})?m(j):null}}return null},e.unify=function e(r,u){return(t(r)||l(r))&&(t(u)||l(u))?l(r)&&l(u)?_(e(r.subtype,u.subtype)):l(r)?r:l(u)?u:t(r)?u:t(u)?r:(n(r),n(u)):t(r)||l(r)?t(r)?_(u):l(r)?_(e(r.subtype,u)):n(r):t(u)||l(u)?t(u)?_(r):l(u)?_(e(r,u.subtype)):n(u):g([r,u])},e.infer=function t(r){if("number"==typeof r)return e.Number;if("string"==typeof r)return e.String;if("boolean"==typeof r)return e.Boolean;if(null==r)return e.Null;if(r&&"number"==typeof r.length){for(var n=[],u=0;u<r.length;u++){for(var o=t(r[u]),i=!1,a=0;a<n.length;a++)if(x(n[a],o)){i=!0;break}i||n.push(o)}return 1===n.length?T(n[0]):T(g(n))}return"object"==typeof r?m():e.Any}}(t.Types||(t.Types={}))},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=r(2),a=r(0),c=function(){function e(){}return e.prototype.withDefault=function(e){return new s(this,e)},e.prototype.asOptional=function(){return new f(this)},e.prototype.or=function(e){return new p(this,e)},e}();t.AbstractReader=c;var s=function(e){function t(t,r){var n=e.call(this)||this;return n.reader=t,n.default=r,n.expectedType=t.expectedType,n}return u(t,e),t.prototype.read=function(e){var t=this;return i.Result.success(this.reader.read(e).map(function(e){return e},function(){return t.default}))},t}(c);t.DefaultReader=s;var p=function(e){function t(t,r){var n=e.call(this)||this;return n.readerA=t,n.readerB=r,n.expectedType=a.Types.Union([t.expectedType,r.expectedType]),n}return u(t,e),t.prototype.read=function(e){var t=this;return this.readerA.read(e).map(function(e){return i.Result.success(e)},function(r){return t.readerB.read(e).mapFailure(function(n){return o.InvalidTypeError.create(e,a.Types.toString(t.expectedType),function(e){var t=a.Types.infer(e);return null!=t?a.Types.toString(t):"Unknown"}(e),o.ErrorGroup.create(e,[r,n]))})})},t}(c);t.OrReader=p;var f=function(e){function t(t){var r=e.call(this,t,null)||this;return r.expectedType=a.Types.Nullable(t.expectedType),r}return u(t,e),t}(s);t.OptionalReader=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13),u=r(12),o=r(11);!function(e){e.success=function(e){return new n.ResultSuccessImpl(e)},e.failure=function(e){return new u.ResultFailureImpl(e)},e.all=function(t){for(var r=[],n=[],u=0;u<t.length;u++){var i=t[u];if(i.isSuccess())r.push(i);else{if(!i.isFailure())return o.unreachable("A result must either be a success or a failure.");n.push(i)}}return n.length>0?e.failure(n.map(function(e){return e.error})):e.success(r.map(function(e){return e.value}))}}(t.Result||(t.Result={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e,t){return{type:"array-error",index:e,error:t}}}(t.ArrayChildError||(t.ArrayChildError={})),function(e){e.create=function(e,t){return{type:"error-group",value:e,errors:t}}}(t.ErrorGroup||(t.ErrorGroup={})),function(e){e.create=function(e,t){return{type:"inconsistent-types",value:e,found:t}}}(t.InconsistentTypesError||(t.InconsistentTypesError={})),function(e){e.create=function(e,t,r,n){return{type:"invalid-type",expected:t,actual:r,value:e,error:n||null}}}(t.InvalidTypeError||(t.InvalidTypeError={}))},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(3)),a=r(1),c=r(0),s=function(e){function t(t,r){var n=e.call(this)||this;n.property=t,n.reader=r;var u={};return u[t]=r.expectedType,console.log("Extract",t,"of type",r.expectedType),n.expectedType=c.Types.Object(u),console.log("Computed expected type is",n.expectedType),n}return u(t,e),t.prototype.read=function(e){var t=this;return e&&Object.hasOwnProperty.call(e,this.property)?this.reader.read(e[this.property]):this.reader.read(null).mapFailure(function(){var r=c.Types.infer(e),n=r&&c.Types.toString(r)||"Unknown";return i.InvalidTypeError.create(e,c.Types.toString(t.expectedType),n)})},t}(a.AbstractReader);t.ExtractReader=s},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(0),a=r(2),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expectedType=i.Types.Any,t}return u(t,e),t.prototype.read=function(e){return a.Result.success(e)},t}(o.AbstractReader);t.AnyReader=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),u=r(2),o=r(0),i=function(){function e(e){this.valueReader=e,this.expectedType=o.Types.Map(e.expectedType)}return e.prototype.read=function(e){if("object"==typeof e){var t={};for(var r in e)if(Object.hasOwnProperty.call(e,r)){var i=e[r],a=this.valueReader.read(i);if(!a.isSuccess()){var c="{"+o.quote(r)+": Unknown}",s={},p=o.Types.infer(i);return null!=p&&(s[r]=p,c=o.Types.toString(o.Types.Object(s))),u.Result.failure(n.InvalidTypeError.create(e,o.Types.toString(this.expectedType),c,a.isFailure()?a.error:void 0))}t[r]=a.value}return u.Result.success(t)}var f=o.Types.infer(e);return u.Result.failure(n.InvalidTypeError.create(e,o.Types.toString(this.expectedType),f&&o.Types.toString(f)||"Unknown"))},e}();t.MapReader=i},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(3)),a=r(2),c=r(1),s=r(4),p=r(0),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expectedType=p.Types.Object({}),t}return u(t,e),t.prototype.isEmpty=function(){return!0},t.prototype.put=function(e,t){return new l(e,t,this)},t.prototype.prop=function(e,t){return new l(e,new s.ExtractReader(e,t),this)},t.prototype.read=function(){return a.Result.success({})},t}(c.AbstractReader);t.EmptyObjectConstructor=f;var l=function(){function e(e,t,r){console.log("Combining",t.expectedType,"and",r.expectedType);var n=p.Types.combine(r.expectedType,t.expectedType);if(console.log("Combined:",n),null==n)throw Error("Unable to combine types: "+r.expectedType.toString()+" and "+t.expectedType.toString());this.expectedType=n,this.property=e,this.reader=t,this.base=r}return e.prototype.isEmpty=function(){return!1},e.prototype.put=function(t,r){return new e(t,r,this)},e.prototype.prop=function(t,r){return new e(t,new s.ExtractReader(t,r),this)},e.prototype.read=function(e){var t=this;return this.base.read(e).flatMap(function(r){return t.reader.read(e).mapSuccess(function(e){var n=r;return n[t.property]=e,n})},function(r){if("invalid-type"==r.type){var n=p.Types.infer(e),u=n&&p.Types.toString(n)||"Unknown";return a.Result.failure(i.InvalidTypeError.create(e,p.Types.toString(t.expectedType),u,r))}return a.Result.failure(r)})},e}();t.ObjectConstructor=l},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i,a=o(r(3)),c=r(2),s=r(1),p=r(0);!function(e){e.create=function(e){return{type:"enum-no-match",validValues:e}}}(i||(i={}));var f=function(){function e(){this.expectedType=p.Types.Union([]),this.expectedValues=[]}return e.prototype.isEmpty=function(){return!0},e.prototype.case=function(e){return new l(e,this)},e.prototype.read=function(e){if("string"!=typeof e){var t=p.Types.infer(e),r=t&&p.Types.toString(t)||"Unknown";return c.Result.failure(a.InvalidTypeError.create(e,p.Types.toString(p.Types.String),r))}return c.Result.failure(i.create([]))},e}(),l=function(){function e(e,t){this.value=e,this.baseReader=t,this.expectedValues=t.expectedValues.concat([e])}return e.prototype.isEmpty=function(){return!1},e.prototype.case=function(t){return new e(t,this)},e.prototype.read=function(e){var t=this;if("string"!=typeof e){var r=p.Types.infer(e),n=r&&p.Types.toString(r)||"Unknown";return c.Result.failure(a.InvalidTypeError.create(e,p.Types.toString(p.Types.String),n))}return e===this.value?c.Result.success(this.value):this.baseReader.read(e).mapFailure(function(e){return"enum-no-match"===e.type?i.create(e.validValues.concat([t.value])):e})},e}(),y=function(e){function t(t){var r=e.call(this)||this;return r.base=t,r.expectedType=p.Types.Union(t.expectedValues.map(function(e){return p.Types.StringValue(e)})),r}return u(t,e),t.create=function(){return new t(new f)},t.prototype.case=function(e){return new t(this.base.case(e))},t.prototype.read=function(e){var t=this;return this.base.read(e).mapFailure(function(r){if("enum-no-match"===r.type){var n=p.Types.infer(e),u=n&&p.Types.toString(n)||"Unknown";return a.InvalidTypeError.create(e,p.Types.toString(t.expectedType),u)}return r})},t}(s.AbstractReader);t.EnumReader=y},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=r(2),a=r(1),c=r(0),s=function(e){function t(t){var r=e.call(this)||this;return r.reader=t,r.expectedType=c.Types.Array(t.expectedType),r}return u(t,e),t.prototype.read=function(e){var t=this;if(e&&"number"==typeof e.length){var r=e.map(function(e,r){return t.reader.read(e).mapFailure(function(e){return{index:r,error:e}})});return i.Result.all(r),i.Result.all(r).mapFailure(function(t){return o.ErrorGroup.create(e,t.map(function(e){return o.ArrayChildError.create(e.index,e.error)}))})}var n=c.Types.infer(e),u=n&&c.Types.toString(n)||"Unknown";return i.Result.failure(o.InvalidTypeError.create(e,this.expectedType.toString(),u))},t}(a.AbstractReader);t.ArrayReader=s},function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=r(2),a=r(1),c=r(0);!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expectedType=c.Types.Boolean,t}return u(t,e),t.prototype.read=function(e){if("boolean"==typeof e)return i.Result.success(e);var t=c.Types.infer(e),r=t&&c.Types.toString(t)||"Unknown";return i.Result.failure(o.InvalidTypeError.create(e,c.Types.toString(this.expectedType),r))},t}(a.AbstractReader);e.BooleanReader=t;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expectedType=c.Types.String,t}return u(t,e),t.prototype.read=function(e){if("string"==typeof e)return i.Result.success(e);var t=c.Types.infer(e),r=t&&c.Types.toString(t)||"Unknown";return i.Result.failure(o.InvalidTypeError.create(e,c.Types.toString(this.expectedType),r))},t}(a.AbstractReader);e.StringReader=r;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expectedType=c.Types.Number,t}return u(t,e),t.prototype.read=function(e){if("number"==typeof e)return i.Result.success(e);var t=c.Types.infer(e),r=t&&c.Types.toString(t)||"Unknown";return i.Result.failure(o.InvalidTypeError.create(e,c.Types.toString(this.expectedType),r))},t}(a.AbstractReader);e.NumberReader=n}(t.PrimitiveReaders||(t.PrimitiveReaders={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unreachable=function(e){throw Error("FATAL ERROR (UNREACHABLE)"+(e&&": "+e||""))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.type="failure",this.error=e}return e.prototype.isSuccess=function(){return!1},e.prototype.isFailure=function(){return!0},e.prototype.assertSuccess=function(){throw Error("Result is not a Success result.")},e.prototype.assertFailure=function(){return this.error},e.prototype.map=function(e,t){return t(this.error)},e.prototype.flatMap=function(e,t){return t(this.error)},e.prototype.mapSuccess=function(t){return new e(this.error)},e.prototype.mapFailure=function(t){return new e(t(this.error))},e}();t.ResultFailureImpl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.type="success",this.value=e}return e.prototype.isSuccess=function(){return!0},e.prototype.isFailure=function(){return!1},e.prototype.assertSuccess=function(){return this.value},e.prototype.assertFailure=function(){throw Error("Result is not a Failure result.")},e.prototype.map=function(e,t){return e(this.value)},e.prototype.flatMap=function(e,t){return e(this.value)},e.prototype.mapSuccess=function(t){return new e(t(this.value))},e.prototype.mapFailure=function(t){return new e(this.value)},e}();t.ResultSuccessImpl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),u=r(10),o=r(9),i=r(4),a=r(8),c=r(7),s=r(6),p=r(5),f=r(1);t.AbstractReader=f.AbstractReader;var l=r(0);t.Types=l.Types,function(e){e.number=new u.PrimitiveReaders.NumberReader,e.string=new u.PrimitiveReaders.StringReader,e.boolean=new u.PrimitiveReaders.BooleanReader,e.anything=new p.AnyReader,e.optional=function(e){return new n.OptionalReader(e)},e.array=function(e){return new o.ArrayReader(e)},e.extract=function(e,t){return new i.ExtractReader(e,t)},e.enumeration=function(){return a.EnumReader.create()},e.map=function(e){return new s.MapReader(e)},e.obj=function(){return new c.EmptyObjectConstructor}}(t.TsJson||(t.TsJson={}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9zcmMvanN0eXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9yZWFkZXJzL2Fic3RyYWN0LXJlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9yZXN1bHQvcmVzdWx0LmpzIiwid2VicGFjazovLy8uL2Rpc3Qvc3JjL2Vycm9ycy9kZWNvZGluZy9kZWNvZGluZy1lcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9yZWFkZXJzL2V4dHJhY3QtcmVhZGVyLmpzIiwid2VicGFjazovLy8uL2Rpc3Qvc3JjL3JlYWRlcnMvYW55LXJlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9yZWFkZXJzL21hcC1yZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9zcmMvcmVhZGVycy9vYmplY3QtcmVhZGVyLmpzIiwid2VicGFjazovLy8uL2Rpc3Qvc3JjL3JlYWRlcnMvZW51bS1yZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9zcmMvcmVhZGVycy9hcnJheS1yZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9zcmMvcmVhZGVycy9wcmltaXRpdmUtcmVhZGVycy5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy91bnJlYWNoYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9yZXN1bHQvZmFpbHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9yZXN1bHQvc3VjY2Vzcy5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidW5yZWFjaGFibGUiLCJhIiwiT2JqZWN0S2V5cyIsIm9iaiIsImtleXMiLCJTZXRzIiwiY3JlYXRlIiwiYXJyYXkiLCJzZXQiLCJTZXRJbXBsIiwiZm9yRWFjaCIsInYiLCJhZGQiLCJ0aGlzIiwiaXRlbXMiLCJpbmRleCIsInNpemUiLCJsZW5ndGgiLCJ0b0FycmF5IiwiY29uY2F0IiwiY29weSIsImYiLCJlcXVhbHMiLCJvdGhlciIsImV2ZXJ5IiwiaXRlbSIsImNvbnRhaW5zIiwiYWxsIiwibWFwIiwib3V0cHV0IiwiaGFzaCIsInRvU3RyaW5nIiwiY29udGFpbnNIYXNoIiwicHVzaCIsInJlbW92ZSIsInZhbHVlSGFzaCIsImV4aXN0aW5nSXRlbSIsInNwbGljZSIsInVuaW9uIiwiaW50ZXJzZWN0aW9uIiwic3VidHJhY3QiLCJpc1N1YnNldE9mIiwiaXNEaXNqb2ludCIsInF1b3RlIiwiaW5kZXhPZiIsInJlcGxhY2UiLCJUeXBlcyIsImlzTnVsbCIsInR5cGUiLCJpc1N0cmluZyIsImlzTnVtYmVyIiwiaXNCb29sZWFuIiwiaXNBcnJheSIsImlzT2JqZWN0IiwiaXNVbmlvbiIsImlzTnVsbGFibGUiLCJpc01hcCIsImlzTmFtZWQiLCJpc0FueSIsInRvU3RyaW5nSW50ZXJuYWwiLCJ2aXNpdGVkIiwiaW5kaWNlcyIsInJlc29sdmVkUmVjdXJzaW9uSW5kZXgiLCJjdXJyZW50Iiwic3VidHlwZSIsImNvbnRhaW5lZCIsInNwZWMiLCJuZXdWaXNpdGVkIiwic29ydCIsImtleVBhaXJzIiwiX2kiLCJrZXlzXzEiLCJrZXkiLCJ2YWx1ZVN0ciIsImpvaW4iLCJ0eXBlU3RyaW5ncyIsIl9hIiwiX2IiLCJ0eXBlcyIsInR5cGVTdHIiLCJNYXAiLCJOdWxsYWJsZSIsIk51bGwiLCJBbnkiLCJBcnJheSIsIlVuaW9uIiwidW5wYWNrZWRUeXBlcyIsInR5cGVzXzEiLCJ0IiwiYWxsTnVsbGFibGUiLCJiIiwiZXF1YWxzSW50ZXJuYWwiLCJ2ZXJpZmllZCIsInZlcmlmaWVkVHlwZSIsImFTcGVjXzEiLCJiU3BlY18xIiwiYUtleXMiLCJiS2V5cyIsIm5ld1ZlcmlmaWVkXzEiLCJzb3J0ZWRBVHlwZXMiLCJzb3J0ZWRCVHlwZXMiLCJsb2NhbGVDb21wYXJlIiwibmV3VmVyaWZpZWQiLCJOdW1iZXIiLCJTdHJpbmciLCJTdHJpbmdWYWx1ZSIsIkJvb2xlYW4iLCJOYW1lZCIsImNvbWJpbmUiLCJjb21iaW5lZFN1YnR5cGUiLCJjb21iaW5lZFZhbHVlIiwiYVNwZWNfMiIsImJTcGVjXzIiLCJhUHJvcGVydHlJU2V0IiwiYlByb3BlcnR5SVNldCIsImNvbWJpbmVkU3BlY18xIiwicHJvcCIsImFQcm9wIiwiYlByb3AiLCJjb21iaW5lZCIsInVuaWZ5IiwiaW5mZXIiLCJrbm93blR5cGVzIiwiaW5mZXJyZWQiLCJmb3VuZCIsImoiLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfXyIsImNvbnN0cnVjdG9yIiwiZGVjb2RpbmdfZXJyb3JfMSIsInJlc3VsdF8xIiwianN0eXBlc18xIiwiQWJzdHJhY3RSZWFkZXIiLCJ3aXRoRGVmYXVsdCIsIkRlZmF1bHRSZWFkZXIiLCJhc09wdGlvbmFsIiwiT3B0aW9uYWxSZWFkZXIiLCJvciIsIk9yUmVhZGVyIiwiX3N1cGVyIiwicmVhZGVyIiwiZGVmYXVsdFZhbHVlIiwiX3RoaXMiLCJkZWZhdWx0IiwiZXhwZWN0ZWRUeXBlIiwicmVhZCIsIlJlc3VsdCIsInN1Y2Nlc3MiLCJyZWFkZXJBIiwicmVhZGVyQiIsImZhaWx1cmUiLCJtYXBGYWlsdXJlIiwiZXJyb3IiLCJJbnZhbGlkVHlwZUVycm9yIiwiaW5mZXJPclVua25vd24iLCJFcnJvckdyb3VwIiwic3VjY2Vzc18xIiwiZmFpbHVyZV8xIiwidW5yZWFjaGFibGVfMSIsIlJlc3VsdFN1Y2Nlc3NJbXBsIiwiUmVzdWx0RmFpbHVyZUltcGwiLCJyZXN1bHRzIiwic3VjY2Vzc2VzIiwiZmFpbHVyZXMiLCJyZXN1bHQiLCJpc1N1Y2Nlc3MiLCJpc0ZhaWx1cmUiLCJBcnJheUNoaWxkRXJyb3IiLCJlcnJvcnMiLCJJbmNvbnNpc3RlbnRUeXBlc0Vycm9yIiwiZXhwZWN0ZWQiLCJhY3R1YWwiLCJmb3J3YXJkZWQiLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJrIiwiYWJzdHJhY3RfcmVhZGVyXzEiLCJFeHRyYWN0UmVhZGVyIiwiY29uc29sZSIsImxvZyIsInR5cGVTdHJpbmciLCJBbnlSZWFkZXIiLCJhcHBseSIsImFyZ3VtZW50cyIsIk1hcFJlYWRlciIsInZhbHVlUmVhZGVyIiwiZGVjb2RlZCIsImRlY29kZWRWYWx1ZSIsIm9ialNwZWMiLCJpbmZlcnJlZFR5cGVfMSIsInVuZGVmaW5lZCIsImluZmVycmVkVHlwZSIsImV4dHJhY3RfcmVhZGVyXzEiLCJFbXB0eU9iamVjdENvbnN0cnVjdG9yIiwiaXNFbXB0eSIsInB1dCIsIk9iamVjdENvbnN0cnVjdG9yIiwiYmFzZSIsImNvbWJpbmVkVHlwZSIsIkVycm9yIiwiZmxhdE1hcCIsImJhc2VTdWNjZXNzIiwibWFwU3VjY2VzcyIsInN1Y2Nlc3NPYmoiLCJFbnVtTm9NYXRjaEVycm9yIiwidmFsdWVzIiwidmFsaWRWYWx1ZXMiLCJFbXB0eUVudW1SZWFkZXIiLCJleHBlY3RlZFZhbHVlcyIsImNhc2UiLCJFbnVtVmFsdWVSZWFkZXIiLCJiYXNlUmVhZGVyIiwiRW51bVJlYWRlciIsIkFycmF5UmVhZGVyIiwiZSIsIlByaW1pdGl2ZVJlYWRlcnMiLCJCb29sZWFuUmVhZGVyIiwiU3RyaW5nUmVhZGVyIiwiTnVtYmVyUmVhZGVyIiwibWVzc2FnZSIsImFzc2VydFN1Y2Nlc3MiLCJhc3NlcnRGYWlsdXJlIiwicHJpbWl0aXZlX3JlYWRlcnNfMSIsImFycmF5X3JlYWRlcl8xIiwiZW51bV9yZWFkZXJfMSIsIm9iamVjdF9yZWFkZXJfMSIsIm1hcF9yZWFkZXJfMSIsImFueV9yZWFkZXJfMSIsImFic3RyYWN0X3JlYWRlcl8yIiwiVHNKc29uIiwibnVtYmVyIiwic3RyaW5nIiwiYm9vbGVhbiIsImFueXRoaW5nIiwib3B0aW9uYWwiLCJleHRyYWN0IiwiZW51bWVyYXRpb24iXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWpCLEdBQ0FZLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURrQixPQUFBLEtBSWpEcEIsRUFBQXFCLEVBQUEsU0FBQWxCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQW1CLFdBQ0EsV0FBMkIsT0FBQW5CLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFVLEVBQUFDLEdBQXNELE9BQUFWLE9BQUFXLFVBQUFDLGVBQUFuQixLQUFBZ0IsRUFBQUMsSUFHdER4QixFQUFBMkIsRUFBQSxHQUlBM0IsSUFBQTRCLEVBQUEsbUNDakVBLFNBQUFDLEVBQUFDLEdBQ0EsT0FBQUEsRUFFQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUFsQixPQUFBbUIsS0FBQUQsR0FFQSxJ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QUEsR0FDQThQLEVBQUE5UCxFQUFBLElBQ0ErUCxFQUFBL1AsRUFBQSxHQUNBZ08sRUFBQWhPLEVBQUEsR0FDQWdRLEVBQUFoUSxFQUFBLEdBQ0FpUSxFQUFBalEsRUFBQSxHQUNBa1EsRUFBQWxRLEVBQUEsR0FDQW1RLEVBQUFuUSxFQUFBLEdBQ0FvUSxFQUFBcFEsRUFBQSxHQUNBRSxFQUFBa0ssZUFBQWdHLEVBQUFoRyxlQUNBLElBQUFELEVBQUFuSyxFQUFBLEdBQ0FFLEVBQUF5RSxNQUFBd0YsRUFBQXhGLE1BRUEsU0FBQTBMLEdBQ0FBLEVBQUFDLE9BQUEsSUFBQVIsRUFBQVAsaUJBQUFHLGFBQ0FXLEVBQUFFLE9BQUEsSUFBQVQsRUFBQVAsaUJBQUFFLGFBQ0FZLEVBQUFHLFFBQUEsSUFBQVYsRUFBQVAsaUJBQUFDLGNBQ0FhLEVBQUFJLFNBQUEsSUFBQU4sRUFBQTlDLFVBSUFnRCxFQUFBSyxTQUhBLFNBQUE5RixHQUNBLFdBQUFvQyxFQUFBeEMsZUFBQUksSUFNQXlGLEVBQUFqTyxNQUhBLFNBQUF3SSxHQUNBLFdBQUFtRixFQUFBVixZQUFBekUsSUFNQXlGLEVBQUFNLFFBSEEsU0FBQW5QLEVBQUFvSixHQUNBLFdBQUFvRCxFQUFBZixjQUFBekwsRUFBQW9KLElBTUF5RixFQUFBTyxZQUhBLFdBQ0EsT0FBQVosRUFBQVosV0FBQWpOLFVBTUFrTyxFQUFBNU0sSUFIQSxTQUFBZ0ssR0FDQSxXQUFBeUMsRUFBQTFDLFVBQUFDLElBTUE0QyxFQUFBck8sSUFIQSxXQUNBLFdBQUFpTyxFQUFBaEMsd0JBMUJBLENBNkJDL04sRUFBQW1RLFNBQUFuUSxFQUFBbVEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxNCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIHVucmVhY2hhYmxlKGEpIHtcbiAgICByZXR1cm4gYTtcbn1cbmZ1bmN0aW9uIE9iamVjdEtleXMob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaik7XG59XG52YXIgU2V0cztcbihmdW5jdGlvbiAoU2V0cykge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShhcnJheSkge1xuICAgICAgICB2YXIgc2V0ID0gbmV3IFNldEltcGwoKTtcbiAgICAgICAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbiAodikgeyByZXR1cm4gc2V0LmFkZCh2KTsgfSk7XG4gICAgICAgIHJldHVybiBzZXQ7XG4gICAgfVxuICAgIFNldHMuY3JlYXRlID0gY3JlYXRlO1xufSkoU2V0cyB8fCAoU2V0cyA9IHt9KSk7XG52YXIgU2V0SW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZXRJbXBsKCkge1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMuaW5kZXggPSB7fTtcbiAgICB9XG4gICAgU2V0SW1wbC5jcmVhdGUgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgdmFyIHNldCA9IG5ldyBTZXRJbXBsKCk7XG4gICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHNldC5hZGQodik7IH0pO1xuICAgICAgICByZXR1cm4gc2V0O1xuICAgIH07XG4gICAgU2V0SW1wbC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgIH07XG4gICAgU2V0SW1wbC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuY29uY2F0KFtdKTtcbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBTZXRzLmNyZWF0ZSh0aGlzLml0ZW1zKTtcbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoZikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1tpXTtcbiAgICAgICAgICAgIGlmICghZihpdGVtKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2V0SW1wbC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlci5zaXplKCkgPT0gdGhpcy5zaXplKCkgJiYgdGhpcy5pdGVtcy5ldmVyeShmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gb3RoZXIuY29udGFpbnMoaXRlbSk7IH0pO1xuICAgIH07XG4gICAgU2V0SW1wbC5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcztcbiAgICAgICAgdmFyIGxlbmd0aCA9IGl0ZW1zLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgICAgICAgIGlmICghZihpdGVtKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSBuZXcgU2V0SW1wbCgpO1xuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIG91dHB1dC5hZGQoZihpdGVtKSk7IH0pO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG4gICAgU2V0SW1wbC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGhhc2ggPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluc0hhc2goaGFzaCk7XG4gICAgfTtcbiAgICBTZXRJbXBsLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGhhc2ggPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICBpZiAoIXRoaXMuY29udGFpbnNIYXNoKGhhc2gpKSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4W2hhc2hdID0geyBpbmRleDogdGhpcy5pdGVtcy5sZW5ndGgsIHZhbHVlOiB2YWx1ZSB9O1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgdmFsdWVIYXNoID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgdmFyIGV4aXN0aW5nSXRlbSA9IHRoaXMuaW5kZXhbdmFsdWVIYXNoXTtcbiAgICAgICAgaWYgKGV4aXN0aW5nSXRlbSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuaW5kZXhbdmFsdWVIYXNoXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGV4aXN0aW5nSXRlbS5pbmRleCArIDE7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4W3RoaXMuaXRlbXNbaV0udG9TdHJpbmcoKV0uaW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShleGlzdGluZ0l0ZW0uaW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLnVuaW9uID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSBuZXcgU2V0SW1wbCgpO1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIG91dHB1dC5hZGQoaXRlbSk7IH0pO1xuICAgICAgICBvdGhlci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBvdXRwdXQuYWRkKGl0ZW0pOyB9KTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICB2YXIgb3V0cHV0ID0gbmV3IFNldEltcGwoKTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpZiAob3RoZXIuY29udGFpbnMoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQuYWRkKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG4gICAgU2V0SW1wbC5wcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IG5ldyBTZXRJbXBsKCk7XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKCFvdGhlci5jb250YWlucyhpdGVtKSkge1xuICAgICAgICAgICAgICAgIG91dHB1dC5hZGQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbiAgICBTZXRJbXBsLnByb3RvdHlwZS5pc1N1YnNldE9mID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKCFvdGhlci5jb250YWlucyhpdGVtKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFNldEltcGwucHJvdG90eXBlLmlzRGlzam9pbnQgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNbaV07XG4gICAgICAgICAgICBpZiAob3RoZXIuY29udGFpbnMoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBTZXRJbXBsLnByb3RvdHlwZS5jb250YWluc0hhc2ggPSBmdW5jdGlvbiAoaGFzaCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy5pbmRleCwgaGFzaCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2V0SW1wbDtcbn0oKSk7XG5mdW5jdGlvbiBxdW90ZShzKSB7XG4gICAgaWYgKHMuaW5kZXhPZignXFwnJykgPCAwKSB7XG4gICAgICAgIHJldHVybiBcIidcIiArIHMgKyBcIidcIjtcbiAgICB9XG4gICAgcmV0dXJuICdcIicgKyBzLnJlcGxhY2UoJ1wiJywgJ1xcXFxcIicpICsgJ1wiJztcbn1cbmV4cG9ydHMucXVvdGUgPSBxdW90ZTtcbnZhciBUeXBlcztcbihmdW5jdGlvbiAoVHlwZXMpIHtcbiAgICBmdW5jdGlvbiBpc051bGwoYSkge1xuICAgICAgICByZXR1cm4gYS50eXBlID09PSAnbnVsbCc7XG4gICAgfVxuICAgIFR5cGVzLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBmdW5jdGlvbiBpc1N0cmluZyhhKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgPT09ICdzdHJpbmcnO1xuICAgIH1cbiAgICBUeXBlcy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKGEpIHtcbiAgICAgICAgcmV0dXJuIGEudHlwZSA9PT0gJ251bWJlcic7XG4gICAgfVxuICAgIFR5cGVzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG4gICAgZnVuY3Rpb24gaXNCb29sZWFuKGEpIHtcbiAgICAgICAgcmV0dXJuIGEudHlwZSA9PT0gJ2Jvb2xlYW4nO1xuICAgIH1cbiAgICBUeXBlcy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4gICAgZnVuY3Rpb24gaXNBcnJheShhKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgPT09ICdhcnJheSc7XG4gICAgfVxuICAgIFR5cGVzLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KGEpIHtcbiAgICAgICAgcmV0dXJuIGEudHlwZSA9PT0gJ29iamVjdCc7XG4gICAgfVxuICAgIFR5cGVzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG4gICAgZnVuY3Rpb24gaXNVbmlvbihhKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgPT09ICd1bmlvbic7XG4gICAgfVxuICAgIFR5cGVzLmlzVW5pb24gPSBpc1VuaW9uO1xuICAgIGZ1bmN0aW9uIGlzTnVsbGFibGUoYSkge1xuICAgICAgICByZXR1cm4gYS50eXBlID09PSAnbnVsbGFibGUnO1xuICAgIH1cbiAgICBUeXBlcy5pc051bGxhYmxlID0gaXNOdWxsYWJsZTtcbiAgICBmdW5jdGlvbiBpc01hcChhKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgPT09ICdtYXAnO1xuICAgIH1cbiAgICBUeXBlcy5pc01hcCA9IGlzTWFwO1xuICAgIGZ1bmN0aW9uIGlzTmFtZWQoYSkge1xuICAgICAgICByZXR1cm4gYS50eXBlID09PSAnbmFtZWQnO1xuICAgIH1cbiAgICBUeXBlcy5pc05hbWVkID0gaXNOYW1lZDtcbiAgICBmdW5jdGlvbiBpc0FueShhKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgPT09ICdhbnknO1xuICAgIH1cbiAgICBUeXBlcy5pc0FueSA9IGlzQW55O1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nSW50ZXJuYWwoYSwgdmlzaXRlZCwgaW5kaWNlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpc2l0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh2aXNpdGVkW2ldID09PSBhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc29sdmVkUmVjdXJzaW9uSW5kZXggPSBpbmRpY2VzLm1hcFtpXTtcbiAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWRSZWN1cnNpb25JbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkUmVjdXJzaW9uSW5kZXggPSBpbmRpY2VzLm1hcFtpXSA9IGluZGljZXMuY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5jdXJyZW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAneyQnICsgcmVzb2x2ZWRSZWN1cnNpb25JbmRleCArICd9JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOdWxsKGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ051bGwnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RyaW5nKGEpKSB7XG4gICAgICAgICAgICBpZiAoYS52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdTdHJpbmcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICdTdHJpbmc8JyArIHF1b3RlKGEudmFsdWUpICsgJz4nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTnVtYmVyKGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ051bWJlcic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBbnkoYSkpIHtcbiAgICAgICAgICAgIHJldHVybiAnQW55JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Jvb2xlYW4oYSkpIHtcbiAgICAgICAgICAgIHJldHVybiAnQm9vbGVhbic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOYW1lZChhKSkge1xuICAgICAgICAgICAgcmV0dXJuICdOYW1lZDwnICsgYS5uYW1lICsgJz4nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTWFwKGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ01hcDwnICsgdG9TdHJpbmdJbnRlcm5hbChhLnZhbHVlLCB2aXNpdGVkLmNvbmNhdChbYV0pLCBpbmRpY2VzKSArICc+JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc051bGxhYmxlKGEpKSB7XG4gICAgICAgICAgICB2YXIgc3VidHlwZVN0ciA9IHRvU3RyaW5nSW50ZXJuYWwoYS5zdWJ0eXBlLCB2aXNpdGVkLmNvbmNhdChbYV0pLCBpbmRpY2VzKTtcbiAgICAgICAgICAgIHJldHVybiAnTnVsbGFibGU8JyArIHN1YnR5cGVTdHIgKyAnPic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBcnJheShhKSkge1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lZFN0ciA9IHRvU3RyaW5nSW50ZXJuYWwoYS5jb250YWluZWQsIHZpc2l0ZWQuY29uY2F0KFthXSksIGluZGljZXMpO1xuICAgICAgICAgICAgcmV0dXJuICdBcnJheTwnICsgY29udGFpbmVkU3RyICsgJz4nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KGEpKSB7XG4gICAgICAgICAgICBpZiAoYS5zcGVjID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ09iamVjdCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbmV3VmlzaXRlZCA9IHZpc2l0ZWQuY29uY2F0KFthXSk7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdEtleXMoYS5zcGVjKTtcbiAgICAgICAgICAgIGtleXMuc29ydCgpO1xuICAgICAgICAgICAgdmFyIGtleVBhaXJzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGtleXNfMSA9IGtleXM7IF9pIDwga2V5c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzXzFbX2ldO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLnNwZWMsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlU3RyID0gdG9TdHJpbmdJbnRlcm5hbChhLnNwZWNba2V5XSwgbmV3VmlzaXRlZCwgaW5kaWNlcyk7XG4gICAgICAgICAgICAgICAgICAgIGtleVBhaXJzLnB1c2gocXVvdGUoa2V5KSArICc6ICcgKyB2YWx1ZVN0cik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICd7JyArIGtleVBhaXJzLmpvaW4oJywgJykgKyAnfSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNVbmlvbihhKSkge1xuICAgICAgICAgICAgdmFyIG5ld1Zpc2l0ZWQgPSB2aXNpdGVkLmNvbmNhdChbYV0pO1xuICAgICAgICAgICAgdmFyIHR5cGVTdHJpbmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIF9iID0gYS50eXBlczsgX2EgPCBfYi5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IF9iW19hXTtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZVN0ciA9IHRvU3RyaW5nSW50ZXJuYWwodHlwZSwgbmV3VmlzaXRlZCwgaW5kaWNlcyk7XG4gICAgICAgICAgICAgICAgdHlwZVN0cmluZ3MucHVzaCh0eXBlU3RyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0eXBlU3RyaW5ncy5qb2luKCd8Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVucmVhY2hhYmxlKGEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b1N0cmluZyhhKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZ0ludGVybmFsKGEsIFtdLCB7IGN1cnJlbnQ6IDAsIG1hcDoge30gfSk7XG4gICAgfVxuICAgIFR5cGVzLnRvU3RyaW5nID0gdG9TdHJpbmc7XG4gICAgVHlwZXMuQW55ID0geyB0eXBlOiAnYW55JyB9O1xuICAgIFR5cGVzLk51bGwgPSB7IHR5cGU6ICdudWxsJyB9O1xuICAgIFR5cGVzLk51bWJlciA9IHsgdHlwZTogJ251bWJlcicgfTtcbiAgICBUeXBlcy5TdHJpbmcgPSB7IHR5cGU6ICdzdHJpbmcnLCB2YWx1ZTogbnVsbCB9O1xuICAgIGZ1bmN0aW9uIFN0cmluZ1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6ICdzdHJpbmcnLCB2YWx1ZTogdmFsdWUgfTtcbiAgICB9XG4gICAgVHlwZXMuU3RyaW5nVmFsdWUgPSBTdHJpbmdWYWx1ZTtcbiAgICBUeXBlcy5Cb29sZWFuID0geyB0eXBlOiAnYm9vbGVhbicgfTtcbiAgICBmdW5jdGlvbiBNYXAoY29udGFpbmVkKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6ICdtYXAnLCB2YWx1ZTogY29udGFpbmVkIH07XG4gICAgfVxuICAgIFR5cGVzLk1hcCA9IE1hcDtcbiAgICBmdW5jdGlvbiBOdWxsYWJsZShzdWJ0eXBlKSB7XG4gICAgICAgIHdoaWxlIChzdWJ0eXBlLnR5cGUgPT09ICdudWxsYWJsZScpIHtcbiAgICAgICAgICAgIHN1YnR5cGUgPSBzdWJ0eXBlLnN1YnR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTnVsbChzdWJ0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFR5cGVzLk51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQW55KHN1YnR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gVHlwZXMuQW55O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHR5cGU6ICdudWxsYWJsZScsIHN1YnR5cGU6IHN1YnR5cGUgfTtcbiAgICB9XG4gICAgVHlwZXMuTnVsbGFibGUgPSBOdWxsYWJsZTtcbiAgICBmdW5jdGlvbiBBcnJheShjb250YWluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2FycmF5JywgY29udGFpbmVkOiBjb250YWluZWQgfTtcbiAgICB9XG4gICAgVHlwZXMuQXJyYXkgPSBBcnJheTtcbiAgICBmdW5jdGlvbiBPYmplY3Qoc3BlYykge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAnb2JqZWN0Jywgc3BlYzogc3BlYyB8fCBudWxsIH07XG4gICAgfVxuICAgIFR5cGVzLk9iamVjdCA9IE9iamVjdDtcbiAgICBmdW5jdGlvbiBOYW1lZChuYW1lKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6ICduYW1lZCcsIG5hbWU6IG5hbWUgfTtcbiAgICB9XG4gICAgVHlwZXMuTmFtZWQgPSBOYW1lZDtcbiAgICBmdW5jdGlvbiBhbGxOdWxsYWJsZSh0eXBlcykge1xuICAgICAgICByZXR1cm4gdHlwZXMuZXZlcnkoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGlzTnVsbGFibGUodCk7IH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVbmlvbih0eXBlcykge1xuICAgICAgICB2YXIgdW5wYWNrZWRUeXBlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHR5cGVzXzEgPSB0eXBlczsgX2kgPCB0eXBlc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdHlwZXNfMVtfaV07XG4gICAgICAgICAgICBpZiAoaXNBbnkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFR5cGVzLkFueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzVW5pb24odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUudHlwZXMuZm9yRWFjaChmdW5jdGlvbiAoc3VidHlwZSkgeyByZXR1cm4gdW5wYWNrZWRUeXBlcy5wdXNoKHN1YnR5cGUpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHVucGFja2VkVHlwZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVucGFja2VkVHlwZXMubGVuZ3RoID4gMCAmJiBhbGxOdWxsYWJsZSh1bnBhY2tlZFR5cGVzKSkge1xuICAgICAgICAgICAgdmFyIGFsbFN1YnR5cGVzID0gdW5wYWNrZWRUeXBlcy5tYXAoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuc3VidHlwZTsgfSk7XG4gICAgICAgICAgICByZXR1cm4gTnVsbGFibGUoVW5pb24oYWxsU3VidHlwZXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB0eXBlOiAndW5pb24nLCB0eXBlczogdW5wYWNrZWRUeXBlcyB9O1xuICAgIH1cbiAgICBUeXBlcy5VbmlvbiA9IFVuaW9uO1xuICAgIGZ1bmN0aW9uIGVxdWFsc0ludGVybmFsKGEsIGIsIHZlcmlmaWVkKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVyaWZpZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB2ZXJpZmllZFR5cGUgPSB2ZXJpZmllZFtpXTtcbiAgICAgICAgICAgIGlmIChhID09PSB2ZXJpZmllZFR5cGUuYSAmJiBiID09PSB2ZXJpZmllZFR5cGUuYikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc051bGwoYSkgJiYgaXNOdWxsKGIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1N0cmluZyhhKSAmJiBpc1N0cmluZyhiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGEudmFsdWUgPT09IGIudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBbnkoYSkgJiYgaXNBbnkoYikpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTnVtYmVyKGEpICYmIGlzTnVtYmVyKGIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Jvb2xlYW4oYSkgJiYgaXNCb29sZWFuKGIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc05hbWVkKGEpICYmIGlzTmFtZWQoYikpIHtcbiAgICAgICAgICAgIHJldHVybiBhLm5hbWUgPT09IGIubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc051bGxhYmxlKGEpICYmIGlzTnVsbGFibGUoYikpIHtcbiAgICAgICAgICAgIHJldHVybiBlcXVhbHNJbnRlcm5hbChhLnN1YnR5cGUsIGIuc3VidHlwZSwgdmVyaWZpZWQuY29uY2F0KFt7IGE6IGEsIGI6IGIgfV0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc01hcChhKSAmJiBpc01hcChiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVxdWFsc0ludGVybmFsKGEudmFsdWUsIGIudmFsdWUsIHZlcmlmaWVkLmNvbmNhdChbeyBhOiBhLCBiOiBiIH1dKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBcnJheShhKSAmJiBpc0FycmF5KGIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXF1YWxzSW50ZXJuYWwoYS5jb250YWluZWQsIGIuY29udGFpbmVkLCB2ZXJpZmllZC5jb25jYXQoW3sgYTogYSwgYjogYiB9XSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KGEpICYmIGlzT2JqZWN0KGIpKSB7XG4gICAgICAgICAgICB2YXIgYVNwZWNfMSA9IGEuc3BlYztcbiAgICAgICAgICAgIHZhciBiU3BlY18xID0gYi5zcGVjO1xuICAgICAgICAgICAgaWYgKGFTcGVjXzEgPT0gbnVsbCAmJiBiU3BlY18xID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFTcGVjXzEgIT0gbnVsbCAmJiBiU3BlY18xICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgYUtleXMgPSBTZXRzLmNyZWF0ZShPYmplY3RLZXlzKGFTcGVjXzEpKTtcbiAgICAgICAgICAgICAgICB2YXIgYktleXMgPSBTZXRzLmNyZWF0ZShPYmplY3RLZXlzKGJTcGVjXzEpKTtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJzZWN0aW9uID0gYUtleXMuaW50ZXJzZWN0aW9uKGJLZXlzKTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0aW9uLnNpemUoKSAhPT0gYUtleXMuc2l6ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG5ld1ZlcmlmaWVkXzEgPSB2ZXJpZmllZC5jb25jYXQoW3sgYTogYSwgYjogYiB9XSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvbi5hbGwoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZXF1YWxzSW50ZXJuYWwoYVNwZWNfMVtrZXldLCBiU3BlY18xW2tleV0sIG5ld1ZlcmlmaWVkXzEpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1VuaW9uKGEpICYmIGlzVW5pb24oYikpIHtcbiAgICAgICAgICAgIHZhciBzb3J0ZWRBVHlwZXMgPSBhLnR5cGVzO1xuICAgICAgICAgICAgdmFyIHNvcnRlZEJUeXBlcyA9IGIudHlwZXM7XG4gICAgICAgICAgICBzb3J0ZWRBVHlwZXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gdG9TdHJpbmcoYSkubG9jYWxlQ29tcGFyZSh0b1N0cmluZyhiKSk7IH0pO1xuICAgICAgICAgICAgc29ydGVkQlR5cGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIHRvU3RyaW5nKGEpLmxvY2FsZUNvbXBhcmUodG9TdHJpbmcoYikpOyB9KTtcbiAgICAgICAgICAgIGlmIChzb3J0ZWRBVHlwZXMubGVuZ3RoICE9PSBzb3J0ZWRCVHlwZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHZhciBuZXdWZXJpZmllZCA9IHZlcmlmaWVkLmNvbmNhdChbeyBhOiBhLCBiOiBiIH1dKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc29ydGVkQVR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcXVhbHNJbnRlcm5hbChzb3J0ZWRBVHlwZXNbaV0sIHNvcnRlZEJUeXBlc1tpXSwgbmV3VmVyaWZpZWQpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBlcXVhbHNJbnRlcm5hbChhLCBiLCBbXSk7XG4gICAgfVxuICAgIFR5cGVzLmVxdWFscyA9IGVxdWFscztcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHVzZWQgZm9yIGJ1aWxkaW5nIHVwIGEgdHlwZS4gSXQncyB0aGUgZXF1aXZhbGVudCBvZiBgJmAgaW4gVHlwZVNjcmlwdC5cbiAgICAgKiBUaGlzIHNob3VsZCByZXR1cm4gbnVsbCBmb3IgZXZlcnl0aGluZyBleGNlcHQgb2JqZWN0cyAoc2luY2UgaXQncyBub3RcbiAgICAgKiBwb3NzaWJsZSB0byBoYXZlIGEgdW5pb24gb2YgYW55dGhpbmcgYnV0IG9iamVjdHMpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbWJpbmUoYSwgYikge1xuICAgICAgICBpZiAoaXNOdWxsYWJsZShhKSkge1xuICAgICAgICAgICAgaWYgKGlzTnVsbGFibGUoYikpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tYmluZWRTdWJ0eXBlID0gY29tYmluZShhLnN1YnR5cGUsIGIuc3VidHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbWJpbmVkU3VidHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdWxsYWJsZShjb21iaW5lZFN1YnR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc051bGwoYSkpIHtcbiAgICAgICAgICAgIGlmIChpc051bGwoYikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVHlwZXMuTnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc051bWJlcihhKSkge1xuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKGIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFR5cGVzLk51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1N0cmluZyhhKSkge1xuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFR5cGVzLlN0cmluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Jvb2xlYW4oYSkpIHtcbiAgICAgICAgICAgIGlmIChpc0Jvb2xlYW4oYikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVHlwZXMuQm9vbGVhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1VuaW9uKGEpKSB7XG4gICAgICAgICAgICBpZiAoZXF1YWxzKGEsIGIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBcnJheShhKSkge1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkoYikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FueShhKSAmJiBpc0FueShiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOYW1lZChhKSAmJiBpc05hbWVkKGIpKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5uYW1lID09PSBiLm5hbWUgPyBhIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc01hcChhKSAmJiBpc01hcChiKSkge1xuICAgICAgICAgICAgdmFyIGNvbWJpbmVkVmFsdWUgPSBjb21iaW5lKGEudmFsdWUsIGIudmFsdWUpO1xuICAgICAgICAgICAgaWYgKGNvbWJpbmVkVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXAoY29tYmluZWRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QoYSkgJiYgaXNPYmplY3QoYikpIHtcbiAgICAgICAgICAgIHZhciBhU3BlY18yID0gYS5zcGVjO1xuICAgICAgICAgICAgdmFyIGJTcGVjXzIgPSBiLnNwZWM7XG4gICAgICAgICAgICBpZiAoYVNwZWNfMiA9PSBudWxsICYmIGJTcGVjXzIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYVNwZWNfMiA9PSBudWxsIHx8IGJTcGVjXzIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGFQcm9wZXJ0eUlTZXQgPSBTZXRzLmNyZWF0ZShPYmplY3RLZXlzKGFTcGVjXzIpKTtcbiAgICAgICAgICAgIHZhciBiUHJvcGVydHlJU2V0ID0gU2V0cy5jcmVhdGUoT2JqZWN0S2V5cyhiU3BlY18yKSk7XG4gICAgICAgICAgICB2YXIgcHJvcGVydGllc1VuaW9uID0gYVByb3BlcnR5SVNldC51bmlvbihiUHJvcGVydHlJU2V0KTtcbiAgICAgICAgICAgIHZhciBjb21iaW5lZFNwZWNfMSA9IHt9O1xuICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzVW5pb24uYWxsKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFQcm9wID0gYVNwZWNfMltwcm9wXTtcbiAgICAgICAgICAgICAgICB2YXIgYlByb3AgPSBiU3BlY18yW3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmIChhUHJvcCAhPSBudWxsICYmIGJQcm9wICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbWJpbmVkID0gY29tYmluZShhUHJvcCwgYlByb3ApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tYmluZWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbWJpbmVkU3BlY18xW3Byb3BdID0gY29tYmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFQcm9wICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tYmluZWRTcGVjXzFbcHJvcF0gPSBhUHJvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbWJpbmVkU3BlY18xW3Byb3BdID0gYlByb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBPYmplY3QoY29tYmluZWRTcGVjXzEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBUeXBlcy5jb21iaW5lID0gY29tYmluZTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHJldHVybnMgYSB0eXBlIHRoYXQgd2lsbCBhY2NlcHQgZWl0aGVyIHRoaXMgdHlwZSBvciB0aGUgb3RoZXIgdHlwZVxuICAgICAqIHdoZW4gaXQgaXMgYXNzaWduZWQgdG8gdGhlIHJlc3VsdGluZyB0eXBlLiBUaGlzIG9uZSBzaG91bGQgbmV2ZXIgZmFpbCxcbiAgICAgKiBzaW5jZSB3ZSBjYW4gYWx3YXlzIGRlZmF1bHQgdG8gYSB1bmlvbiB0eXBlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaWZ5KGEsIGIpIHtcbiAgICAgICAgaWYgKChpc051bGwoYSkgfHwgaXNOdWxsYWJsZShhKSkgJiYgKGlzTnVsbChiKSB8fCBpc051bGxhYmxlKGIpKSkge1xuICAgICAgICAgICAgLy8gRWl0aGVyIGJvdGggYXJlIG51bGxhYmxlLCBvciBvbmUgaXMgbnVsbGFibGUgYW5kIHRoZSBvdGhlciBpcyBudWxsXG4gICAgICAgICAgICBpZiAoaXNOdWxsYWJsZShhKSAmJiBpc051bGxhYmxlKGIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bGxhYmxlKHVuaWZ5KGEuc3VidHlwZSwgYi5zdWJ0eXBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc051bGxhYmxlKGEpKSB7XG4gICAgICAgICAgICAgICAgLy8gYiBtdXN0IGJlIG51bGxcbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzTnVsbGFibGUoYikpIHtcbiAgICAgICAgICAgICAgICAvLyBhIG11c3QgYmUgbnVsbFxuICAgICAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNOdWxsKGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc051bGwoYikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bnJlYWNoYWJsZShhKSwgdW5yZWFjaGFibGUoYik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOdWxsKGEpIHx8IGlzTnVsbGFibGUoYSkpIHtcbiAgICAgICAgICAgIC8vIE9uZSBvZiB0aGVtIGlzIG51bGwgb3IgbnVsbGFibGVcbiAgICAgICAgICAgIGlmIChpc051bGwoYSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVsbGFibGUoYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc051bGxhYmxlKGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bGxhYmxlKHVuaWZ5KGEuc3VidHlwZSwgYikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVucmVhY2hhYmxlKGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTnVsbChiKSB8fCBpc051bGxhYmxlKGIpKSB7XG4gICAgICAgICAgICBpZiAoaXNOdWxsKGIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bGxhYmxlKGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNOdWxsYWJsZShiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdWxsYWJsZSh1bmlmeShhLCBiLnN1YnR5cGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bnJlYWNoYWJsZShiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVW5pb24oW2EsIGJdKTtcbiAgICB9XG4gICAgVHlwZXMudW5pZnkgPSB1bmlmeTtcbiAgICBmdW5jdGlvbiBpbmZlcihvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gVHlwZXMuTnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gVHlwZXMuU3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgcmV0dXJuIFR5cGVzLkJvb2xlYW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JqID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBUeXBlcy5OdWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqLmxlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBrbm93blR5cGVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBpbmZlcnJlZCA9IGluZmVyKG9ialtpXSk7XG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrbm93blR5cGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcXVhbHMoa25vd25UeXBlc1tqXSwgaW5mZXJyZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGtub3duVHlwZXMucHVzaChpbmZlcnJlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtub3duVHlwZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5KGtub3duVHlwZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEFycmF5KFVuaW9uKGtub3duVHlwZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUeXBlcy5Bbnk7XG4gICAgfVxuICAgIFR5cGVzLmluZmVyID0gaW5mZXI7XG59KShUeXBlcyA9IGV4cG9ydHMuVHlwZXMgfHwgKGV4cG9ydHMuVHlwZXMgPSB7fSkpO1xuLypcblxuXG5uYW1lc3BhY2UgVHlwZXMge1xuICBleHBvcnQgaW50ZXJmYWNlIEpzVHlwZTxUPiB7XG4gICAgaXNVbmtub3duKCk6IHRoaXMgaXMgSnNVbmtub3duXG4gICAgaXNOdWxsKCk6IHRoaXMgaXMgSnNOdWxsXG4gICAgaXNOdW1iZXIoKTogdGhpcyBpcyBKc051bWJlclxuICAgIGlzU3RyaW5nKCk6IHRoaXMgaXMgSnNTdHJpbmdcbiAgICBpc0Jvb2xlYW4oKTogdGhpcyBpcyBKc0Jvb2xlYW5cbiAgICBpc0FycmF5KCk6IHRoaXMgaXMgSnNBcnJheTxhbnksIEpzVHlwZTxhbnk+PlxuICAgIGlzQXJyYXlPZjxUPih0OiBKc1R5cGU8VD4pOiB0aGlzIGlzIEpzQXJyYXk8VCwgSnNUeXBlPFQ+PlxuICAgIGlzT2JqZWN0KCk6IHRoaXMgaXMgSnNPYmplY3RcbiAgICBpc01hcCgpOiB0aGlzIGlzIEpzTWFwPGFueSwgSnNUeXBlPGFueT4+XG4gICAgaXNNYXBPZjxUPih0OiBKc1R5cGU8VD4pOiB0aGlzIGlzIEpzTWFwPFQsIEpzVHlwZTxUPj5cbiAgICBpc0VxdWFsVG8ob3RoZXI6IEpzVHlwZTxhbnk+KTogYm9vbGVhblxuICAgIGlzTnVsbGFibGUoKTogdGhpcyBpcyBKc051bGxhYmxlPGFueT5cbiAgICBpc051bGxhYmxlT2Y8VD4odDogSnNUeXBlPFQ+KTogdGhpcyBpcyBKc051bGxhYmxlPFQ+XG4gIH1cbiAgZXhwb3J0IGludGVyZmFjZSBKc1Vua25vd24gZXh0ZW5kcyBKc1R5cGU8YW55PiB7XG4gICAgdHlwZTogJ3Vua25vd24nO1xuICB9XG4gIGV4cG9ydCBpbnRlcmZhY2UgSnNOdWxsIGV4dGVuZHMgSnNUeXBlPG51bGw+IHtcbiAgICB0eXBlOiAnbnVsbCc7XG4gIH1cbiAgZXhwb3J0IGludGVyZmFjZSBKc051bWJlciBleHRlbmRzIEpzVHlwZTxudW1iZXI+IHtcbiAgICB0eXBlOiAnbnVtYmVyJztcbiAgfVxuICBleHBvcnQgaW50ZXJmYWNlIEpzU3RyaW5nIGV4dGVuZHMgSnNUeXBlPHN0cmluZz4ge1xuICAgIHR5cGU6ICdzdHJpbmcnO1xuICB9XG4gIGV4cG9ydCBpbnRlcmZhY2UgSnNCb29sZWFuIGV4dGVuZHMgSnNUeXBlPGJvb2xlYW4+IHtcbiAgICB0eXBlOiAnYm9vbGVhbic7XG4gIH1cbiAgZXhwb3J0IHR5cGUgSnNQcmltaXRpdmUgPSBKc051bWJlciB8IEpzU3RyaW5nIHwgSnNCb29sZWFuIHwgSnNOdWxsO1xuXG4gIGV4cG9ydCBpbnRlcmZhY2UgSnNOdWxsYWJsZTxUPiBleHRlbmRzIEpzVHlwZTxUfG51bGw+IHtcbiAgICB0eXBlOiAnbnVsbGFibGUnO1xuICAgIHN1YnR5cGU6IEpzVHlwZTxUPjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgSnNPYmplY3QgZXh0ZW5kcyBKc1R5cGU8T2JqZWN0PiB7XG4gICAgdHlwZTogJ29iamVjdCc7XG4gIH1cbiAgZXhwb3J0IGludGVyZmFjZSBKc01hcDxDb250YWluZWQsIEpzQ29udGFpbmVkIGV4dGVuZHMgSnNUeXBlPENvbnRhaW5lZD4+IGV4dGVuZHMgSnNUeXBlPE9iamVjdD4ge1xuICAgIHR5cGU6ICdtYXAnO1xuICAgIGNvbnRhaW5lZDogSnNDb250YWluZWQ7XG4gIH1cbiAgZXhwb3J0IGludGVyZmFjZSBKc0FycmF5PENvbnRhaW5lZCwgSnNDb250YWluZWQgZXh0ZW5kcyBKc1R5cGU8Q29udGFpbmVkPj4gZXh0ZW5kcyBKc1R5cGU8QXJyYXk8Q29udGFpbmVkPj4ge1xuICAgIHR5cGU6ICdhcnJheSc7XG4gICAgY29udGFpbmVkOiBKc0NvbnRhaW5lZDtcbiAgfVxuXG4gIGFic3RyYWN0IGNsYXNzIEJhc2VKc1R5cGU8VD4gaW1wbGVtZW50cyBKc1R5cGU8VD4ge1xuICAgIGlzVW5rbm93bigpOiB0aGlzIGlzIEpzVW5rbm93biB7IHJldHVybiBmYWxzZSB9XG4gICAgaXNOdWxsKCk6IHRoaXMgaXMgSnNOdWxsIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpc051bWJlcigpOiB0aGlzIGlzIEpzTnVtYmVyIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpc1N0cmluZygpOiB0aGlzIGlzIEpzU3RyaW5nIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpc0Jvb2xlYW4oKTogdGhpcyBpcyBKc0Jvb2xlYW4geyByZXR1cm4gZmFsc2UgfVxuICAgIGlzQXJyYXkoKTogdGhpcyBpcyBKc0FycmF5PGFueSwgSnNUeXBlPGFueT4+IHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpc0FycmF5T2Y8VD4odDogSnNUeXBlPFQ+KTogdGhpcyBpcyBKc0FycmF5PFQsIEpzVHlwZTxUPj4geyByZXR1cm4gZmFsc2UgfVxuICAgIGlzT2JqZWN0KCk6IHRoaXMgaXMgSnNPYmplY3QgeyByZXR1cm4gZmFsc2UgfVxuICAgIGlzTWFwKCk6IHRoaXMgaXMgSnNNYXA8YW55LCBKc1R5cGU8YW55Pj4geyByZXR1cm4gZmFsc2UgfVxuICAgIGlzTWFwT2Y8VD4odDogSnNUeXBlPFQ+KTogdGhpcyBpcyBKc01hcDxULCBKc1R5cGU8VD4+IHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpc0VxdWFsVG8ob3RoZXI6IEpzVHlwZTxhbnk+KTogYm9vbGVhbiB7IHJldHVybiBmYWxzZSB9XG4gICAgaXNOdWxsYWJsZSgpOiB0aGlzIGlzIEpzTnVsbGFibGU8YW55PiB7IHJldHVybiBmYWxzZSB9XG4gICAgaXNOdWxsYWJsZU9mPFQ+KHQ6IEpzVHlwZTxUPik6IHRoaXMgaXMgSnNOdWxsYWJsZTxUPiB7IHJldHVybiBmYWxzZSB9XG4gIH1cblxuICBjbGFzcyBKc1Vua25vd25JbXBsIGV4dGVuZHMgQmFzZUpzVHlwZTxhbnk+IGltcGxlbWVudHMgSnNVbmtub3duIHtcbiAgICB0eXBlOiAndW5rbm93bicgPSAndW5rbm93bic7XG4gICAgaXNVbmtub3duKCk6IHRoaXMgaXMgSnNVbmtub3duIHsgcmV0dXJuIHRydWUgfVxuICAgIGlzRXF1YWxUbyhvdGhlcjogSnNUeXBlPGFueT4pOiBib29sZWFuIHsgcmV0dXJuIGZhbHNlIH1cbiAgfVxuICBleHBvcnQgY29uc3QgdW5rbm93biA9IG5ldyBKc1Vua25vd25JbXBsKCk7XG5cbiAgY2xhc3MgSnNOdWxsYWJsZUltcGw8VD4gZXh0ZW5kcyBCYXNlSnNUeXBlPG51bGx8VD4gaW1wbGVtZW50cyBKc051bGxhYmxlPFQ+IHtcbiAgICB0eXBlOiAnbnVsbGFibGUnID0gJ251bGxhYmxlJztcbiAgICBzdWJ0eXBlOiBKc1R5cGU8VD47XG4gICAgY29uc3RydWN0b3Ioc3VidHlwZTogSnNUeXBlPFQ+KSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpcy5zdWJ0eXBlID0gc3VidHlwZTtcbiAgICB9XG4gICAgaXNOdWxsYWJsZSgpOiB0aGlzIGlzIEpzTnVsbGFibGU8YW55PiB7IHJldHVybiB0cnVlIH1cbiAgICBpc051bGxhYmxlT2Y8VD4odDogSnNUeXBlPFQ+KTogdGhpcyBpcyBKc051bGxhYmxlPFQ+IHtcbiAgICAgIHJldHVybiB0aGlzLnN1YnR5cGUuaXNFcXVhbFRvKHQpO1xuICAgIH1cbiAgfVxuXG4gIGNsYXNzIEpzTnVtYmVySW1wbCBleHRlbmRzIEJhc2VKc1R5cGU8bnVtYmVyPiBpbXBsZW1lbnRzIEpzTnVtYmVyIHtcbiAgICB0eXBlOiAnbnVtYmVyJyA9ICdudW1iZXInO1xuICAgIGlzTnVtYmVyKCk6IHRoaXMgaXMgSnNOdW1iZXIgeyByZXR1cm4gdHJ1ZSB9XG4gICAgaXNFcXVhbFRvKG90aGVyOiBKc1R5cGU8YW55Pik6IGJvb2xlYW4geyByZXR1cm4gb3RoZXIuaXNOdW1iZXIoKSB9XG4gIH1cbiAgZXhwb3J0IGNvbnN0IG51bWJlciA9IG5ldyBKc051bWJlckltcGwoKTtcblxuICBjbGFzcyBKc1N0cmluZ0ltcGwgZXh0ZW5kcyBCYXNlSnNUeXBlPHN0cmluZz4gaW1wbGVtZW50cyBKc1N0cmluZyB7XG4gICAgdHlwZTogJ3N0cmluZycgPSAnc3RyaW5nJztcbiAgICBpc1N0cmluZygpOiB0aGlzIGlzIEpzU3RyaW5nIHsgcmV0dXJuIHRydWUgfVxuICAgIGlzRXF1YWxUbyhvdGhlcjogSnNUeXBlPGFueT4pOiBib29sZWFuIHsgcmV0dXJuIG90aGVyLmlzU3RyaW5nKCkgfVxuICB9XG4gIGV4cG9ydCBjb25zdCBzdHJpbmcgPSBuZXcgSnNTdHJpbmdJbXBsKCk7XG5cbiAgY2xhc3MgSnNCb29sZWFuSW1wbCBleHRlbmRzIEJhc2VKc1R5cGU8Ym9vbGVhbj4gaW1wbGVtZW50cyBKc0Jvb2xlYW4ge1xuICAgIHR5cGU6ICdib29sZWFuJyA9ICdib29sZWFuJztcbiAgICBpc0Jvb2xlYW4oKTogdGhpcyBpcyBKc0Jvb2xlYW4geyByZXR1cm4gdHJ1ZSB9XG4gICAgaXNFcXVhbFRvKG90aGVyOiBKc1R5cGU8YW55Pik6IGJvb2xlYW4geyByZXR1cm4gb3RoZXIuaXNCb29sZWFuKCkgfVxuICB9XG4gIGV4cG9ydCBjb25zdCBib29sZWFuID0gbmV3IEpzQm9vbGVhbkltcGwoKTtcblxuICBjbGFzcyBKc0FycmF5SW1wbDxUPiBleHRlbmRzIEJhc2VKc1R5cGU8QXJyYXk8VD4+IGltcGxlbWVudHMgSnNBcnJheTxULCBKc1R5cGU8VD4+IHtcbiAgICB0eXBlOiAnYXJyYXknID0gJ2FycmF5JztcbiAgICBjb250YWluZWQ6IEpzVHlwZTxUPjtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZWQ6IEpzVHlwZTxUPikge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuY29udGFpbmVkID0gY29udGFpbmVkO1xuICAgIH1cbiAgICBpc0Jvb2xlYW4oKTogdGhpcyBpcyBKc0Jvb2xlYW4geyByZXR1cm4gdHJ1ZSB9XG4gICAgaXNFcXVhbFRvKG90aGVyOiBKc1R5cGU8YW55Pik6IGJvb2xlYW4geyByZXR1cm4gb3RoZXIuaXNBcnJheU9mKHRoaXMuY29udGFpbmVkKSB9XG4gIH1cbiAgZXhwb3J0IGZ1bmN0aW9uIGFycmF5PFQ+KGNvbnRhaW5lZDogSnNUeXBlPFQ+KTogSnNBcnJheTxULCBKc1R5cGU8VD4+IHtcbiAgICByZXR1cm4gbmV3IEpzQXJyYXlJbXBsKGNvbnRhaW5lZCk7XG4gIH1cbiAgXG5cbiAgY2xhc3MgVHlwZWQ8VD4ge1xuICAgIHZhbHVlOiBUO1xuICAgIHR5cGU6IFR5cGVzLkpzVHlwZTxUPjtcblxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBULCB0eXBlOiBUeXBlcy5Kc1R5cGU8VD4pIHtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgfXhcblxuICAgIGlzTnVtYmVyKCk6IHRoaXMgaXMgVHlwZWQ8bnVtYmVyPiB7XG4gICAgICByZXR1cm4gdGhpcy50eXBlLmlzTnVtYmVyKCk7XG4gICAgfVxuICAgIGlzU3RyaW5nKCk6IHRoaXMgaXMgVHlwZWQ8c3RyaW5nPiB7XG4gICAgICByZXR1cm4gdGhpcy50eXBlLmlzU3RyaW5nKCk7XG4gICAgfVxuICAgIGlzQm9vbGVhbigpOiB0aGlzIGlzIFR5cGVkPGJvb2xlYW4+IHtcbiAgICAgIHJldHVybiB0aGlzLnR5cGUuaXNCb29sZWFuKCk7XG4gICAgfVxuICAgIGlzQXJyYXkoKTogdGhpcyBpcyBUeXBlZEFycmF5PGFueT4ge1xuICAgICAgcmV0dXJuIHRoaXMudHlwZS5pc0FycmF5KCk7XG4gICAgfVxuICAgIGlzQXJyYXlPZjxUPih0eXBlOiBUeXBlcy5Kc1R5cGU8VD4pOiB0aGlzIGlzIFR5cGVkQXJyYXk8VD4ge1xuICAgICAgcmV0dXJuIHRoaXMudHlwZS5pc0FycmF5T2YodHlwZSk7XG4gICAgfVxuICB9XG5cbiAgY2xhc3MgVHlwZWRBcnJheTxUPiBleHRlbmRzIFR5cGVkPEFycmF5PFQ+PiB7XG4gICAgY29udGFpbmVkVHlwZTogVHlwZXMuSnNUeXBlPFQ+O1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBBcnJheTxUPiwgdHlwZTogVHlwZXMuSnNBcnJheTxULCBUeXBlcy5Kc1R5cGU8VD4+KSB7XG4gICAgICBzdXBlcih2YWx1ZSwgdHlwZSk7XG4gICAgICB0aGlzLmNvbnRhaW5lZFR5cGUgPSB0eXBlLmNvbnRhaW5lZDtcbiAgICB9XG4gIH1cblxuICBjbGFzcyBUeXBlZEFycmF5QW55IGV4dGVuZHMgVHlwZWRBcnJheTxhbnk+IHtcbiAgICB0eXBlZFZhbHVlczogVHlwZWQ8YW55PltdO1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBhbnlbXSkge1xuICAgICAgc3VwZXIodmFsdWUsIFR5cGVzLmFycmF5KFR5cGVzLnVua25vd24pKTtcbiAgICAgIHRoaXMudHlwZWRWYWx1ZXMgPSB2YWx1ZS5tYXAoKHYpID0+IGFzVHlwZWQodikpXG4gICAgfVxuICAgIGlzQXJyYXlPZjxUPih0eXBlOiBUeXBlcy5Kc1R5cGU8VD4pOiB0aGlzIGlzIFR5cGVkQXJyYXk8VD4ge1xuICAgICAgcmV0dXJuIHRoaXMudHlwZWRWYWx1ZXMuZXZlcnkoKHQpID0+IHQudHlwZS5pc0VxdWFsVG8odHlwZSkpO1xuICAgIH1cbiAgICBhc0FycmF5T2Y8VD4odHlwZTogVHlwZXMuSnNUeXBlPFQ+KTogUmVzdWx0PFR5cGVkQXJyYXk8VD4sIEVycm9yPiB7XG5cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhc1R5cGVkKHZhbHVlOiBhbnkpOiBUeXBlZDxhbnk+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIG5ldyBUeXBlZCh2YWx1ZSwgVHlwZXMubnVtYmVyKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBuZXcgVHlwZWQodmFsdWUsIFR5cGVzLnN0cmluZyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgcmV0dXJuIG5ldyBUeXBlZCh2YWx1ZSwgVHlwZXMuYm9vbGVhbik7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09PSAnbnVtYmVyJykge1xuICAgICAgY29uc3QgYXJyYXlWYWx1ZSA9IHZhbHVlIGFzIEFycmF5PGFueT47XG4gICAgICByZXR1cm4gbmV3IFR5cGVkQXJyYXlBbnkoYXJyYXlWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVHlwZWQodmFsdWUsIFR5cGVzLnVua25vd24pO1xuICB9XG59XG4vLyAqL1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anN0eXBlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGRlY29kaW5nX2Vycm9yXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JzL2RlY29kaW5nL2RlY29kaW5nLWVycm9yXCIpO1xudmFyIHJlc3VsdF8xID0gcmVxdWlyZShcIi4uL3Jlc3VsdC9yZXN1bHRcIik7XG52YXIganN0eXBlc18xID0gcmVxdWlyZShcIi4uL2pzdHlwZXNcIik7XG52YXIgQWJzdHJhY3RSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RSZWFkZXIoKSB7XG4gICAgfVxuICAgIEFic3RyYWN0UmVhZGVyLnByb3RvdHlwZS53aXRoRGVmYXVsdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRSZWFkZXIodGhpcywgdmFsdWUpO1xuICAgIH07XG4gICAgQWJzdHJhY3RSZWFkZXIucHJvdG90eXBlLmFzT3B0aW9uYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgT3B0aW9uYWxSZWFkZXIodGhpcyk7XG4gICAgfTtcbiAgICBBYnN0cmFjdFJlYWRlci5wcm90b3R5cGUub3IgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPclJlYWRlcih0aGlzLCBvdGhlcik7XG4gICAgfTtcbiAgICByZXR1cm4gQWJzdHJhY3RSZWFkZXI7XG59KCkpO1xuZXhwb3J0cy5BYnN0cmFjdFJlYWRlciA9IEFic3RyYWN0UmVhZGVyO1xudmFyIERlZmF1bHRSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlZmF1bHRSZWFkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVmYXVsdFJlYWRlcihyZWFkZXIsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5yZWFkZXIgPSByZWFkZXI7XG4gICAgICAgIF90aGlzLmRlZmF1bHQgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIF90aGlzLmV4cGVjdGVkVHlwZSA9IHJlYWRlci5leHBlY3RlZFR5cGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRGVmYXVsdFJlYWRlci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5zdWNjZXNzKHRoaXMucmVhZGVyLnJlYWQob2JqKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoc3VjY2VzcykgeyByZXR1cm4gc3VjY2VzczsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZGVmYXVsdDsgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIERlZmF1bHRSZWFkZXI7XG59KEFic3RyYWN0UmVhZGVyKSk7XG5leHBvcnRzLkRlZmF1bHRSZWFkZXIgPSBEZWZhdWx0UmVhZGVyO1xuZnVuY3Rpb24gaW5mZXJPclVua25vd24ob2JqKSB7XG4gICAgdmFyIGluZmVycmVkID0ganN0eXBlc18xLlR5cGVzLmluZmVyKG9iaik7XG4gICAgaWYgKGluZmVycmVkICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhpbmZlcnJlZCk7XG4gICAgfVxuICAgIHJldHVybiAnVW5rbm93bic7XG59XG52YXIgT3JSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9yUmVhZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE9yUmVhZGVyKHJlYWRlckEsIHJlYWRlckIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucmVhZGVyQSA9IHJlYWRlckE7XG4gICAgICAgIF90aGlzLnJlYWRlckIgPSByZWFkZXJCO1xuICAgICAgICBfdGhpcy5leHBlY3RlZFR5cGUgPSBqc3R5cGVzXzEuVHlwZXMuVW5pb24oW3JlYWRlckEuZXhwZWN0ZWRUeXBlLCByZWFkZXJCLmV4cGVjdGVkVHlwZV0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9yUmVhZGVyLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkZXJBLnJlYWQob2JqKS5tYXAoZnVuY3Rpb24gKHN1Y2Nlc3MpIHsgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5zdWNjZXNzKHN1Y2Nlc3MpOyB9LCBmdW5jdGlvbiAoZmFpbHVyZSkgeyByZXR1cm4gX3RoaXMucmVhZGVyQi5yZWFkKG9iailcbiAgICAgICAgICAgIC5tYXBGYWlsdXJlKGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gZGVjb2RpbmdfZXJyb3JfMS5JbnZhbGlkVHlwZUVycm9yLmNyZWF0ZShvYmosIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhfdGhpcy5leHBlY3RlZFR5cGUpLCBpbmZlck9yVW5rbm93bihvYmopLCBkZWNvZGluZ19lcnJvcl8xLkVycm9yR3JvdXAuY3JlYXRlKG9iaiwgW2ZhaWx1cmUsIGVycm9yXSkpOyB9KTsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gT3JSZWFkZXI7XG59KEFic3RyYWN0UmVhZGVyKSk7XG5leHBvcnRzLk9yUmVhZGVyID0gT3JSZWFkZXI7XG52YXIgT3B0aW9uYWxSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9wdGlvbmFsUmVhZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE9wdGlvbmFsUmVhZGVyKHJlYWRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZWFkZXIsIG51bGwpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmV4cGVjdGVkVHlwZSA9IGpzdHlwZXNfMS5UeXBlcy5OdWxsYWJsZShyZWFkZXIuZXhwZWN0ZWRUeXBlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gT3B0aW9uYWxSZWFkZXI7XG59KERlZmF1bHRSZWFkZXIpKTtcbmV4cG9ydHMuT3B0aW9uYWxSZWFkZXIgPSBPcHRpb25hbFJlYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFic3RyYWN0LXJlYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzdWNjZXNzXzEgPSByZXF1aXJlKFwiLi9zdWNjZXNzXCIpO1xudmFyIGZhaWx1cmVfMSA9IHJlcXVpcmUoXCIuL2ZhaWx1cmVcIik7XG52YXIgdW5yZWFjaGFibGVfMSA9IHJlcXVpcmUoXCIuLi91bnJlYWNoYWJsZVwiKTtcbnZhciBSZXN1bHQ7XG4oZnVuY3Rpb24gKFJlc3VsdCkge1xuICAgIGZ1bmN0aW9uIHN1Y2Nlc3ModmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBzdWNjZXNzXzEuUmVzdWx0U3VjY2Vzc0ltcGwodmFsdWUpO1xuICAgIH1cbiAgICBSZXN1bHQuc3VjY2VzcyA9IHN1Y2Nlc3M7XG4gICAgZnVuY3Rpb24gZmFpbHVyZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IGZhaWx1cmVfMS5SZXN1bHRGYWlsdXJlSW1wbCh2YWx1ZSk7XG4gICAgfVxuICAgIFJlc3VsdC5mYWlsdXJlID0gZmFpbHVyZTtcbiAgICBmdW5jdGlvbiBhbGwocmVzdWx0cykge1xuICAgICAgICB2YXIgc3VjY2Vzc2VzID0gW107XG4gICAgICAgIHZhciBmYWlsdXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXN1bHRzW2ldO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5pc1N1Y2Nlc3MoKSkge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3Nlcy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuaXNGYWlsdXJlKCkpIHtcbiAgICAgICAgICAgICAgICBmYWlsdXJlcy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIHJldHVybiB1bnJlYWNoYWJsZV8xLnVucmVhY2hhYmxlKFwiQSByZXN1bHQgbXVzdCBlaXRoZXIgYmUgYSBzdWNjZXNzIG9yIGEgZmFpbHVyZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZhaWx1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBSZXN1bHQuZmFpbHVyZShmYWlsdXJlcy5tYXAoZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYuZXJyb3I7IH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVzdWx0LnN1Y2Nlc3Moc3VjY2Vzc2VzLm1hcChmdW5jdGlvbiAoZikgeyByZXR1cm4gZi52YWx1ZTsgfSkpO1xuICAgIH1cbiAgICBSZXN1bHQuYWxsID0gYWxsO1xufSkoUmVzdWx0ID0gZXhwb3J0cy5SZXN1bHQgfHwgKGV4cG9ydHMuUmVzdWx0ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc3VsdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcnJheUNoaWxkRXJyb3I7XG4oZnVuY3Rpb24gKEFycmF5Q2hpbGRFcnJvcikge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShpbmRleCwgZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdhcnJheS1lcnJvcicsXG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICBlcnJvcjogZXJyb3JcbiAgICAgICAgfTtcbiAgICB9XG4gICAgQXJyYXlDaGlsZEVycm9yLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKEFycmF5Q2hpbGRFcnJvciA9IGV4cG9ydHMuQXJyYXlDaGlsZEVycm9yIHx8IChleHBvcnRzLkFycmF5Q2hpbGRFcnJvciA9IHt9KSk7XG52YXIgRXJyb3JHcm91cDtcbihmdW5jdGlvbiAoRXJyb3JHcm91cCkge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSh2YWx1ZSwgZXJyb3JzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZXJyb3ItZ3JvdXAnLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZXJyb3JzOiBlcnJvcnNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgRXJyb3JHcm91cC5jcmVhdGUgPSBjcmVhdGU7XG59KShFcnJvckdyb3VwID0gZXhwb3J0cy5FcnJvckdyb3VwIHx8IChleHBvcnRzLkVycm9yR3JvdXAgPSB7fSkpO1xudmFyIEluY29uc2lzdGVudFR5cGVzRXJyb3I7XG4oZnVuY3Rpb24gKEluY29uc2lzdGVudFR5cGVzRXJyb3IpIHtcbiAgICBmdW5jdGlvbiBjcmVhdGUodmFsdWUsIGZvdW5kKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnaW5jb25zaXN0ZW50LXR5cGVzJyxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGZvdW5kOiBmb3VuZFxuICAgICAgICB9O1xuICAgIH1cbiAgICBJbmNvbnNpc3RlbnRUeXBlc0Vycm9yLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKEluY29uc2lzdGVudFR5cGVzRXJyb3IgPSBleHBvcnRzLkluY29uc2lzdGVudFR5cGVzRXJyb3IgfHwgKGV4cG9ydHMuSW5jb25zaXN0ZW50VHlwZXNFcnJvciA9IHt9KSk7XG52YXIgSW52YWxpZFR5cGVFcnJvcjtcbihmdW5jdGlvbiAoSW52YWxpZFR5cGVFcnJvcikge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSh2YWx1ZSwgZXhwZWN0ZWQsIGFjdHVhbCwgZm9yd2FyZGVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnaW52YWxpZC10eXBlJyxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICAgICAgICAgIGFjdHVhbDogYWN0dWFsLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZXJyb3I6IGZvcndhcmRlZCB8fCBudWxsXG4gICAgICAgIH07XG4gICAgfVxuICAgIEludmFsaWRUeXBlRXJyb3IuY3JlYXRlID0gY3JlYXRlO1xufSkoSW52YWxpZFR5cGVFcnJvciA9IGV4cG9ydHMuSW52YWxpZFR5cGVFcnJvciB8fCAoZXhwb3J0cy5JbnZhbGlkVHlwZUVycm9yID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlY29kaW5nLWVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xuICAgIHJlc3VsdFtcImRlZmF1bHRcIl0gPSBtb2Q7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXJyb3JzID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuLi9lcnJvcnMvZGVjb2RpbmcvZGVjb2RpbmctZXJyb3JcIikpO1xudmFyIGFic3RyYWN0X3JlYWRlcl8xID0gcmVxdWlyZShcIi4vYWJzdHJhY3QtcmVhZGVyXCIpO1xudmFyIGpzdHlwZXNfMSA9IHJlcXVpcmUoXCIuLi9qc3R5cGVzXCIpO1xudmFyIEV4dHJhY3RSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEV4dHJhY3RSZWFkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRXh0cmFjdFJlYWRlcihwcm9wZXJ0eSwgcmVhZGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgICAgIF90aGlzLnJlYWRlciA9IHJlYWRlcjtcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICBvYmpbcHJvcGVydHldID0gcmVhZGVyLmV4cGVjdGVkVHlwZTtcbiAgICAgICAgY29uc29sZS5sb2coJ0V4dHJhY3QnLCBwcm9wZXJ0eSwgJ29mIHR5cGUnLCByZWFkZXIuZXhwZWN0ZWRUeXBlKTtcbiAgICAgICAgX3RoaXMuZXhwZWN0ZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLk9iamVjdChvYmopO1xuICAgICAgICBjb25zb2xlLmxvZygnQ29tcHV0ZWQgZXhwZWN0ZWQgdHlwZSBpcycsIF90aGlzLmV4cGVjdGVkVHlwZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRXh0cmFjdFJlYWRlci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9iaiAmJiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHRoaXMucHJvcGVydHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkZXIucmVhZChvYmpbdGhpcy5wcm9wZXJ0eV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZGVyLnJlYWQobnVsbCkubWFwRmFpbHVyZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZmVycmVkID0ganN0eXBlc18xLlR5cGVzLmluZmVyKG9iaik7XG4gICAgICAgICAgICAgICAgdmFyIHR5cGVTdHJpbmcgPSBpbmZlcnJlZCAmJiBqc3R5cGVzXzEuVHlwZXMudG9TdHJpbmcoaW5mZXJyZWQpIHx8ICdVbmtub3duJztcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JzLkludmFsaWRUeXBlRXJyb3IuY3JlYXRlKG9iaiwganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKF90aGlzLmV4cGVjdGVkVHlwZSksIHR5cGVTdHJpbmcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFeHRyYWN0UmVhZGVyO1xufShhYnN0cmFjdF9yZWFkZXJfMS5BYnN0cmFjdFJlYWRlcikpO1xuZXhwb3J0cy5FeHRyYWN0UmVhZGVyID0gRXh0cmFjdFJlYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3QtcmVhZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYWJzdHJhY3RfcmVhZGVyXzEgPSByZXF1aXJlKFwiLi9hYnN0cmFjdC1yZWFkZXJcIik7XG52YXIganN0eXBlc18xID0gcmVxdWlyZShcIi4uL2pzdHlwZXNcIik7XG52YXIgcmVzdWx0XzEgPSByZXF1aXJlKFwiLi4vcmVzdWx0L3Jlc3VsdFwiKTtcbnZhciBBbnlSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFueVJlYWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbnlSZWFkZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5leHBlY3RlZFR5cGUgPSBqc3R5cGVzXzEuVHlwZXMuQW55O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFueVJlYWRlci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5zdWNjZXNzKG9iaik7XG4gICAgfTtcbiAgICByZXR1cm4gQW55UmVhZGVyO1xufShhYnN0cmFjdF9yZWFkZXJfMS5BYnN0cmFjdFJlYWRlcikpO1xuZXhwb3J0cy5BbnlSZWFkZXIgPSBBbnlSZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbnktcmVhZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGRlY29kaW5nX2Vycm9yXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JzL2RlY29kaW5nL2RlY29kaW5nLWVycm9yXCIpO1xudmFyIHJlc3VsdF8xID0gcmVxdWlyZShcIi4uL3Jlc3VsdC9yZXN1bHRcIik7XG52YXIganN0eXBlc18xID0gcmVxdWlyZShcIi4uL2pzdHlwZXNcIik7XG52YXIgTWFwUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hcFJlYWRlcih2YWx1ZVJlYWRlcikge1xuICAgICAgICB0aGlzLnZhbHVlUmVhZGVyID0gdmFsdWVSZWFkZXI7XG4gICAgICAgIHRoaXMuZXhwZWN0ZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLk1hcCh2YWx1ZVJlYWRlci5leHBlY3RlZFR5cGUpO1xuICAgIH1cbiAgICBNYXBSZWFkZXIucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdmFyIGRlY29kZWQgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVjb2RlZFZhbHVlID0gdGhpcy52YWx1ZVJlYWRlci5yZWFkKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlY29kZWRWYWx1ZS5pc1N1Y2Nlc3MoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlZFtrZXldID0gZGVjb2RlZFZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGVTdHJpbmcgPSAneycgKyBqc3R5cGVzXzEucXVvdGUoa2V5KSArICc6IFVua25vd259JztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmpTcGVjID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5mZXJyZWRUeXBlXzEgPSBqc3R5cGVzXzEuVHlwZXMuaW5mZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZmVycmVkVHlwZV8xICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpTcGVjW2tleV0gPSBpbmZlcnJlZFR5cGVfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlU3RyaW5nID0ganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKGpzdHlwZXNfMS5UeXBlcy5PYmplY3Qob2JqU3BlYykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5mYWlsdXJlKGRlY29kaW5nX2Vycm9yXzEuSW52YWxpZFR5cGVFcnJvci5jcmVhdGUob2JqLCBqc3R5cGVzXzEuVHlwZXMudG9TdHJpbmcodGhpcy5leHBlY3RlZFR5cGUpLCB0eXBlU3RyaW5nLCBkZWNvZGVkVmFsdWUuaXNGYWlsdXJlKCkgPyBkZWNvZGVkVmFsdWUuZXJyb3IgOiB1bmRlZmluZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuc3VjY2VzcyhkZWNvZGVkKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5mZXJyZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLmluZmVyKG9iaik7XG4gICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuZmFpbHVyZShkZWNvZGluZ19lcnJvcl8xLkludmFsaWRUeXBlRXJyb3IuY3JlYXRlKG9iaiwganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKHRoaXMuZXhwZWN0ZWRUeXBlKSwgaW5mZXJyZWRUeXBlICYmIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhpbmZlcnJlZFR5cGUpIHx8ICdVbmtub3duJykpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcFJlYWRlcjtcbn0oKSk7XG5leHBvcnRzLk1hcFJlYWRlciA9IE1hcFJlYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC1yZWFkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XG4gICAgcmVzdWx0W1wiZGVmYXVsdFwiXSA9IG1vZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBlcnJvcnMgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4uL2Vycm9ycy9kZWNvZGluZy9kZWNvZGluZy1lcnJvclwiKSk7XG52YXIgcmVzdWx0XzEgPSByZXF1aXJlKFwiLi4vcmVzdWx0L3Jlc3VsdFwiKTtcbnZhciBhYnN0cmFjdF9yZWFkZXJfMSA9IHJlcXVpcmUoXCIuL2Fic3RyYWN0LXJlYWRlclwiKTtcbnZhciBleHRyYWN0X3JlYWRlcl8xID0gcmVxdWlyZShcIi4vZXh0cmFjdC1yZWFkZXJcIik7XG52YXIganN0eXBlc18xID0gcmVxdWlyZShcIi4uL2pzdHlwZXNcIik7XG52YXIgRW1wdHlPYmplY3RDb25zdHJ1Y3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRW1wdHlPYmplY3RDb25zdHJ1Y3RvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFbXB0eU9iamVjdENvbnN0cnVjdG9yKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZXhwZWN0ZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLk9iamVjdCh7fSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLy8gZXhwZWN0ZWRUeXBlcyA9IHt9O1xuICAgIEVtcHR5T2JqZWN0Q29uc3RydWN0b3IucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9O1xuICAgIEVtcHR5T2JqZWN0Q29uc3RydWN0b3IucHJvdG90eXBlLnB1dCA9IGZ1bmN0aW9uIChzLCByZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RDb25zdHJ1Y3RvcihzLCByZWFkZXIsIHRoaXMpO1xuICAgIH07XG4gICAgRW1wdHlPYmplY3RDb25zdHJ1Y3Rvci5wcm90b3R5cGUucHJvcCA9IGZ1bmN0aW9uIChzLCByZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RDb25zdHJ1Y3RvcihzLCBuZXcgZXh0cmFjdF9yZWFkZXJfMS5FeHRyYWN0UmVhZGVyKHMsIHJlYWRlciksIHRoaXMpO1xuICAgIH07XG4gICAgRW1wdHlPYmplY3RDb25zdHJ1Y3Rvci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5zdWNjZXNzKHt9KTtcbiAgICB9O1xuICAgIHJldHVybiBFbXB0eU9iamVjdENvbnN0cnVjdG9yO1xufShhYnN0cmFjdF9yZWFkZXJfMS5BYnN0cmFjdFJlYWRlcikpO1xuZXhwb3J0cy5FbXB0eU9iamVjdENvbnN0cnVjdG9yID0gRW1wdHlPYmplY3RDb25zdHJ1Y3RvcjtcbnZhciBPYmplY3RDb25zdHJ1Y3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYmplY3RDb25zdHJ1Y3Rvcihwcm9wZXJ0eSwgcmVhZGVyLCBiYXNlKSB7XG4gICAgICAgIC8vIGNvbnN0IGJhc2VFeHBlY3RlZFR5cGVzID0gYmFzZS5leHBlY3RlZFR5cGVzO1xuICAgICAgICAvLyBjb25zdCBleHBlY3RlZFR5cGVzOiB7W2s6IHN0cmluZ106IHN0cmluZ30gPSB7fTtcbiAgICAgICAgLy8gY29uc3QgZXhwZWN0ZWRUeXBlUGFpcnM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIC8vIGZvciAodmFyIGsgaW4gYmFzZUV4cGVjdGVkVHlwZXMpIHtcbiAgICAgICAgLy8gICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYmFzZUV4cGVjdGVkVHlwZXMsIGspKSB7XG4gICAgICAgIC8vICAgICBjb25zdCBiYXNlRXhwZWN0ZWRUeXBlID0gYmFzZUV4cGVjdGVkVHlwZXNba107XG4gICAgICAgIC8vICAgICBleHBlY3RlZFR5cGVzW2tdID0gYmFzZUV4cGVjdGVkVHlwZTtcbiAgICAgICAgLy8gICAgIGV4cGVjdGVkVHlwZVBhaXJzLnB1c2goVHlwZXMucXVvdGVBbmRFc2NhcGUoJ1wiJywgaykgKyAnOiAnICsgYmFzZUV4cGVjdGVkVHlwZSk7XG4gICAgICAgIC8vICAgfVxuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGV4cGVjdGVkVHlwZXNbcHJvcGVydHldID0gcmVhZGVyLmV4cGVjdGVkVHlwZTtcbiAgICAgICAgLy8gZXhwZWN0ZWRUeXBlUGFpcnMucHVzaChUeXBlcy5xdW90ZUFuZEVzY2FwZSgnXCInLCBwcm9wZXJ0eSkgKyAnOiAnICsgcmVhZGVyLmV4cGVjdGVkVHlwZSk7XG4gICAgICAgIC8vIHRoaXMuZXhwZWN0ZWRUeXBlcyA9IGV4cGVjdGVkVHlwZXM7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDb21iaW5pbmcnLCByZWFkZXIuZXhwZWN0ZWRUeXBlLCAnYW5kJywgYmFzZS5leHBlY3RlZFR5cGUpO1xuICAgICAgICB2YXIgY29tYmluZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLmNvbWJpbmUoYmFzZS5leHBlY3RlZFR5cGUsIHJlYWRlci5leHBlY3RlZFR5cGUpO1xuICAgICAgICBjb25zb2xlLmxvZygnQ29tYmluZWQ6JywgY29tYmluZWRUeXBlKTtcbiAgICAgICAgaWYgKGNvbWJpbmVkVHlwZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignVW5hYmxlIHRvIGNvbWJpbmUgdHlwZXM6ICcgKyBiYXNlLmV4cGVjdGVkVHlwZS50b1N0cmluZygpICsgJyBhbmQgJyArIHJlYWRlci5leHBlY3RlZFR5cGUudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5leHBlY3RlZFR5cGUgPSBjb21iaW5lZFR5cGU7IC8vIFsneycsIGV4cGVjdGVkVHlwZVBhaXJzLmpvaW4oJywgJyksICd9J10uam9pbignJyk7XG4gICAgICAgIHRoaXMucHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgICAgICAgdGhpcy5yZWFkZXIgPSByZWFkZXI7XG4gICAgICAgIHRoaXMuYmFzZSA9IGJhc2U7XG4gICAgfVxuICAgIE9iamVjdENvbnN0cnVjdG9yLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07XG4gICAgT2JqZWN0Q29uc3RydWN0b3IucHJvdG90eXBlLnB1dCA9IGZ1bmN0aW9uIChzLCByZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RDb25zdHJ1Y3RvcihzLCByZWFkZXIsIHRoaXMpO1xuICAgIH07XG4gICAgT2JqZWN0Q29uc3RydWN0b3IucHJvdG90eXBlLnByb3AgPSBmdW5jdGlvbiAocywgcmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JqZWN0Q29uc3RydWN0b3IocywgbmV3IGV4dHJhY3RfcmVhZGVyXzEuRXh0cmFjdFJlYWRlcihzLCByZWFkZXIpLCB0aGlzKTtcbiAgICB9O1xuICAgIE9iamVjdENvbnN0cnVjdG9yLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlLnJlYWQob2JqKS5mbGF0TWFwKGZ1bmN0aW9uIChiYXNlU3VjY2Vzcykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlYWRlci5yZWFkKG9iaikubWFwU3VjY2VzcyhmdW5jdGlvbiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzT2JqID0gYmFzZVN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgc3VjY2Vzc09ialtfdGhpcy5wcm9wZXJ0eV0gPSBzdWNjZXNzO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWNjZXNzT2JqO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChmYWlsdXJlKSB7XG4gICAgICAgICAgICBpZiAoZmFpbHVyZS50eXBlID09ICdpbnZhbGlkLXR5cGUnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZmVycmVkID0ganN0eXBlc18xLlR5cGVzLmluZmVyKG9iaik7XG4gICAgICAgICAgICAgICAgdmFyIHR5cGVTdHJpbmcgPSBpbmZlcnJlZCAmJiBqc3R5cGVzXzEuVHlwZXMudG9TdHJpbmcoaW5mZXJyZWQpIHx8ICdVbmtub3duJztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XzEuUmVzdWx0LmZhaWx1cmUoZXJyb3JzLkludmFsaWRUeXBlRXJyb3IuY3JlYXRlKG9iaiwganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKF90aGlzLmV4cGVjdGVkVHlwZSksIHR5cGVTdHJpbmcsIGZhaWx1cmUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuZmFpbHVyZShmYWlsdXJlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0Q29uc3RydWN0b3I7XG59KCkpO1xuZXhwb3J0cy5PYmplY3RDb25zdHJ1Y3RvciA9IE9iamVjdENvbnN0cnVjdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JqZWN0LXJlYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcbiAgICByZXN1bHRbXCJkZWZhdWx0XCJdID0gbW9kO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGVycm9ycyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi4vZXJyb3JzL2RlY29kaW5nL2RlY29kaW5nLWVycm9yXCIpKTtcbnZhciByZXN1bHRfMSA9IHJlcXVpcmUoXCIuLi9yZXN1bHQvcmVzdWx0XCIpO1xudmFyIGFic3RyYWN0X3JlYWRlcl8xID0gcmVxdWlyZShcIi4vYWJzdHJhY3QtcmVhZGVyXCIpO1xudmFyIGpzdHlwZXNfMSA9IHJlcXVpcmUoXCIuLi9qc3R5cGVzXCIpO1xudmFyIEVudW1Ob01hdGNoRXJyb3I7XG4oZnVuY3Rpb24gKEVudW1Ob01hdGNoRXJyb3IpIHtcbiAgICBmdW5jdGlvbiBjcmVhdGUodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZW51bS1uby1tYXRjaCcsXG4gICAgICAgICAgICB2YWxpZFZhbHVlczogdmFsdWVzXG4gICAgICAgIH07XG4gICAgfVxuICAgIEVudW1Ob01hdGNoRXJyb3IuY3JlYXRlID0gY3JlYXRlO1xufSkoRW51bU5vTWF0Y2hFcnJvciB8fCAoRW51bU5vTWF0Y2hFcnJvciA9IHt9KSk7XG52YXIgRW1wdHlFbnVtUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVtcHR5RW51bVJlYWRlcigpIHtcbiAgICAgICAgdGhpcy5leHBlY3RlZFR5cGUgPSBqc3R5cGVzXzEuVHlwZXMuVW5pb24oW10pO1xuICAgICAgICB0aGlzLmV4cGVjdGVkVmFsdWVzID0gW107XG4gICAgfVxuICAgIEVtcHR5RW51bVJlYWRlci5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgRW1wdHlFbnVtUmVhZGVyLnByb3RvdHlwZS5jYXNlID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbnVtVmFsdWVSZWFkZXIocywgdGhpcyk7XG4gICAgfTtcbiAgICBFbXB0eUVudW1SZWFkZXIucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIGluZmVycmVkID0ganN0eXBlc18xLlR5cGVzLmluZmVyKG9iaik7XG4gICAgICAgICAgICB2YXIgdHlwZVN0cmluZyA9IGluZmVycmVkICYmIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhpbmZlcnJlZCkgfHwgJ1Vua25vd24nO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5mYWlsdXJlKGVycm9ycy5JbnZhbGlkVHlwZUVycm9yLmNyZWF0ZShvYmosIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhqc3R5cGVzXzEuVHlwZXMuU3RyaW5nKSwgdHlwZVN0cmluZykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuZmFpbHVyZShFbnVtTm9NYXRjaEVycm9yLmNyZWF0ZShbXSkpO1xuICAgIH07XG4gICAgcmV0dXJuIEVtcHR5RW51bVJlYWRlcjtcbn0oKSk7XG52YXIgRW51bVZhbHVlUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVudW1WYWx1ZVJlYWRlcih2YWx1ZSwgYmFzZVJlYWRlcikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuYmFzZVJlYWRlciA9IGJhc2VSZWFkZXI7XG4gICAgICAgIHRoaXMuZXhwZWN0ZWRWYWx1ZXMgPSBiYXNlUmVhZGVyLmV4cGVjdGVkVmFsdWVzLmNvbmNhdChbdmFsdWVdKTtcbiAgICB9XG4gICAgRW51bVZhbHVlUmVhZGVyLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07XG4gICAgRW51bVZhbHVlUmVhZGVyLnByb3RvdHlwZS5jYXNlID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbnVtVmFsdWVSZWFkZXIocywgdGhpcyk7XG4gICAgfTtcbiAgICBFbnVtVmFsdWVSZWFkZXIucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIGluZmVycmVkID0ganN0eXBlc18xLlR5cGVzLmluZmVyKG9iaik7XG4gICAgICAgICAgICB2YXIgdHlwZVN0cmluZyA9IGluZmVycmVkICYmIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhpbmZlcnJlZCkgfHwgJ1Vua25vd24nO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5mYWlsdXJlKGVycm9ycy5JbnZhbGlkVHlwZUVycm9yLmNyZWF0ZShvYmosIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhqc3R5cGVzXzEuVHlwZXMuU3RyaW5nKSwgdHlwZVN0cmluZykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmogPT09IHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuc3VjY2Vzcyh0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlUmVhZGVyLnJlYWQob2JqKS5tYXBGYWlsdXJlKGZ1bmN0aW9uIChmYWlsdXJlKSB7XG4gICAgICAgICAgICBpZiAoZmFpbHVyZS50eXBlID09PSAnZW51bS1uby1tYXRjaCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRW51bU5vTWF0Y2hFcnJvci5jcmVhdGUoZmFpbHVyZS52YWxpZFZhbHVlcy5jb25jYXQoW190aGlzLnZhbHVlXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhaWx1cmU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEVudW1WYWx1ZVJlYWRlcjtcbn0oKSk7XG52YXIgRW51bVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRW51bVJlYWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFbnVtUmVhZGVyKGJhc2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYmFzZSA9IGJhc2U7XG4gICAgICAgIF90aGlzLmV4cGVjdGVkVHlwZSA9IGpzdHlwZXNfMS5UeXBlcy5VbmlvbihiYXNlLmV4cGVjdGVkVmFsdWVzLm1hcChmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4ganN0eXBlc18xLlR5cGVzLlN0cmluZ1ZhbHVlKHR5cGUpOyB9KSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRW51bVJlYWRlci5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRW51bVJlYWRlcihuZXcgRW1wdHlFbnVtUmVhZGVyKCkpO1xuICAgIH07XG4gICAgRW51bVJlYWRlci5wcm90b3R5cGUuY2FzZSA9IGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBuZXcgRW51bVJlYWRlcih0aGlzLmJhc2UuY2FzZShzKSk7XG4gICAgfTtcbiAgICBFbnVtUmVhZGVyLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlLnJlYWQob2JqKS5tYXBGYWlsdXJlKGZ1bmN0aW9uIChmYWlsdXJlKSB7XG4gICAgICAgICAgICBpZiAoZmFpbHVyZS50eXBlID09PSAnZW51bS1uby1tYXRjaCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5mZXJyZWQgPSBqc3R5cGVzXzEuVHlwZXMuaW5mZXIob2JqKTtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZVN0cmluZyA9IGluZmVycmVkICYmIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhpbmZlcnJlZCkgfHwgJ1Vua25vd24nO1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcnMuSW52YWxpZFR5cGVFcnJvci5jcmVhdGUob2JqLCBqc3R5cGVzXzEuVHlwZXMudG9TdHJpbmcoX3RoaXMuZXhwZWN0ZWRUeXBlKSwgdHlwZVN0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFpbHVyZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRW51bVJlYWRlcjtcbn0oYWJzdHJhY3RfcmVhZGVyXzEuQWJzdHJhY3RSZWFkZXIpKTtcbmV4cG9ydHMuRW51bVJlYWRlciA9IEVudW1SZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnVtLXJlYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGRlY29kaW5nX2Vycm9yXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JzL2RlY29kaW5nL2RlY29kaW5nLWVycm9yXCIpO1xudmFyIHJlc3VsdF8xID0gcmVxdWlyZShcIi4uL3Jlc3VsdC9yZXN1bHRcIik7XG52YXIgYWJzdHJhY3RfcmVhZGVyXzEgPSByZXF1aXJlKFwiLi9hYnN0cmFjdC1yZWFkZXJcIik7XG52YXIganN0eXBlc18xID0gcmVxdWlyZShcIi4uL2pzdHlwZXNcIik7XG52YXIgQXJyYXlSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFycmF5UmVhZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFycmF5UmVhZGVyKHJlYWRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5yZWFkZXIgPSByZWFkZXI7XG4gICAgICAgIF90aGlzLmV4cGVjdGVkVHlwZSA9IGpzdHlwZXNfMS5UeXBlcy5BcnJheShyZWFkZXIuZXhwZWN0ZWRUeXBlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBcnJheVJlYWRlci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqLmxlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBhcnJheSA9IG9iajtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gYXJyYXkubWFwKGZ1bmN0aW9uICh2LCBpbmRleCkgeyByZXR1cm4gX3RoaXMucmVhZGVyLnJlYWQodikubWFwRmFpbHVyZShmdW5jdGlvbiAoZSkgeyByZXR1cm4gKHsgaW5kZXg6IGluZGV4LCBlcnJvcjogZSB9KTsgfSk7IH0pO1xuICAgICAgICAgICAgcmVzdWx0XzEuUmVzdWx0LmFsbChyZXN1bHRzKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuYWxsKHJlc3VsdHMpXG4gICAgICAgICAgICAgICAgLm1hcEZhaWx1cmUoZnVuY3Rpb24gKGVycm9ycykgeyByZXR1cm4gZGVjb2RpbmdfZXJyb3JfMS5FcnJvckdyb3VwLmNyZWF0ZShvYmosIGVycm9ycy5tYXAoZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBkZWNvZGluZ19lcnJvcl8xLkFycmF5Q2hpbGRFcnJvci5jcmVhdGUoZXJyb3IuaW5kZXgsIGVycm9yLmVycm9yKTsgfSkpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5mZXJyZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLmluZmVyKG9iaik7XG4gICAgICAgIHZhciB0eXBlU3RyaW5nID0gaW5mZXJyZWRUeXBlICYmIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhpbmZlcnJlZFR5cGUpIHx8ICdVbmtub3duJztcbiAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5mYWlsdXJlKGRlY29kaW5nX2Vycm9yXzEuSW52YWxpZFR5cGVFcnJvci5jcmVhdGUob2JqLCB0aGlzLmV4cGVjdGVkVHlwZS50b1N0cmluZygpLCB0eXBlU3RyaW5nKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQXJyYXlSZWFkZXI7XG59KGFic3RyYWN0X3JlYWRlcl8xLkFic3RyYWN0UmVhZGVyKSk7XG5leHBvcnRzLkFycmF5UmVhZGVyID0gQXJyYXlSZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcnJheS1yZWFkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkZWNvZGluZ19lcnJvcl8xID0gcmVxdWlyZShcIi4uL2Vycm9ycy9kZWNvZGluZy9kZWNvZGluZy1lcnJvclwiKTtcbnZhciByZXN1bHRfMSA9IHJlcXVpcmUoXCIuLi9yZXN1bHQvcmVzdWx0XCIpO1xudmFyIGFic3RyYWN0X3JlYWRlcl8xID0gcmVxdWlyZShcIi4vYWJzdHJhY3QtcmVhZGVyXCIpO1xudmFyIGpzdHlwZXNfMSA9IHJlcXVpcmUoXCIuLi9qc3R5cGVzXCIpO1xudmFyIFByaW1pdGl2ZVJlYWRlcnM7XG4oZnVuY3Rpb24gKFByaW1pdGl2ZVJlYWRlcnMpIHtcbiAgICB2YXIgQm9vbGVhblJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKEJvb2xlYW5SZWFkZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEJvb2xlYW5SZWFkZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLmV4cGVjdGVkVHlwZSA9IGpzdHlwZXNfMS5UeXBlcy5Cb29sZWFuO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIEJvb2xlYW5SZWFkZXIucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5zdWNjZXNzKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5mZXJyZWQgPSBqc3R5cGVzXzEuVHlwZXMuaW5mZXIob2JqKTtcbiAgICAgICAgICAgIHZhciB0eXBlU3RyaW5nID0gaW5mZXJyZWQgJiYganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKGluZmVycmVkKSB8fCAnVW5rbm93bic7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XzEuUmVzdWx0LmZhaWx1cmUoZGVjb2RpbmdfZXJyb3JfMS5JbnZhbGlkVHlwZUVycm9yLmNyZWF0ZShvYmosIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyh0aGlzLmV4cGVjdGVkVHlwZSksIHR5cGVTdHJpbmcpKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW5SZWFkZXI7XG4gICAgfShhYnN0cmFjdF9yZWFkZXJfMS5BYnN0cmFjdFJlYWRlcikpO1xuICAgIFByaW1pdGl2ZVJlYWRlcnMuQm9vbGVhblJlYWRlciA9IEJvb2xlYW5SZWFkZXI7XG4gICAgdmFyIFN0cmluZ1JlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKFN0cmluZ1JlYWRlciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gU3RyaW5nUmVhZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy5leHBlY3RlZFR5cGUgPSBqc3R5cGVzXzEuVHlwZXMuU3RyaW5nO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIFN0cmluZ1JlYWRlci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuc3VjY2VzcyhvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluZmVycmVkID0ganN0eXBlc18xLlR5cGVzLmluZmVyKG9iaik7XG4gICAgICAgICAgICB2YXIgdHlwZVN0cmluZyA9IGluZmVycmVkICYmIGpzdHlwZXNfMS5UeXBlcy50b1N0cmluZyhpbmZlcnJlZCkgfHwgJ1Vua25vd24nO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xLlJlc3VsdC5mYWlsdXJlKGRlY29kaW5nX2Vycm9yXzEuSW52YWxpZFR5cGVFcnJvci5jcmVhdGUob2JqLCBqc3R5cGVzXzEuVHlwZXMudG9TdHJpbmcodGhpcy5leHBlY3RlZFR5cGUpLCB0eXBlU3RyaW5nKSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBTdHJpbmdSZWFkZXI7XG4gICAgfShhYnN0cmFjdF9yZWFkZXJfMS5BYnN0cmFjdFJlYWRlcikpO1xuICAgIFByaW1pdGl2ZVJlYWRlcnMuU3RyaW5nUmVhZGVyID0gU3RyaW5nUmVhZGVyO1xuICAgIHZhciBOdW1iZXJSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhOdW1iZXJSZWFkZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIE51bWJlclJlYWRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMuZXhwZWN0ZWRUeXBlID0ganN0eXBlc18xLlR5cGVzLk51bWJlcjtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBOdW1iZXJSZWFkZXIucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XzEuUmVzdWx0LnN1Y2Nlc3Mob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbmZlcnJlZCA9IGpzdHlwZXNfMS5UeXBlcy5pbmZlcihvYmopO1xuICAgICAgICAgICAgdmFyIHR5cGVTdHJpbmcgPSBpbmZlcnJlZCAmJiBqc3R5cGVzXzEuVHlwZXMudG9TdHJpbmcoaW5mZXJyZWQpIHx8ICdVbmtub3duJztcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRfMS5SZXN1bHQuZmFpbHVyZShkZWNvZGluZ19lcnJvcl8xLkludmFsaWRUeXBlRXJyb3IuY3JlYXRlKG9iaiwganN0eXBlc18xLlR5cGVzLnRvU3RyaW5nKHRoaXMuZXhwZWN0ZWRUeXBlKSwgdHlwZVN0cmluZykpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gTnVtYmVyUmVhZGVyO1xuICAgIH0oYWJzdHJhY3RfcmVhZGVyXzEuQWJzdHJhY3RSZWFkZXIpKTtcbiAgICBQcmltaXRpdmVSZWFkZXJzLk51bWJlclJlYWRlciA9IE51bWJlclJlYWRlcjtcbn0pKFByaW1pdGl2ZVJlYWRlcnMgPSBleHBvcnRzLlByaW1pdGl2ZVJlYWRlcnMgfHwgKGV4cG9ydHMuUHJpbWl0aXZlUmVhZGVycyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmltaXRpdmUtcmVhZGVycy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIHVucmVhY2hhYmxlKG1lc3NhZ2UpIHtcbiAgICB2YXIgbXNnID0gJ0ZBVEFMIEVSUk9SIChVTlJFQUNIQUJMRSknICsgKG1lc3NhZ2UgJiYgKCc6ICcgKyBtZXNzYWdlKSB8fCAnJyk7XG4gICAgdGhyb3cgRXJyb3IobXNnKTtcbn1cbmV4cG9ydHMudW5yZWFjaGFibGUgPSB1bnJlYWNoYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVucmVhY2hhYmxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlc3VsdEZhaWx1cmVJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc3VsdEZhaWx1cmVJbXBsKGVycm9yKSB7XG4gICAgICAgIHRoaXMudHlwZSA9ICdmYWlsdXJlJztcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbiAgICBSZXN1bHRGYWlsdXJlSW1wbC5wcm90b3R5cGUuaXNTdWNjZXNzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07XG4gICAgUmVzdWx0RmFpbHVyZUltcGwucHJvdG90eXBlLmlzRmFpbHVyZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgUmVzdWx0RmFpbHVyZUltcGwucHJvdG90eXBlLmFzc2VydFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7IHRocm93IEVycm9yKCdSZXN1bHQgaXMgbm90IGEgU3VjY2VzcyByZXN1bHQuJyk7IH07XG4gICAgUmVzdWx0RmFpbHVyZUltcGwucHJvdG90eXBlLmFzc2VydEZhaWx1cmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmVycm9yOyB9O1xuICAgIFJlc3VsdEZhaWx1cmVJbXBsLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoc3VjY2VzcywgZmFpbHVyZSkge1xuICAgICAgICByZXR1cm4gZmFpbHVyZSh0aGlzLmVycm9yKTtcbiAgICB9O1xuICAgIFJlc3VsdEZhaWx1cmVJbXBsLnByb3RvdHlwZS5mbGF0TWFwID0gZnVuY3Rpb24gKHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICAgICAgcmV0dXJuIGZhaWx1cmUodGhpcy5lcnJvcik7XG4gICAgfTtcbiAgICBSZXN1bHRGYWlsdXJlSW1wbC5wcm90b3R5cGUubWFwU3VjY2VzcyA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzdWx0RmFpbHVyZUltcGwodGhpcy5lcnJvcik7XG4gICAgfTtcbiAgICBSZXN1bHRGYWlsdXJlSW1wbC5wcm90b3R5cGUubWFwRmFpbHVyZSA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzdWx0RmFpbHVyZUltcGwoZih0aGlzLmVycm9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzdWx0RmFpbHVyZUltcGw7XG59KCkpO1xuZXhwb3J0cy5SZXN1bHRGYWlsdXJlSW1wbCA9IFJlc3VsdEZhaWx1cmVJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFpbHVyZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZXN1bHRTdWNjZXNzSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXN1bHRTdWNjZXNzSW1wbCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnR5cGUgPSAnc3VjY2Vzcyc7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgUmVzdWx0U3VjY2Vzc0ltcGwucHJvdG90eXBlLmlzU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgUmVzdWx0U3VjY2Vzc0ltcGwucHJvdG90eXBlLmlzRmFpbHVyZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9O1xuICAgIFJlc3VsdFN1Y2Nlc3NJbXBsLnByb3RvdHlwZS5hc3NlcnRTdWNjZXNzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy52YWx1ZTsgfTtcbiAgICBSZXN1bHRTdWNjZXNzSW1wbC5wcm90b3R5cGUuYXNzZXJ0RmFpbHVyZSA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgRXJyb3IoJ1Jlc3VsdCBpcyBub3QgYSBGYWlsdXJlIHJlc3VsdC4nKTsgfTtcbiAgICBSZXN1bHRTdWNjZXNzSW1wbC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3ModGhpcy52YWx1ZSk7XG4gICAgfTtcbiAgICBSZXN1bHRTdWNjZXNzSW1wbC5wcm90b3R5cGUuZmxhdE1hcCA9IGZ1bmN0aW9uIChzdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgICAgIHJldHVybiBzdWNjZXNzKHRoaXMudmFsdWUpO1xuICAgIH07XG4gICAgUmVzdWx0U3VjY2Vzc0ltcGwucHJvdG90eXBlLm1hcFN1Y2Nlc3MgPSBmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gbmV3IFJlc3VsdFN1Y2Nlc3NJbXBsKGYodGhpcy52YWx1ZSkpO1xuICAgIH07XG4gICAgUmVzdWx0U3VjY2Vzc0ltcGwucHJvdG90eXBlLm1hcEZhaWx1cmUgPSBmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gbmV3IFJlc3VsdFN1Y2Nlc3NJbXBsKHRoaXMudmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc3VsdFN1Y2Nlc3NJbXBsO1xufSgpKTtcbmV4cG9ydHMuUmVzdWx0U3VjY2Vzc0ltcGwgPSBSZXN1bHRTdWNjZXNzSW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1Y2Nlc3MuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYWJzdHJhY3RfcmVhZGVyXzEgPSByZXF1aXJlKFwiLi9yZWFkZXJzL2Fic3RyYWN0LXJlYWRlclwiKTtcbnZhciBwcmltaXRpdmVfcmVhZGVyc18xID0gcmVxdWlyZShcIi4vcmVhZGVycy9wcmltaXRpdmUtcmVhZGVyc1wiKTtcbnZhciBhcnJheV9yZWFkZXJfMSA9IHJlcXVpcmUoXCIuL3JlYWRlcnMvYXJyYXktcmVhZGVyXCIpO1xudmFyIGV4dHJhY3RfcmVhZGVyXzEgPSByZXF1aXJlKFwiLi9yZWFkZXJzL2V4dHJhY3QtcmVhZGVyXCIpO1xudmFyIGVudW1fcmVhZGVyXzEgPSByZXF1aXJlKFwiLi9yZWFkZXJzL2VudW0tcmVhZGVyXCIpO1xudmFyIG9iamVjdF9yZWFkZXJfMSA9IHJlcXVpcmUoXCIuL3JlYWRlcnMvb2JqZWN0LXJlYWRlclwiKTtcbnZhciBtYXBfcmVhZGVyXzEgPSByZXF1aXJlKFwiLi9yZWFkZXJzL21hcC1yZWFkZXJcIik7XG52YXIgYW55X3JlYWRlcl8xID0gcmVxdWlyZShcIi4vcmVhZGVycy9hbnktcmVhZGVyXCIpO1xudmFyIGFic3RyYWN0X3JlYWRlcl8yID0gcmVxdWlyZShcIi4vcmVhZGVycy9hYnN0cmFjdC1yZWFkZXJcIik7XG5leHBvcnRzLkFic3RyYWN0UmVhZGVyID0gYWJzdHJhY3RfcmVhZGVyXzIuQWJzdHJhY3RSZWFkZXI7XG52YXIganN0eXBlc18xID0gcmVxdWlyZShcIi4vanN0eXBlc1wiKTtcbmV4cG9ydHMuVHlwZXMgPSBqc3R5cGVzXzEuVHlwZXM7XG52YXIgVHNKc29uO1xuKGZ1bmN0aW9uIChUc0pzb24pIHtcbiAgICBUc0pzb24ubnVtYmVyID0gbmV3IHByaW1pdGl2ZV9yZWFkZXJzXzEuUHJpbWl0aXZlUmVhZGVycy5OdW1iZXJSZWFkZXIoKTtcbiAgICBUc0pzb24uc3RyaW5nID0gbmV3IHByaW1pdGl2ZV9yZWFkZXJzXzEuUHJpbWl0aXZlUmVhZGVycy5TdHJpbmdSZWFkZXIoKTtcbiAgICBUc0pzb24uYm9vbGVhbiA9IG5ldyBwcmltaXRpdmVfcmVhZGVyc18xLlByaW1pdGl2ZVJlYWRlcnMuQm9vbGVhblJlYWRlcigpO1xuICAgIFRzSnNvbi5hbnl0aGluZyA9IG5ldyBhbnlfcmVhZGVyXzEuQW55UmVhZGVyKCk7XG4gICAgZnVuY3Rpb24gb3B0aW9uYWwocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgYWJzdHJhY3RfcmVhZGVyXzEuT3B0aW9uYWxSZWFkZXIocmVhZGVyKTtcbiAgICB9XG4gICAgVHNKc29uLm9wdGlvbmFsID0gb3B0aW9uYWw7XG4gICAgZnVuY3Rpb24gYXJyYXkocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgYXJyYXlfcmVhZGVyXzEuQXJyYXlSZWFkZXIocmVhZGVyKTtcbiAgICB9XG4gICAgVHNKc29uLmFycmF5ID0gYXJyYXk7XG4gICAgZnVuY3Rpb24gZXh0cmFjdChwcm9wZXJ0eSwgcmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgZXh0cmFjdF9yZWFkZXJfMS5FeHRyYWN0UmVhZGVyKHByb3BlcnR5LCByZWFkZXIpO1xuICAgIH1cbiAgICBUc0pzb24uZXh0cmFjdCA9IGV4dHJhY3Q7XG4gICAgZnVuY3Rpb24gZW51bWVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBlbnVtX3JlYWRlcl8xLkVudW1SZWFkZXIuY3JlYXRlKCk7XG4gICAgfVxuICAgIFRzSnNvbi5lbnVtZXJhdGlvbiA9IGVudW1lcmF0aW9uO1xuICAgIGZ1bmN0aW9uIG1hcCh2YWx1ZVJlYWRlcikge1xuICAgICAgICByZXR1cm4gbmV3IG1hcF9yZWFkZXJfMS5NYXBSZWFkZXIodmFsdWVSZWFkZXIpO1xuICAgIH1cbiAgICBUc0pzb24ubWFwID0gbWFwO1xuICAgIGZ1bmN0aW9uIG9iaigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBvYmplY3RfcmVhZGVyXzEuRW1wdHlPYmplY3RDb25zdHJ1Y3RvcigpO1xuICAgIH1cbiAgICBUc0pzb24ub2JqID0gb2JqO1xufSkoVHNKc29uID0gZXhwb3J0cy5Uc0pzb24gfHwgKGV4cG9ydHMuVHNKc29uID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=